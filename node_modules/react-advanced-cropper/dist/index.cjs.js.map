{"version":3,"file":"index.cjs.js","sources":["../../../Advanced Cropper/advanced-cropper/dist/utils/index.js","../../../Advanced Cropper/advanced-cropper/dist/constants/index.js","../../../Advanced Cropper/advanced-cropper/dist/service/utils.js","../../../Advanced Cropper/advanced-cropper/dist/service/helpers.js","../../../Advanced Cropper/advanced-cropper/dist/service/sizeRestrictions.js","../../../Advanced Cropper/advanced-cropper/dist/state/copyState.js","../../../Advanced Cropper/advanced-cropper/dist/types/index.js","../../../Advanced Cropper/advanced-cropper/dist/service/approximateSize.js","../../../Advanced Cropper/advanced-cropper/dist/service/fitVisibleArea.js","../../../Advanced Cropper/advanced-cropper/dist/algorithms/moveCoordinatesAlgorithm.js","../../../Advanced Cropper/advanced-cropper/dist/state/setCoordinates.js","../../../Advanced Cropper/advanced-cropper/dist/service/fitCoordinates.js","../../../Advanced Cropper/advanced-cropper/dist/state/setVisibleArea.js","../../../Advanced Cropper/advanced-cropper/dist/state/createState.js","../../../Advanced Cropper/advanced-cropper/dist/state/moveCoordinates.js","../../../Advanced Cropper/advanced-cropper/dist/algorithms/resizeCoordinatesAlgorithm.js","../../../Advanced Cropper/advanced-cropper/dist/state/resizeCoordinates.js","../../../Advanced Cropper/advanced-cropper/dist/state/setBoundary.js","../../../Advanced Cropper/advanced-cropper/dist/algorithms/rotateImageAlgorithm.js","../../../Advanced Cropper/advanced-cropper/dist/algorithms/flipImageAlgorithm.js","../../../Advanced Cropper/advanced-cropper/dist/algorithms/transformImageAlgorithm.js","../../../Advanced Cropper/advanced-cropper/dist/state/transformImage.js","../../../Advanced Cropper/advanced-cropper/dist/state/reconcileState.js","../../../Advanced Cropper/advanced-cropper/dist/service/normalize.js","../../../Advanced Cropper/advanced-cropper/dist/service/imageTransforms.js","../../../Advanced Cropper/advanced-cropper/dist/service/isEqualState.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultPositionRestrictions.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultVisibleArea.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultSize.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultSizeRestrictions.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultPosition.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultAreaPositionRestrictions.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultAreaSizeRestrictions.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultBoundary.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/defaultStencilConstraints.js","../../../Advanced Cropper/advanced-cropper/dist/defaults/index.js","../../../Advanced Cropper/advanced-cropper/dist/service/interactions.js","../../../Advanced Cropper/advanced-cropper/dist/instance/AbstractCropper.js","../../../Advanced Cropper/advanced-cropper/dist/instance/CropperInstance.js","../../../Advanced Cropper/advanced-cropper/dist/animation/index.js","../../../Advanced Cropper/advanced-cropper/dist/canvas/index.js","../../../Advanced Cropper/advanced-cropper/dist/boundary/index.js","../../../Advanced Cropper/advanced-cropper/dist/image/index.js","../src/service/cropper.ts","../src/deprecated/hybridAutoZoom.ts","../src/service/utils.ts","../src/hooks/useDeprecationWarning.ts","../src/hooks/useWindowResize.ts","../src/hooks/useCropperImage.ts","../src/hooks/useForceRerender.ts","../src/hooks/useCropperProps.ts","../src/hooks/useCropperState.ts","../src/service/react.ts","../src/hooks/useFirstMountState.ts","../src/hooks/useUpdateEffect.ts","../src/hooks/useStateWithCallback.ts","../src/components/service/StretchableBoundary.tsx","../src/components/service/CropperFade.tsx","../src/components/service/CropperWrapper.tsx","../src/service/events.ts","../src/components/service/CropperBackgroundImage.tsx","../src/components/service/CropperCanvas.tsx","../src/components/service/DraggableElement.tsx","../src/components/service/LineWrapper.tsx","../src/components/lines/SimpleLine.tsx","../src/components/service/HandlerWrapper.tsx","../src/components/handlers/SimpleHandler.tsx","../src/components/service/BoundingBox.tsx","../src/components/service/StencilOverlay.tsx","../src/hooks/useAnimatedState.ts","../src/components/service/ArtificialTransition.tsx","../src/components/service/StencilWrapper.tsx","../src/components/service/StencilGrid.tsx","../src/components/stencils/RectangleStencil.tsx","../src/hooks/useRotateImageOptions.ts","../src/hooks/useScaleImageOptions.ts","../src/hooks/useMoveImageOptions.ts","../src/components/service/TransformableImage.tsx","../src/components/service/CropperBackgroundWrapper.tsx","../src/components/AbstractCropper.tsx","../../../Advanced Cropper/advanced-cropper/dist/extensions/stencil-size/index.js","../src/components/croppers/FixedCropper.tsx","../src/components/croppers/Cropper.tsx","../src/components/stencils/CircleStencil.tsx","../src/components/helpers/CropperPreview.tsx"],"sourcesContent":["function getDirectionNames(hDirection, vDirection) {\n    var camelCase, snakeCase;\n    if (hDirection && vDirection) {\n        camelCase = \"\" + hDirection + vDirection[0].toUpperCase() + vDirection.slice(1);\n        snakeCase = hDirection + \"-\" + vDirection;\n    }\n    else {\n        camelCase = hDirection || vDirection;\n        snakeCase = hDirection || vDirection;\n    }\n    return { camelCase: camelCase, snakeCase: snakeCase };\n}\nfunction isBlob(url) {\n    return /^blob:/.test(url);\n}\nfunction isDataUrl(url) {\n    return /^data:/.test(url);\n}\nfunction isLocal(url) {\n    return isBlob(url) || isDataUrl(url);\n}\nfunction isCrossOriginURL(url) {\n    if (isLocal(url)) {\n        return false;\n    }\n    var pageLocation = window.location;\n    var URL_HOST_PATTERN = /(\\w+:)?(?:\\/\\/)([\\w.-]+)?(?::(\\d+))?\\/?/;\n    var urlMatch = URL_HOST_PATTERN.exec(url) || [];\n    var urlparts = {\n        protocol: urlMatch[1] || '',\n        host: urlMatch[2] || '',\n        port: urlMatch[3] || '',\n    };\n    var defaultPort = function (protocol) {\n        if (protocol === 'http') {\n            return 80;\n        }\n        else {\n            return 433;\n        }\n    };\n    var portOf = function (location) {\n        return location.port || defaultPort((location.protocol || pageLocation.protocol));\n    };\n    return !((!urlparts.protocol && !urlparts.host && !urlparts.port) ||\n        Boolean(urlparts.protocol &&\n            urlparts.protocol == pageLocation.protocol &&\n            urlparts.host &&\n            urlparts.host == pageLocation.host &&\n            urlparts.host &&\n            portOf(urlparts) == portOf(pageLocation)));\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isUndefined(obj) {\n    return obj === undefined;\n}\nvar isObject = function (term) {\n    return term !== null && typeof term === 'object';\n};\n// TODO: add the typing\nfunction getOptions(options, defaultScheme, falseScheme) {\n    if (falseScheme === void 0) { falseScheme = {}; }\n    var result = {};\n    if (isObject(options)) {\n        Object.keys(defaultScheme).forEach(function (key) {\n            if (isUndefined(options[key])) {\n                result[key] = defaultScheme[key];\n            }\n            else if (isObject(defaultScheme[key])) {\n                if (isObject(options[key])) {\n                    result[key] = getOptions(options[key], defaultScheme[key], falseScheme[key]);\n                }\n                else {\n                    result[key] = options[key] ? defaultScheme[key] : falseScheme[key];\n                }\n            }\n            else if (defaultScheme[key] === true || defaultScheme[key] === false) {\n                result[key] = Boolean(options[key]);\n            }\n            else {\n                result[key] = options[key];\n            }\n        });\n        return result;\n    }\n    else {\n        if (options) {\n            return defaultScheme;\n        }\n        else {\n            return falseScheme;\n        }\n    }\n}\nfunction parseNumber(number) {\n    var parsedNumber = Number(number);\n    if (Number.isNaN(parsedNumber)) {\n        return number;\n    }\n    else {\n        return parsedNumber;\n    }\n}\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isNaN(value) {\n    return value !== value;\n}\nfunction isNumeric(value) {\n    return ((isNumber(value) && !isNaN(value)) ||\n        (isString(value) && !Number.isNaN(parseFloat(value)) && isFinite(parseFloat(value))));\n}\nfunction distance(firstPoint, secondPoint) {\n    return Math.sqrt(Math.pow(firstPoint.left - secondPoint.left, 2) + Math.pow(firstPoint.top - secondPoint.top, 2));\n}\nfunction isRoughlyEqual(a, b, tolerance) {\n    if (tolerance === void 0) { tolerance = 1e-3; }\n    return Math.abs(b - a) < tolerance;\n}\nfunction isGreater(a, b, tolerance) {\n    return isRoughlyEqual(a, b, tolerance) ? false : a > b;\n}\nfunction isLower(a, b, tolerance) {\n    return isRoughlyEqual(a, b, tolerance) ? false : a < b;\n}\nfunction isArrayBufferLike(value) {\n    return value instanceof ArrayBuffer;\n}\nfunction getCloserAngle(reference, angle) {\n    var turnsCount = Math.floor(reference / 360);\n    var firstCandidate = turnsCount * 360 + angle;\n    var secondCandidate = (turnsCount + 1) * 360 + angle;\n    if (Math.abs(firstCandidate - reference) < Math.abs(secondCandidate - reference)) {\n        return firstCandidate;\n    }\n    else {\n        return secondCandidate;\n    }\n}\nfunction sign(value) {\n    var number = +value;\n    if (number === 0 || isNaN(number)) {\n        return number;\n    }\n    return number > 0 ? 1 : -1;\n}\nfunction promiseTimeout(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(function () {\n            resolve();\n        }, timeout);\n    });\n}\n// Not performant, small function to reduce the code amount\nfunction deepClone(obj) {\n    if (!isObject(obj)) {\n        return obj;\n    }\n    var result = {};\n    if (Array.isArray(obj)) {\n        result = obj.map(function (item) { return deepClone(item); });\n    }\n    else {\n        Object.keys(obj).forEach(function (key) {\n            return (result[key] = deepClone(obj[key]));\n        });\n    }\n    return result;\n}\nfunction deepCompare(a, b, tolerance) {\n    if (tolerance === void 0) { tolerance = 1e-3; }\n    if (isNumber(a) && isNumber(b) && isRoughlyEqual(a, b, tolerance))\n        return true;\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length_1, i = void 0;\n        if (Array.isArray(a)) {\n            length_1 = a.length;\n            if (length_1 != b.length)\n                return false;\n            for (i = length_1; i-- !== 0;)\n                if (!deepCompare(a[i], b[i], tolerance))\n                    return false;\n            return true;\n        }\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        var keys = Object.keys(a);\n        length_1 = keys.length;\n        if (length_1 !== Object.keys(b).length)\n            return false;\n        for (i = length_1; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length_1; i-- !== 0;) {\n            var key = keys[i];\n            if (!deepCompare(a[key], b[key], tolerance))\n                return false;\n        }\n        return true;\n    }\n    return a !== a && b !== b;\n}\nfunction isWheelEvent(event) {\n    return 'deltaX' in event;\n}\nfunction isTouchEvent(event) {\n    return 'touches' in event;\n}\nfunction isMouseEvent(event) {\n    return 'buttons' in event;\n}\nfunction emptyCoordinates() {\n    return {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n    };\n}\nfunction isCardinalDirection(value) {\n    return value === 'west' || value === 'south' || value === 'north' || value === 'east';\n}\nfunction isOrdinalDirection(value) {\n    return (isCardinalDirection(value) ||\n        value === 'westNorth' ||\n        value === 'westSouth' ||\n        value === 'eastNorth' ||\n        value === 'eastSouth');\n}\nfunction debounce(callback, delay) {\n    var timestamp;\n    var timeout;\n    function later() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var last = Date.now() - timestamp;\n        var delayValue = isFunction(delay) ? delay() : delay || 0;\n        if (last < delayValue && last >= 0) {\n            timeout = setTimeout(function () { return later.apply(void 0, args); }, delayValue - last);\n        }\n        else {\n            callback.apply(void 0, args);\n        }\n    }\n    function result() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        timestamp = Date.now();\n        timeout = setTimeout(function () { return later.apply(void 0, args); }, isFunction(delay) ? delay() : delay || 0);\n    }\n    result.clear = function () {\n        clearTimeout(timeout);\n    };\n    return result;\n}\n\nexport { debounce, deepClone, deepCompare, distance, emptyCoordinates, getCloserAngle, getDirectionNames, getOptions, isArray, isArrayBufferLike, isBlob, isCardinalDirection, isCrossOriginURL, isDataUrl, isFunction, isGreater, isLocal, isLower, isMouseEvent, isNaN, isNumber, isNumeric, isObject, isOrdinalDirection, isRoughlyEqual, isString, isTouchEvent, isUndefined, isWheelEvent, parseNumber, promiseTimeout, sign };\n","var ALL_DIRECTIONS = ['left', 'right', 'top', 'bottom'];\nvar HORIZONTAL_DIRECTIONS = ['left', 'right'];\nvar VERTICAL_DIRECTIONS = ['top', 'bottom'];\n\nexport { ALL_DIRECTIONS, HORIZONTAL_DIRECTIONS, VERTICAL_DIRECTIONS };\n","import { __assign } from 'tslib';\nimport { ALL_DIRECTIONS } from '../constants/index.js';\nimport { isLower, isGreater, isNumber, isNumeric, isUndefined, isFunction } from '../utils/index.js';\n\nfunction diff(firstObject, secondObject) {\n    return {\n        left: firstObject.left - secondObject.left,\n        top: firstObject.top - secondObject.top,\n    };\n}\nfunction getCenter(object) {\n    return {\n        left: object.left + object.width / 2,\n        top: object.top + object.height / 2,\n    };\n}\nfunction sizeDistance(a, b) {\n    return Math.pow(a.width - b.width, 2) + Math.pow(a.height - b.height, 2);\n}\nfunction applyDirections(coordinates, directions) {\n    return {\n        left: coordinates.left - directions.left,\n        top: coordinates.top - directions.top,\n        width: coordinates.width + directions.left + directions.right,\n        height: coordinates.height + directions.top + directions.bottom,\n    };\n}\nfunction inverseMove(directions) {\n    return {\n        left: -directions.left,\n        top: -directions.top,\n    };\n}\nfunction applyMove(object, move) {\n    return __assign(__assign({}, object), { left: object.left + move.left, top: object.top + move.top });\n}\nfunction coordinatesToPositionRestrictions(coordinates) {\n    return {\n        left: coordinates.left,\n        top: coordinates.top,\n        right: coordinates.left + coordinates.width,\n        bottom: coordinates.top + coordinates.height,\n    };\n}\nfunction applyScale(object, factor, center, progress) {\n    if (factor !== 1) {\n        if ('left' in object || 'top' in object) {\n            if (center) {\n                var currentCenter = getCenter(object);\n                return {\n                    width: object.width * factor,\n                    height: object.height * factor,\n                    left: object.left +\n                        (object.width * (1 - factor)) / 2 +\n                        (center.left - currentCenter.left) * (progress || 1 - factor),\n                    top: object.top +\n                        (object.height * (1 - factor)) / 2 +\n                        (center.top - currentCenter.top) * (progress || 1 - factor),\n                };\n            }\n            else {\n                return {\n                    width: object.width * factor,\n                    height: object.height * factor,\n                    left: object.left + (object.width * (1 - factor)) / 2,\n                    top: object.top + (object.height * (1 - factor)) / 2,\n                };\n            }\n        }\n        else {\n            return {\n                width: object.width * factor,\n                height: object.height * factor,\n            };\n        }\n    }\n    else {\n        return object;\n    }\n}\nfunction ratio(object) {\n    return object.width / object.height;\n}\nfunction maxScale(size, restrictions) {\n    return Math.min(restrictions.maxWidth ? restrictions.maxWidth / size.width : Infinity, restrictions.maxHeight ? restrictions.maxHeight / size.height : Infinity);\n}\nfunction minScale(size, restrictions) {\n    return Math.max(restrictions.minWidth ? restrictions.minWidth / size.width : 0, restrictions.minHeight ? restrictions.minHeight / size.height : 0);\n}\nfunction getBrokenRatio(currentAspectRatio, aspectRatio) {\n    var ratioBroken;\n    if (aspectRatio.minimum && isLower(currentAspectRatio, aspectRatio.minimum)) {\n        ratioBroken = aspectRatio.minimum;\n    }\n    else if (aspectRatio.maximum && isGreater(currentAspectRatio, aspectRatio.maximum)) {\n        ratioBroken = aspectRatio.maximum;\n    }\n    return ratioBroken;\n}\nfunction fitToSizeRestrictions(coordinates, sizeRestrictions) {\n    var aspectRatio = ratio(coordinates);\n    var scale = 1;\n    if (sizeRestrictions.minWidth > 0 && sizeRestrictions.minHeight > 0) {\n        if (aspectRatio > sizeRestrictions.minWidth / sizeRestrictions.minHeight) {\n            if (coordinates.height < sizeRestrictions.minHeight) {\n                scale = sizeRestrictions.minHeight / coordinates.height;\n            }\n        }\n        else {\n            if (coordinates.width < sizeRestrictions.minWidth) {\n                scale = sizeRestrictions.minWidth / coordinates.width;\n            }\n        }\n    }\n    else if (sizeRestrictions.minWidth > 0) {\n        if (coordinates.width < sizeRestrictions.minWidth) {\n            scale = sizeRestrictions.minWidth / coordinates.width;\n        }\n    }\n    else if (sizeRestrictions.minHeight > 0) {\n        if (coordinates.height < sizeRestrictions.minHeight) {\n            scale = sizeRestrictions.minHeight / coordinates.height;\n        }\n    }\n    if (sizeRestrictions.maxWidth < Infinity && sizeRestrictions.maxHeight < Infinity) {\n        if (aspectRatio > sizeRestrictions.maxWidth / sizeRestrictions.maxHeight) {\n            if (coordinates.width > sizeRestrictions.maxWidth) {\n                scale = sizeRestrictions.maxWidth / coordinates.width;\n            }\n        }\n        else {\n            if (coordinates.height > sizeRestrictions.maxHeight) {\n                scale = sizeRestrictions.maxHeight / coordinates.height;\n            }\n        }\n    }\n    else if (sizeRestrictions.maxWidth < Infinity) {\n        if (coordinates.width > sizeRestrictions.maxWidth) {\n            scale = sizeRestrictions.maxWidth / coordinates.width;\n        }\n    }\n    else if (sizeRestrictions.maxHeight < Infinity) {\n        if (coordinates.height > sizeRestrictions.maxHeight) {\n            scale = sizeRestrictions.maxHeight / coordinates.height;\n        }\n    }\n    return scale;\n}\nfunction getIntersections(object, positionRestrictions) {\n    var intersections = {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n    };\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var areaLimit = positionRestrictions[direction];\n        var objectLimit = coordinatesToPositionRestrictions(object)[direction];\n        if (areaLimit !== undefined && objectLimit !== undefined) {\n            if (direction === 'left' || direction === 'top') {\n                intersections[direction] = Math.max(0, areaLimit - objectLimit);\n            }\n            else {\n                intersections[direction] = Math.max(0, objectLimit - areaLimit);\n            }\n        }\n        else {\n            intersections[direction] = 0;\n        }\n    });\n    return intersections;\n}\nfunction resizeToSizeRestrictions(coordinates, sizeRestrictions) {\n    return applyScale(coordinates, fitToSizeRestrictions(coordinates, sizeRestrictions));\n}\nfunction rotateSize(size, angle) {\n    var radians = (angle * Math.PI) / 180;\n    return {\n        width: Math.abs(size.width * Math.cos(radians)) + Math.abs(size.height * Math.sin(radians)),\n        height: Math.abs(size.width * Math.sin(radians)) + Math.abs(size.height * Math.cos(radians)),\n    };\n}\nfunction rotatePoint(point, angle, anchor) {\n    var radians = (angle * Math.PI) / 180;\n    if (anchor) {\n        return {\n            left: (point.left - anchor.left) * Math.cos(radians) -\n                (point.top - anchor.top) * Math.sin(radians) +\n                anchor.left,\n            top: (point.left - anchor.left) * Math.sin(radians) +\n                (point.top - anchor.top) * Math.cos(radians) +\n                anchor.top,\n        };\n    }\n    else {\n        return {\n            left: point.left * Math.cos(radians) - point.top * Math.sin(radians),\n            top: point.left * Math.sin(radians) + point.top * Math.cos(radians),\n        };\n    }\n}\nfunction positionToSizeRestrictions(positionRestrictions) {\n    return {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: positionRestrictions.right !== undefined && positionRestrictions.left !== undefined\n            ? positionRestrictions.right - positionRestrictions.left\n            : Infinity,\n        maxHeight: positionRestrictions.bottom !== undefined && positionRestrictions.top !== undefined\n            ? positionRestrictions.bottom - positionRestrictions.top\n            : Infinity,\n    };\n}\nfunction mergePositionRestrictions(a, b) {\n    var restrictions = {};\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var firstDirection = a[direction];\n        var secondDirection = b[direction];\n        if (firstDirection !== undefined && secondDirection !== undefined) {\n            if (direction === 'left' || direction === 'top') {\n                restrictions[direction] = Math.max(firstDirection, secondDirection);\n            }\n            else {\n                restrictions[direction] = Math.min(firstDirection, secondDirection);\n            }\n        }\n        else if (secondDirection !== undefined) {\n            restrictions[direction] = secondDirection;\n        }\n        else if (firstDirection !== undefined) {\n            restrictions[direction] = firstDirection;\n        }\n    });\n    return restrictions;\n}\nfunction fitToPositionRestrictions(coordinates, positionRestrictions) {\n    var directions = {\n        left: 0,\n        top: 0,\n    };\n    var intersection = getIntersections(coordinates, positionRestrictions);\n    if (intersection.left && intersection.left > 0) {\n        directions.left = intersection.left;\n    }\n    else if (intersection.right && intersection.right > 0) {\n        directions.left = -intersection.right;\n    }\n    if (intersection.top && intersection.top > 0) {\n        directions.top = intersection.top;\n    }\n    else if (intersection.bottom && intersection.bottom > 0) {\n        directions.top = -intersection.bottom;\n    }\n    return directions;\n}\nfunction moveToPositionRestrictions(coordinates, positionRestrictions) {\n    return applyMove(coordinates, fitToPositionRestrictions(coordinates, positionRestrictions));\n}\nfunction aspectRatioIntersection(main, subset) {\n    if (!subset) {\n        return main;\n    }\n    else if (!main) {\n        return subset;\n    }\n    else {\n        return {\n            minimum: Math.min(main.maximum, Math.max(main.minimum, subset.minimum)),\n            maximum: Math.max(main.minimum, Math.min(main.maximum, subset.maximum)),\n        };\n    }\n}\nfunction createAspectRatio(aspectRatio) {\n    if (aspectRatio === void 0) { aspectRatio = {}; }\n    if (isNumber(aspectRatio)) {\n        return {\n            minimum: aspectRatio,\n            maximum: aspectRatio,\n        };\n    }\n    else {\n        return {\n            minimum: isNumeric(aspectRatio.minimum) ? aspectRatio.minimum : 0,\n            maximum: isNumeric(aspectRatio.maximum) ? aspectRatio.maximum : Infinity,\n        };\n    }\n}\nfunction getTransitionStyle(transitions) {\n    return transitions ? transitions.timingFunction + \" \" + (transitions.active ? transitions.duration : 0) + \"ms\" : 'none';\n}\nfunction isConsistentSize(size, restrictions) {\n    return ((isUndefined(restrictions.maxWidth) || !isGreater(size.width, restrictions.maxWidth)) &&\n        (isUndefined(restrictions.maxHeight) || !isGreater(size.height, restrictions.maxHeight)) &&\n        (isUndefined(restrictions.minHeight) || !isLower(size.height, restrictions.minHeight)) &&\n        (isUndefined(restrictions.minWidth) || !isLower(size.width, restrictions.minWidth)));\n}\nfunction isConsistentPosition(coordinates, restrictions) {\n    return ((isUndefined(restrictions.left) || !isLower(coordinates.left, restrictions.left)) &&\n        (isUndefined(restrictions.top) || !isLower(coordinates.top, restrictions.top)) &&\n        (isUndefined(restrictions.right) || !isGreater(coordinates.left + coordinates.width, restrictions.right)) &&\n        (isUndefined(restrictions.bottom) || !isGreater(coordinates.top + coordinates.height, restrictions.bottom)));\n}\nfunction getCloserSize(candidates, reference, sizeRestrictions, aspectRatio) {\n    var traverse = function (ignoreMinimum) {\n        return candidates.reduce(function (minimum, size) {\n            var _a = isFunction(sizeRestrictions)\n                ? sizeRestrictions(size)\n                : sizeRestrictions, maxHeight = _a.maxHeight, maxWidth = _a.maxWidth, minWidth = _a.minWidth, minHeight = _a.minHeight;\n            var preparedAspectRatio = createAspectRatio(isFunction(aspectRatio) ? aspectRatio(size) : aspectRatio);\n            var preparedSizeRestrictions = ignoreMinimum\n                ? { maxWidth: maxWidth, maxHeight: maxHeight }\n                : { maxWidth: maxWidth, maxHeight: maxHeight, minWidth: minWidth, minHeight: minHeight };\n            if (isConsistentSize(size, preparedSizeRestrictions) &&\n                !getBrokenRatio(ratio(size), preparedAspectRatio) &&\n                size.width &&\n                size.height) {\n                return !minimum || isLower(sizeDistance(size, reference), sizeDistance(minimum, reference))\n                    ? size\n                    : minimum;\n            }\n            else {\n                return minimum;\n            }\n        }, null);\n    };\n    return traverse() || traverse(true);\n}\n\nexport { applyDirections, applyMove, applyScale, aspectRatioIntersection, coordinatesToPositionRestrictions, createAspectRatio, diff, fitToPositionRestrictions, fitToSizeRestrictions, getBrokenRatio, getCenter, getCloserSize, getIntersections, getTransitionStyle, inverseMove, isConsistentPosition, isConsistentSize, maxScale, mergePositionRestrictions, minScale, moveToPositionRestrictions, positionToSizeRestrictions, ratio, resizeToSizeRestrictions, rotatePoint, rotateSize, sizeDistance };\n","import { isFunction, emptyCoordinates } from '../utils/index.js';\nimport { createAspectRatio, rotateSize, moveToPositionRestrictions, getBrokenRatio, ratio, isConsistentSize, isConsistentPosition } from './utils.js';\nimport { calculateAreaSizeRestrictions, calculateSizeRestrictions } from './sizeRestrictions.js';\n\nfunction isInitializedState(state) {\n    return Boolean(state && state.visibleArea && state.coordinates);\n}\nfunction getAreaSizeRestrictions(state, settings) {\n    return calculateAreaSizeRestrictions(state, settings);\n}\nfunction getAreaPositionRestrictions(state, settings) {\n    return isFunction(settings.areaPositionRestrictions)\n        ? settings.areaPositionRestrictions(state, settings)\n        : settings.areaPositionRestrictions;\n}\nfunction getSizeRestrictions(state, settings) {\n    return calculateSizeRestrictions(state, settings);\n}\nfunction getPositionRestrictions(state, settings) {\n    return isFunction(settings.positionRestrictions)\n        ? settings.positionRestrictions(state, settings)\n        : settings.positionRestrictions;\n}\nfunction getCoefficient(state) {\n    return state.visibleArea ? state.visibleArea.width / state.boundary.width : 0;\n}\nfunction getStencilCoordinates(state) {\n    if (isInitializedState(state)) {\n        var _a = state.coordinates, width = _a.width, height = _a.height, left = _a.left, top_1 = _a.top;\n        var coefficient = getCoefficient(state);\n        return {\n            width: width / coefficient,\n            height: height / coefficient,\n            left: (left - state.visibleArea.left) / coefficient,\n            top: (top_1 - state.visibleArea.top) / coefficient,\n        };\n    }\n    else {\n        return emptyCoordinates();\n    }\n}\nfunction getAspectRatio(state, settings) {\n    return createAspectRatio(isFunction(settings.aspectRatio) ? settings.aspectRatio(state, settings) : settings.aspectRatio);\n}\nfunction getDefaultCoordinates(state, settings) {\n    return isFunction(settings.defaultCoordinates)\n        ? settings.defaultCoordinates(state, settings)\n        : settings.defaultCoordinates;\n}\nfunction getDefaultVisibleArea(state, settings) {\n    return isFunction(settings.defaultVisibleArea)\n        ? settings.defaultVisibleArea(state, settings)\n        : settings.defaultVisibleArea;\n}\nfunction getTransformedImageSize(state) {\n    if (state.imageSize && state.imageSize.width && state.imageSize.height) {\n        return rotateSize(state.imageSize, state.transforms.rotate);\n    }\n    else {\n        return {\n            width: 0,\n            height: 0,\n        };\n    }\n}\nfunction getMinimumSize(state) {\n    // The magic number is the approximation of the handler size\n    // Temporary solution that should be improved in the future\n    return state.coordinates\n        ? Math.min(state.coordinates.width, state.coordinates.height, 20 * getCoefficient(state))\n        : 1;\n}\nfunction getRoundedCoordinates(state, settings) {\n    if (isInitializedState(state)) {\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        var positionRestrictions = getPositionRestrictions(state, settings);\n        var roundCoordinates = {\n            width: Math.round(state.coordinates.width),\n            height: Math.round(state.coordinates.height),\n            left: Math.round(state.coordinates.left),\n            top: Math.round(state.coordinates.top),\n        };\n        if (roundCoordinates.width > sizeRestrictions.maxWidth) {\n            roundCoordinates.width = Math.floor(state.coordinates.width);\n        }\n        else if (roundCoordinates.width < sizeRestrictions.minWidth) {\n            roundCoordinates.width = Math.ceil(state.coordinates.width);\n        }\n        if (roundCoordinates.height > sizeRestrictions.maxHeight) {\n            roundCoordinates.height = Math.floor(state.coordinates.height);\n        }\n        else if (roundCoordinates.height < sizeRestrictions.minHeight) {\n            roundCoordinates.height = Math.ceil(state.coordinates.height);\n        }\n        return moveToPositionRestrictions(roundCoordinates, positionRestrictions);\n    }\n    else {\n        return null;\n    }\n}\nfunction isConsistentState(state, settings) {\n    if (isInitializedState(state)) {\n        return (!getBrokenRatio(ratio(state.coordinates), getAspectRatio(state, settings)) &&\n            isConsistentSize(state.visibleArea, getAreaSizeRestrictions(state, settings)) &&\n            isConsistentSize(state.coordinates, getSizeRestrictions(state, settings)) &&\n            isConsistentPosition(state.visibleArea, getAreaPositionRestrictions(state, settings)) &&\n            isConsistentPosition(state.coordinates, getPositionRestrictions(state, settings)));\n    }\n    else {\n        return true;\n    }\n}\n\nexport { getAreaPositionRestrictions, getAreaSizeRestrictions, getAspectRatio, getCoefficient, getDefaultCoordinates, getDefaultVisibleArea, getMinimumSize, getPositionRestrictions, getRoundedCoordinates, getSizeRestrictions, getStencilCoordinates, getTransformedImageSize, isConsistentState, isInitializedState };\n","import { __assign } from 'tslib';\nimport { isFunction, isNumeric, parseNumber } from '../utils/index.js';\nimport { ratio } from './utils.js';\nimport { getPositionRestrictions } from './helpers.js';\n\nfunction reconcileSizeRestrictions(sizeRestrictions) {\n    var restrictions = __assign({}, sizeRestrictions);\n    // Process the border cases when minimum height / width larger than maximum height / width\n    if (restrictions.minWidth > restrictions.maxWidth) {\n        restrictions.minWidth = restrictions.maxWidth;\n    }\n    if (restrictions.minHeight > restrictions.maxHeight) {\n        restrictions.minHeight = restrictions.maxHeight;\n    }\n    return restrictions;\n}\nfunction mergeSizeRestrictions(a, b) {\n    var first = a;\n    var second = __assign({ minWidth: 0, minHeight: 0, maxWidth: Infinity, maxHeight: Infinity }, b);\n    return reconcileSizeRestrictions({\n        maxHeight: Math.min(first.maxHeight, second.maxHeight),\n        minHeight: Math.max(first.minHeight, second.minHeight),\n        maxWidth: Math.min(first.maxWidth, second.maxWidth),\n        minWidth: Math.max(first.minWidth, second.minWidth),\n    });\n}\nfunction calculateSizeRestrictions(state, settings) {\n    var sizeRestrictions = isFunction(settings.sizeRestrictions)\n        ? settings.sizeRestrictions(state, settings)\n        : settings.sizeRestrictions;\n    var positionRestrictions = getPositionRestrictions(state, settings);\n    // User can forget to set some of restrictions, so we should initialize them by default values\n    var restrictions = {\n        minWidth: isNumeric(sizeRestrictions.minWidth) ? parseNumber(sizeRestrictions.minWidth) : 0,\n        minHeight: isNumeric(sizeRestrictions.minHeight) ? parseNumber(sizeRestrictions.minHeight) : 0,\n        maxWidth: isNumeric(sizeRestrictions.maxWidth) ? parseNumber(sizeRestrictions.maxWidth) : Infinity,\n        maxHeight: isNumeric(sizeRestrictions.maxHeight) ? parseNumber(sizeRestrictions.maxHeight) : Infinity,\n    };\n    // The situation, when stencil can't be positioned in cropper due to positionRestrictions should be avoided\n    if (positionRestrictions.left !== undefined && positionRestrictions.right !== undefined) {\n        restrictions.maxWidth = Math.min(restrictions.maxWidth, positionRestrictions.right - positionRestrictions.left);\n    }\n    if (positionRestrictions.bottom !== undefined && positionRestrictions.top !== undefined) {\n        restrictions.maxHeight = Math.min(restrictions.maxHeight, positionRestrictions.bottom - positionRestrictions.top);\n    }\n    return reconcileSizeRestrictions(restrictions);\n}\nfunction calculateAreaSizeRestrictions(state, settings) {\n    var sizeRestrictions = isFunction(settings.areaSizeRestrictions)\n        ? settings.areaSizeRestrictions(state, settings)\n        : settings.areaSizeRestrictions;\n    if (sizeRestrictions.maxWidth < Infinity && sizeRestrictions.maxHeight < Infinity) {\n        if (ratio(state.boundary) > sizeRestrictions.maxWidth / sizeRestrictions.maxHeight) {\n            sizeRestrictions.maxHeight = sizeRestrictions.maxWidth / ratio(state.boundary);\n        }\n        else {\n            sizeRestrictions.maxWidth = sizeRestrictions.maxHeight * ratio(state.boundary);\n        }\n    }\n    return reconcileSizeRestrictions(sizeRestrictions);\n}\n\nexport { calculateAreaSizeRestrictions, calculateSizeRestrictions, mergeSizeRestrictions, reconcileSizeRestrictions };\n","import { deepClone } from '../utils/index.js';\n\nfunction copyState(state) {\n    return deepClone(state);\n}\n\nexport { copyState };\n","var ImageRestriction;\n(function (ImageRestriction) {\n    ImageRestriction[\"fillArea\"] = \"fillArea\";\n    ImageRestriction[\"fitArea\"] = \"fitArea\";\n    ImageRestriction[\"stencil\"] = \"stencil\";\n    ImageRestriction[\"none\"] = \"none\";\n})(ImageRestriction || (ImageRestriction = {}));\nvar Priority;\n(function (Priority) {\n    Priority[\"coordinates\"] = \"coordinates\";\n    Priority[\"visibleArea\"] = \"visibleArea\";\n})(Priority || (Priority = {}));\n\nexport { ImageRestriction, Priority };\n","import { getCloserSize, createAspectRatio, resizeToSizeRestrictions } from './utils.js';\n\n// Limitations:\n// 1. Assume that maximum width and height always larger than minimum width and height\n// 2. Assume that aspectRatio.minimum < aspectRatio.maximum\n// If you break this limitations function could return null!\nfunction approximateSize(params) {\n    var width = params.width, height = params.height;\n    var sizeRestrictions = params.sizeRestrictions || {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: Infinity,\n        maxHeight: Infinity,\n    };\n    var aspectRatio = createAspectRatio(params.aspectRatio);\n    var coordinates = {\n        width: Math.max(sizeRestrictions.minWidth, Math.min(sizeRestrictions.maxWidth, width)),\n        height: Math.max(sizeRestrictions.minHeight, Math.min(sizeRestrictions.maxHeight, height)),\n    };\n    var candidates = [coordinates];\n    if (aspectRatio) {\n        [aspectRatio.minimum, aspectRatio.maximum].forEach(function (ratio) {\n            if (ratio) {\n                candidates.push({ width: coordinates.width, height: coordinates.width / ratio }, { width: coordinates.height * ratio, height: coordinates.height });\n            }\n        });\n    }\n    // Resize the candidates as much as possible to prevent breaking minimum size\n    candidates = candidates.map(function (candidate) { return resizeToSizeRestrictions(candidate, sizeRestrictions); });\n    // TODO: fix the type of return value\n    return getCloserSize(candidates, { width: width, height: height }, sizeRestrictions, aspectRatio);\n}\n\nexport { approximateSize };\n","import { __assign } from 'tslib';\nimport { ratio, applyMove, diff, getCenter, moveToPositionRestrictions } from './utils.js';\nimport { getAreaSizeRestrictions, getAreaPositionRestrictions } from './helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from './approximateSize.js';\n\nfunction fitVisibleArea(state, settings) {\n    var result = copyState(state);\n    if (state.visibleArea) {\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        // Fit the visible area to its size restrictions and boundary aspect ratio:\n        result.visibleArea = __assign(__assign({}, state.visibleArea), approximateSize({\n            width: state.visibleArea.width,\n            height: state.visibleArea.height,\n            aspectRatio: {\n                minimum: ratio(result.boundary),\n                maximum: ratio(result.boundary),\n            },\n            sizeRestrictions: areaSizeRestrictions,\n        }));\n        // Return the visible area to previous center\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(state.visibleArea), getCenter(result.visibleArea)));\n        // Fit the visible area to positions restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n    }\n    return result;\n}\n\nexport { fitVisibleArea };\n","import 'tslib';\nimport { moveToPositionRestrictions, applyMove } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction moveCoordinatesAlgorithm(coordinates, directions, positionRestrictions) {\n    var movedCoordinates = applyMove(coordinates, directions);\n    return positionRestrictions ? moveToPositionRestrictions(movedCoordinates, positionRestrictions) : movedCoordinates;\n}\n\nexport { moveCoordinatesAlgorithm };\n","import { __assign } from 'tslib';\nimport { emptyCoordinates, isUndefined } from '../utils/index.js';\nimport { mergePositionRestrictions, coordinatesToPositionRestrictions, applyScale, maxScale, applyMove, inverseMove, fitToPositionRestrictions } from '../service/utils.js';\nimport { getAspectRatio, getSizeRestrictions, getPositionRestrictions, getAreaSizeRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport { approximateSize } from '../service/approximateSize.js';\nimport { fitVisibleArea } from '../service/fitVisibleArea.js';\nimport { moveCoordinatesAlgorithm } from '../algorithms/moveCoordinatesAlgorithm.js';\n\nvar SetCoordinatesMode;\n(function (SetCoordinatesMode) {\n    SetCoordinatesMode[\"limit\"] = \"limit\";\n    SetCoordinatesMode[\"zoom\"] = \"zoom\";\n    SetCoordinatesMode[\"unsafe\"] = \"unsafe\";\n})(SetCoordinatesMode || (SetCoordinatesMode = {}));\nfunction setCoordinates(state, settings, transform, \n// If you set mode to `false`, the coordinates can leave the visible area\nmode) {\n    if (mode === void 0) { mode = true; }\n    var currentMode = mode === false ? SetCoordinatesMode.unsafe : mode === true ? SetCoordinatesMode.zoom : mode;\n    var aspectRatio = getAspectRatio(state, settings);\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    if (state.visibleArea && currentMode === SetCoordinatesMode.limit) {\n        sizeRestrictions = __assign(__assign({}, sizeRestrictions), { minWidth: Math.min(state.visibleArea.width, sizeRestrictions.minWidth), minHeight: Math.min(state.visibleArea.height, sizeRestrictions.minHeight), maxWidth: Math.min(state.visibleArea.width, sizeRestrictions.maxWidth), maxHeight: Math.min(state.visibleArea.height, sizeRestrictions.maxHeight) });\n    }\n    var positionRestrictions = getPositionRestrictions(state, settings);\n    if (state.visibleArea && currentMode === SetCoordinatesMode.limit) {\n        positionRestrictions = mergePositionRestrictions(positionRestrictions, coordinatesToPositionRestrictions(state.visibleArea));\n    }\n    var move = function (prevCoordinates, newCoordinates) {\n        return moveCoordinatesAlgorithm(prevCoordinates, {\n            left: newCoordinates.left - (prevCoordinates.left || 0),\n            top: newCoordinates.top - (prevCoordinates.top || 0),\n        }, positionRestrictions);\n    };\n    var resize = function (prevCoordinates, newCoordinates) {\n        var coordinates = __assign(__assign(__assign({}, prevCoordinates), approximateSize({\n            width: newCoordinates.width,\n            height: newCoordinates.height,\n            sizeRestrictions: sizeRestrictions,\n            aspectRatio: aspectRatio,\n        })), { left: 0, top: 0 });\n        return move(coordinates, {\n            left: prevCoordinates.left || 0,\n            top: prevCoordinates.top || 0,\n        });\n    };\n    var coordinates = state.coordinates ? __assign({}, state.coordinates) : emptyCoordinates();\n    var transforms = Array.isArray(transform) ? transform : [transform];\n    transforms.forEach(function (transform) {\n        var changes;\n        if (typeof transform === 'function') {\n            changes = transform(__assign(__assign({}, state), { coordinates: coordinates }), settings);\n        }\n        else {\n            changes = transform;\n        }\n        if (changes) {\n            if (!isUndefined(changes.width) || !isUndefined(changes.height)) {\n                coordinates = resize(coordinates, __assign(__assign({}, coordinates), changes));\n            }\n            if (!isUndefined(changes.left) || !isUndefined(changes.top)) {\n                coordinates = move(coordinates, __assign(__assign({}, coordinates), changes));\n            }\n        }\n    });\n    var result = __assign(__assign({}, copyState(state)), { coordinates: coordinates });\n    if (result.visibleArea && currentMode === SetCoordinatesMode.zoom) {\n        var widthIntersections = Math.max(0, result.coordinates.width - result.visibleArea.width);\n        var heightIntersections = Math.max(0, result.coordinates.height - result.visibleArea.height);\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        var scale = widthIntersections > heightIntersections\n            ? result.coordinates.width / result.visibleArea.width\n            : result.coordinates.height / result.visibleArea.height;\n        if (scale > 1) {\n            result.visibleArea = applyScale(result.visibleArea, Math.min(scale, maxScale(result.visibleArea, areaSizeRestrictions)));\n        }\n        result.visibleArea = applyMove(result.visibleArea, inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea))));\n        return fitVisibleArea(result, settings);\n    }\n    else {\n        return result;\n    }\n}\n\nexport { SetCoordinatesMode, setCoordinates };\n","import { __assign } from 'tslib';\nimport { applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from './utils.js';\nimport { getAspectRatio, getSizeRestrictions, getPositionRestrictions } from './helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from './approximateSize.js';\n\nfunction fitCoordinates(state, settings) {\n    if (state.coordinates) {\n        var result = copyState(state);\n        var aspectRatio = getAspectRatio(state, settings);\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        // Fit the size of coordinates to existing size restrictions and visible area\n        result.coordinates = __assign(__assign({}, state.coordinates), approximateSize({\n            width: state.coordinates.width,\n            height: state.coordinates.height,\n            aspectRatio: aspectRatio,\n            sizeRestrictions: state.visibleArea\n                ? {\n                    maxWidth: Math.min(state.visibleArea.width, sizeRestrictions.maxWidth),\n                    maxHeight: Math.min(state.visibleArea.height, sizeRestrictions.maxHeight),\n                    minHeight: Math.min(state.visibleArea.height, sizeRestrictions.minHeight),\n                    minWidth: Math.min(state.visibleArea.width, sizeRestrictions.minWidth),\n                }\n                : sizeRestrictions,\n        }));\n        // Return the coordinates to the previous center\n        result.coordinates = applyMove(result.coordinates, diff(getCenter(state.coordinates), getCenter(result.coordinates)));\n        // Fit the coordinates to position restrictions and visible area\n        result.coordinates = moveToPositionRestrictions(result.coordinates, state.visibleArea\n            ? mergePositionRestrictions(coordinatesToPositionRestrictions(state.visibleArea), getPositionRestrictions(result, settings))\n            : getPositionRestrictions(result, settings));\n        return result;\n    }\n    return state;\n}\n\nexport { fitCoordinates };\n","import { __assign } from 'tslib';\nimport { copyState } from './copyState.js';\nimport { fitCoordinates } from '../service/fitCoordinates.js';\nimport { fitVisibleArea } from '../service/fitVisibleArea.js';\n\nfunction setVisibleArea(state, settings, visibleArea, \n// If you set safe to `false`, the coordinates will be able to leave the visible area\nsafe) {\n    if (safe === void 0) { safe = true; }\n    var result = __assign(__assign({}, copyState(state)), { visibleArea: visibleArea });\n    // There is no possibility to break visible area limitations.\n    result = fitVisibleArea(result, settings);\n    if (safe) {\n        result = fitCoordinates(result, settings);\n    }\n    return result;\n}\n\nexport { setVisibleArea };\n","import 'tslib';\nimport { getDefaultVisibleArea, getDefaultCoordinates } from '../service/helpers.js';\nimport { Priority } from '../types/index.js';\nimport { setCoordinates, SetCoordinatesMode } from './setCoordinates.js';\nimport { setVisibleArea } from './setVisibleArea.js';\n\nfunction createState(options, settings) {\n    var _a, _b;\n    var boundary = options.boundary, imageSize = options.imageSize, transforms = options.transforms, priority = options.priority;\n    var state = {\n        boundary: {\n            width: boundary.width,\n            height: boundary.height,\n        },\n        imageSize: {\n            width: imageSize.width,\n            height: imageSize.height,\n        },\n        transforms: {\n            rotate: (transforms === null || transforms === void 0 ? void 0 : transforms.rotate) || 0,\n            flip: {\n                horizontal: ((_a = transforms === null || transforms === void 0 ? void 0 : transforms.flip) === null || _a === void 0 ? void 0 : _a.horizontal) || false,\n                vertical: ((_b = transforms === null || transforms === void 0 ? void 0 : transforms.flip) === null || _b === void 0 ? void 0 : _b.vertical) || false,\n            },\n        },\n        visibleArea: null,\n        coordinates: null,\n    };\n    if (priority === Priority.visibleArea) {\n        state = setVisibleArea(state, settings, getDefaultVisibleArea(state, settings), false);\n        state = setCoordinates(state, settings, getDefaultCoordinates(state, settings), SetCoordinatesMode.limit);\n    }\n    else {\n        state = setCoordinates(state, settings, getDefaultCoordinates(state, settings), SetCoordinatesMode.unsafe);\n        state = setVisibleArea(state, settings, getDefaultVisibleArea(state, settings), true);\n    }\n    return state;\n}\n\nexport { createState };\n","import 'tslib';\nimport { applyMove, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\n\nfunction moveCoordinates(state, settings, directions) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        result.coordinates = applyMove(result.coordinates, directions);\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\n\nexport { moveCoordinates };\n","import { __assign } from 'tslib';\nimport { ALL_DIRECTIONS, HORIZONTAL_DIRECTIONS, VERTICAL_DIRECTIONS } from '../constants/index.js';\nimport { isRoughlyEqual } from '../utils/index.js';\nimport { applyDirections, getIntersections, ratio, getBrokenRatio } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { moveCoordinatesAlgorithm } from './moveCoordinatesAlgorithm.js';\n\nfunction fitDirections(_a) {\n    var coordinates = _a.coordinates, directions = _a.directions, positionRestrictions = _a.positionRestrictions, sizeRestrictions = _a.sizeRestrictions, preserveRatio = _a.preserveRatio, compensate = _a.compensate;\n    var fittedDirections = __assign({}, directions);\n    var currentWidth = applyDirections(coordinates, fittedDirections).width;\n    var currentHeight = applyDirections(coordinates, fittedDirections).height;\n    // Prevent strange resizes when the width or height of stencil becomes smaller than 0\n    if (currentWidth < 0) {\n        if (fittedDirections.left < 0 && fittedDirections.right < 0) {\n            fittedDirections.left =\n                -(coordinates.width - sizeRestrictions.minWidth) / (fittedDirections.left / fittedDirections.right);\n            fittedDirections.right =\n                -(coordinates.width - sizeRestrictions.minWidth) / (fittedDirections.right / fittedDirections.left);\n        }\n        else if (fittedDirections.left < 0) {\n            fittedDirections.left = -(coordinates.width - sizeRestrictions.minWidth);\n        }\n        else if (fittedDirections.right < 0) {\n            fittedDirections.right = -(coordinates.width - sizeRestrictions.minWidth);\n        }\n    }\n    if (currentHeight < 0) {\n        if (fittedDirections.top < 0 && fittedDirections.bottom < 0) {\n            fittedDirections.top =\n                -(coordinates.height - sizeRestrictions.minHeight) / (fittedDirections.top / fittedDirections.bottom);\n            fittedDirections.bottom =\n                -(coordinates.height - sizeRestrictions.minHeight) / (fittedDirections.bottom / fittedDirections.top);\n        }\n        else if (fittedDirections.top < 0) {\n            fittedDirections.top = -(coordinates.height - sizeRestrictions.minHeight);\n        }\n        else if (fittedDirections.bottom < 0) {\n            fittedDirections.bottom = -(coordinates.height - sizeRestrictions.minHeight);\n        }\n    }\n    // Prevent breaking limits\n    var breaks = getIntersections(applyDirections(coordinates, fittedDirections), positionRestrictions);\n    if (compensate) {\n        if (breaks.left && breaks.left > 0 && breaks.right === 0) {\n            fittedDirections.right += breaks.left;\n            fittedDirections.left -= breaks.left;\n        }\n        else if (breaks.right && breaks.right > 0 && breaks.left === 0) {\n            fittedDirections.left += breaks.right;\n            fittedDirections.right -= breaks.right;\n        }\n        if (breaks.top && breaks.top > 0 && breaks.bottom === 0) {\n            fittedDirections.bottom += breaks.top;\n            fittedDirections.top -= breaks.top;\n        }\n        else if (breaks.bottom && breaks.bottom > 0 && breaks.top === 0) {\n            fittedDirections.top += breaks.bottom;\n            fittedDirections.bottom -= breaks.bottom;\n        }\n        breaks = getIntersections(applyDirections(coordinates, fittedDirections), positionRestrictions);\n    }\n    var maxResize = {\n        width: Infinity,\n        height: Infinity,\n        left: Infinity,\n        right: Infinity,\n        top: Infinity,\n        bottom: Infinity,\n    };\n    ALL_DIRECTIONS.forEach(function (direction) {\n        var intersection = breaks[direction];\n        if (intersection && fittedDirections[direction]) {\n            maxResize[direction] = Math.max(0, 1 - intersection / fittedDirections[direction]);\n        }\n    });\n    if (preserveRatio) {\n        var multiplier_1 = Math.min.apply(Math, ALL_DIRECTIONS.map(function (direction) { return maxResize[direction]; }));\n        if (multiplier_1 !== Infinity) {\n            ALL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= multiplier_1;\n            });\n        }\n    }\n    else {\n        ALL_DIRECTIONS.forEach(function (direction) {\n            if (maxResize[direction] !== Infinity) {\n                fittedDirections[direction] *= maxResize[direction];\n            }\n        });\n    }\n    currentWidth = applyDirections(coordinates, fittedDirections).width;\n    currentHeight = applyDirections(coordinates, fittedDirections).height;\n    if (fittedDirections.right + fittedDirections.left) {\n        if (currentWidth > sizeRestrictions.maxWidth) {\n            maxResize.width =\n                (sizeRestrictions.maxWidth - coordinates.width) / (fittedDirections.right + fittedDirections.left);\n        }\n        else if (currentWidth < sizeRestrictions.minWidth) {\n            maxResize.width =\n                (sizeRestrictions.minWidth - coordinates.width) / (fittedDirections.right + fittedDirections.left);\n        }\n    }\n    if (fittedDirections.bottom + fittedDirections.top) {\n        if (currentHeight > sizeRestrictions.maxHeight) {\n            maxResize.height =\n                (sizeRestrictions.maxHeight - coordinates.height) / (fittedDirections.bottom + fittedDirections.top);\n        }\n        else if (currentHeight < sizeRestrictions.minHeight) {\n            maxResize.height =\n                (sizeRestrictions.minHeight - coordinates.height) / (fittedDirections.bottom + fittedDirections.top);\n        }\n    }\n    if (preserveRatio) {\n        var multiplier_2 = Math.min(maxResize.width, maxResize.height);\n        if (multiplier_2 !== Infinity) {\n            ALL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= multiplier_2;\n            });\n        }\n    }\n    else {\n        if (maxResize.width !== Infinity) {\n            HORIZONTAL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= maxResize.width;\n            });\n        }\n        if (maxResize.height !== Infinity) {\n            VERTICAL_DIRECTIONS.forEach(function (direction) {\n                fittedDirections[direction] *= maxResize.height;\n            });\n        }\n    }\n    return fittedDirections;\n}\nfunction distributeOverlap(overlap, first, second) {\n    if (isRoughlyEqual(first + second, 0)) {\n        return overlap / 2;\n    }\n    else if (isRoughlyEqual(first, 0)) {\n        return 0;\n    }\n    else if (isRoughlyEqual(second, 0)) {\n        return overlap;\n    }\n    else {\n        return overlap * Math.abs(first / (first + second));\n    }\n}\nfunction resizeCoordinatesAlgorithm(coordinates, directions, options, limitations) {\n    var aspectRatio = limitations.aspectRatio, positionRestrictions = limitations.positionRestrictions, sizeRestrictions = limitations.sizeRestrictions;\n    var actualCoordinates = __assign(__assign({}, coordinates), { right: coordinates.left + coordinates.width, bottom: coordinates.top + coordinates.height });\n    directions = __assign({}, directions);\n    var allowedDirections = options.allowedDirections || {\n        left: true,\n        right: true,\n        bottom: true,\n        top: true,\n    };\n    // It's possible that coordinates can be smaller than minimum width or minimum height. In this case\n    // corresponding resize should be blocked\n    if (coordinates.width < sizeRestrictions.minWidth) {\n        directions.left = 0;\n        directions.right = 0;\n    }\n    if (coordinates.height < sizeRestrictions.minHeight) {\n        directions.top = 0;\n        directions.bottom = 0;\n    }\n    ALL_DIRECTIONS.forEach(function (direction) {\n        if (!allowedDirections[direction]) {\n            directions[direction] = 0;\n        }\n    });\n    // 1. First step: determine the safe and desired area\n    directions = fitDirections({\n        coordinates: actualCoordinates,\n        directions: directions,\n        sizeRestrictions: sizeRestrictions,\n        positionRestrictions: positionRestrictions,\n    });\n    // 2. Second step: fix desired box to correspondent to aspect ratio\n    var currentWidth = applyDirections(actualCoordinates, directions).width;\n    var currentHeight = applyDirections(actualCoordinates, directions).height;\n    // Checks ratio:\n    var ratioBroken = options.preserveAspectRatio\n        ? ratio(actualCoordinates)\n        : getBrokenRatio(currentWidth / currentHeight, aspectRatio);\n    if (ratioBroken) {\n        var respectDirection = options.respectDirection;\n        if (respectDirection !== 'width' && respectDirection !== 'height') {\n            if (actualCoordinates.width >= actualCoordinates.height || ratioBroken === 1) {\n                respectDirection = 'width';\n            }\n            else {\n                respectDirection = 'height';\n            }\n        }\n        if (respectDirection === 'width') {\n            var overlapHeight = currentWidth / ratioBroken - actualCoordinates.height;\n            if (allowedDirections.top && allowedDirections.bottom) {\n                var top_1 = directions.top, bottom = directions.bottom;\n                directions.bottom = distributeOverlap(overlapHeight, bottom, top_1);\n                directions.top = distributeOverlap(overlapHeight, top_1, bottom);\n            }\n            else if (allowedDirections.bottom) {\n                directions.bottom = overlapHeight;\n            }\n            else if (allowedDirections.top) {\n                directions.top = overlapHeight;\n            }\n            else if (allowedDirections.right) {\n                directions.right = 0;\n            }\n            else if (allowedDirections.left) {\n                directions.left = 0;\n            }\n        }\n        else if (respectDirection === 'height') {\n            var overlapWidth = actualCoordinates.width - currentHeight * ratioBroken;\n            if (allowedDirections.left && allowedDirections.right) {\n                var left = directions.left, right = directions.right;\n                directions.left = -distributeOverlap(overlapWidth, left, right);\n                directions.right = -distributeOverlap(overlapWidth, right, left);\n            }\n            else if (allowedDirections.left) {\n                directions.left = -overlapWidth;\n            }\n            else if (allowedDirections.right) {\n                directions.right = -overlapWidth;\n            }\n            else if (allowedDirections.top) {\n                directions.top = 0;\n            }\n            else if (allowedDirections.bottom) {\n                directions.bottom = 0;\n            }\n        }\n        // 3. Third step: check if desired box with correct aspect ratios break some limits and fit to this conditions\n        directions = fitDirections({\n            directions: directions,\n            coordinates: actualCoordinates,\n            sizeRestrictions: sizeRestrictions,\n            positionRestrictions: positionRestrictions,\n            preserveRatio: true,\n            compensate: options.compensate,\n        });\n    }\n    // 4. Check if ratio broken (temporary):\n    currentWidth = applyDirections(actualCoordinates, directions).width;\n    currentHeight = applyDirections(actualCoordinates, directions).height;\n    ratioBroken = options.preserveAspectRatio\n        ? ratio(actualCoordinates)\n        : getBrokenRatio(currentWidth / currentHeight, aspectRatio);\n    if (ratioBroken && Math.abs(ratioBroken - currentWidth / currentHeight) > 1e-3) {\n        ALL_DIRECTIONS.forEach(function (direction) {\n            if (!allowedDirections[direction]) {\n                directions[direction] = 0;\n            }\n        });\n    }\n    return moveCoordinatesAlgorithm({\n        width: coordinates.width + directions.right + directions.left,\n        height: coordinates.height + directions.top + directions.bottom,\n        left: coordinates.left,\n        top: coordinates.top,\n    }, {\n        left: -directions.left,\n        top: -directions.top,\n    }, positionRestrictions);\n}\n\nexport { fitDirections, resizeCoordinatesAlgorithm };\n","import { __assign } from 'tslib';\nimport { mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { getMinimumSize, getSizeRestrictions, isInitializedState, getPositionRestrictions, getAspectRatio } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { resizeCoordinatesAlgorithm } from '../algorithms/resizeCoordinatesAlgorithm.js';\n\nfunction resizeCoordinates(state, settings, directions, options) {\n    var minimumSize = getMinimumSize(state);\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    return isInitializedState(state)\n        ? __assign(__assign({}, copyState(state)), { coordinates: resizeCoordinatesAlgorithm(state.coordinates, directions, options, {\n                positionRestrictions: mergePositionRestrictions(getPositionRestrictions(state, settings), coordinatesToPositionRestrictions(state.visibleArea)),\n                sizeRestrictions: {\n                    maxWidth: Math.min(sizeRestrictions.maxWidth, state.visibleArea.width),\n                    maxHeight: Math.min(sizeRestrictions.maxHeight, state.visibleArea.height),\n                    minWidth: Math.max(Math.min(sizeRestrictions.minWidth, state.visibleArea.width), minimumSize),\n                    minHeight: Math.max(Math.min(sizeRestrictions.minHeight, state.visibleArea.height), minimumSize),\n                },\n                aspectRatio: getAspectRatio(state, settings),\n            }) }) : state;\n}\n\nexport { resizeCoordinates };\n","import { __assign } from 'tslib';\nimport { ratio, applyScale, resizeToSizeRestrictions, inverseMove, fitToPositionRestrictions, coordinatesToPositionRestrictions, applyMove, moveToPositionRestrictions } from '../service/utils.js';\nimport { getSizeRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { fitCoordinates } from '../service/fitCoordinates.js';\n\nfunction setBoundary(state, settings, boundary) {\n    var result = __assign(__assign({}, copyState(state)), { boundary: boundary });\n    if (result.visibleArea && result.coordinates && state.visibleArea) {\n        // Scale visible area size to fit new boundary:\n        result.visibleArea.height = result.visibleArea.width / ratio(boundary);\n        result.visibleArea.top += (state.visibleArea.height - result.visibleArea.height) / 2;\n        // Scale visible area to prevent overlap coordinates (and its minimum size)\n        var sizeRestrictions = getSizeRestrictions(result, settings);\n        if (Math.max(sizeRestrictions.minHeight, result.coordinates.height) - result.visibleArea.height > 0 ||\n            Math.max(sizeRestrictions.minWidth, result.coordinates.width) - result.visibleArea.width > 0) {\n            result.visibleArea = applyScale(result.visibleArea, Math.max(Math.max(sizeRestrictions.minHeight, result.coordinates.height) / result.visibleArea.height, Math.max(sizeRestrictions.minWidth, result.coordinates.width) / result.visibleArea.width));\n        }\n        // Scale visible area to prevent overlap area restrictions\n        result.visibleArea = resizeToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n        // Move visible are to prevent moving of the coordinates:\n        var move = inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea)));\n        if (result.visibleArea.width < result.coordinates.width) {\n            move.left = 0;\n        }\n        if (result.visibleArea.height < result.coordinates.height) {\n            move.top = 0;\n        }\n        result.visibleArea = applyMove(result.visibleArea, move);\n        // Move visible area to prevent overlap the area restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        result = fitCoordinates(result, settings);\n    }\n    return result;\n}\n\nexport { setBoundary };\n","import { __assign } from 'tslib';\nimport { isNumber } from '../utils/index.js';\nimport { rotatePoint, getCenter, diff, resizeToSizeRestrictions, moveToPositionRestrictions, applyMove } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport { isInitializedState, getTransformedImageSize, getSizeRestrictions, getAspectRatio, getAreaSizeRestrictions, getPositionRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction rotateImageAlgorithm(state, settings, rotate) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var angle = isNumber(rotate) ? rotate : rotate.angle;\n        var imageCenter = rotatePoint(getCenter(__assign({ left: 0, top: 0 }, getTransformedImageSize(state))), angle);\n        result.transforms.rotate += angle;\n        result.coordinates = __assign(__assign({}, approximateSize({\n            sizeRestrictions: getSizeRestrictions(result, settings),\n            aspectRatio: getAspectRatio(result, settings),\n            width: result.coordinates.width,\n            height: result.coordinates.height,\n        })), rotatePoint(getCenter(result.coordinates), angle));\n        var center = !isNumber(rotate) && rotate.center ? rotate.center : getCenter(state.coordinates);\n        var shift = diff(getCenter(state.coordinates), rotatePoint(getCenter(state.coordinates), angle, center));\n        var imageSize = getTransformedImageSize(result);\n        result.coordinates.left -= imageCenter.left - imageSize.width / 2 + result.coordinates.width / 2 - shift.left;\n        result.coordinates.top -= imageCenter.top - imageSize.height / 2 + result.coordinates.height / 2 - shift.top;\n        // Check that visible area doesn't break the area restrictions:\n        result.visibleArea = resizeToSizeRestrictions(result.visibleArea, mergeSizeRestrictions(getAreaSizeRestrictions(result, settings), {\n            minWidth: result.coordinates.width,\n            minHeight: result.coordinates.height,\n        }));\n        result.coordinates = moveToPositionRestrictions(result.coordinates, getPositionRestrictions(result, settings));\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(result.coordinates), getCenter(state.coordinates)));\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        return result;\n    }\n    return state;\n}\n\nexport { rotateImageAlgorithm };\n","import 'tslib';\nimport { rotatePoint, getCenter, applyMove, diff, moveToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getTransformedImageSize, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction flipImageAlgorithm(state, settings, horizontal, vertical) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var rotate = state.transforms.rotate;\n        var imageSize = getTransformedImageSize(state);\n        var changed = {\n            horizontal: horizontal,\n            vertical: vertical,\n        };\n        if (changed.horizontal || changed.vertical) {\n            var imageCenter = rotatePoint({\n                left: imageSize.width / 2,\n                top: imageSize.height / 2,\n            }, -rotate);\n            var oldCenter = rotatePoint(getCenter(result.coordinates), -rotate);\n            var newCenter = rotatePoint({\n                left: changed.horizontal ? imageCenter.left - (oldCenter.left - imageCenter.left) : oldCenter.left,\n                top: changed.vertical ? imageCenter.top - (oldCenter.top - imageCenter.top) : oldCenter.top,\n            }, rotate);\n            result.coordinates = applyMove(result.coordinates, diff(newCenter, getCenter(result.coordinates)));\n            oldCenter = rotatePoint(getCenter(result.visibleArea), -rotate);\n            newCenter = rotatePoint({\n                left: changed.horizontal ? imageCenter.left - (oldCenter.left - imageCenter.left) : oldCenter.left,\n                top: changed.vertical ? imageCenter.top - (oldCenter.top - imageCenter.top) : oldCenter.top,\n            }, rotate);\n            result.visibleArea = applyMove(result.visibleArea, diff(newCenter, getCenter(result.visibleArea)));\n            result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        }\n        if (changed.horizontal) {\n            result.transforms.flip.horizontal = !state.transforms.flip.horizontal;\n        }\n        if (changed.vertical) {\n            result.transforms.flip.vertical = !state.transforms.flip.vertical;\n        }\n        return result;\n    }\n    return state;\n}\n\nexport { flipImageAlgorithm };\n","import 'tslib';\nimport { isNumber, isRoughlyEqual } from '../utils/index.js';\nimport { applyMove, maxScale, positionToSizeRestrictions, minScale, applyScale, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions, getCenter, inverseMove, fitToPositionRestrictions } from '../service/utils.js';\nimport { isInitializedState, getSizeRestrictions, getPositionRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction transformImageAlgorithm(state, settings, transform) {\n    var _a;\n    var _b = transform.scale, scale = _b === void 0 ? 1 : _b, _c = transform.move, move = _c === void 0 ? {} : _c;\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        // It's reversed because zooming in the image is actually zooming out visible area\n        var scaleFactor = 1 / (isNumber(scale) ? scale : scale.factor);\n        var scaleCenter = !isNumber(scale) ? scale.center : undefined;\n        var isAllowedScale = !isRoughlyEqual(scaleFactor, 1);\n        var areaScale = 1;\n        var stencilScale = 1;\n        result.visibleArea = applyMove(result.visibleArea, {\n            left: move.left || 0,\n            top: move.top || 0,\n        });\n        var sizeRestrictions = getSizeRestrictions(result, settings);\n        var positionRestrictions = getPositionRestrictions(result, settings);\n        var areaSizeRestrictions = getAreaSizeRestrictions(result, settings);\n        var scaleRestrictions = {\n            stencil: {\n                minimum: Math.max(sizeRestrictions.minWidth ? sizeRestrictions.minWidth / result.coordinates.width : 0, sizeRestrictions.minHeight ? sizeRestrictions.minHeight / result.coordinates.height : 0),\n                maximum: Math.min(sizeRestrictions.maxWidth ? sizeRestrictions.maxWidth / result.coordinates.width : Infinity, sizeRestrictions.maxHeight ? sizeRestrictions.maxHeight / result.coordinates.height : Infinity, maxScale(result.coordinates, positionToSizeRestrictions(positionRestrictions))),\n            },\n            area: {\n                maximum: maxScale(result.visibleArea, areaSizeRestrictions),\n                minimum: minScale(result.visibleArea, areaSizeRestrictions),\n            },\n        };\n        // If there is scaling then begin scale\n        if (scaleFactor && isAllowedScale) {\n            // Determine scale factor\n            if (scaleFactor < 1) {\n                stencilScale = Math.max(scaleFactor, Math.max(scaleRestrictions.area.minimum, scaleRestrictions.stencil.minimum));\n                if (stencilScale > 1) {\n                    stencilScale = 1;\n                }\n            }\n            else if (scaleFactor > 1) {\n                stencilScale = Math.min(scaleFactor, Math.min(scaleRestrictions.area.maximum, scaleRestrictions.stencil.maximum));\n                if (stencilScale < 1) {\n                    stencilScale = 1;\n                }\n            }\n        }\n        if (stencilScale) {\n            // Resize stencil with area as much as possible\n            result.visibleArea = applyScale(result.visibleArea, stencilScale, scaleCenter);\n        }\n        var relativeCoordinates = {\n            left: state.coordinates.left - state.visibleArea.left,\n            right: state.visibleArea.width + state.visibleArea.left - (state.coordinates.width + state.coordinates.left),\n            top: state.coordinates.top - state.visibleArea.top,\n            bottom: state.visibleArea.height + state.visibleArea.top - (state.coordinates.height + state.coordinates.top),\n        };\n        // Move the area to fit to the coordinates limits:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, {\n            left: positionRestrictions.left !== undefined\n                ? positionRestrictions.left - relativeCoordinates.left * stencilScale\n                : undefined,\n            top: positionRestrictions.top !== undefined\n                ? positionRestrictions.top - relativeCoordinates.top * stencilScale\n                : undefined,\n            bottom: positionRestrictions.bottom !== undefined\n                ? positionRestrictions.bottom + relativeCoordinates.bottom * stencilScale\n                : undefined,\n            right: positionRestrictions.right !== undefined\n                ? positionRestrictions.right + relativeCoordinates.right * stencilScale\n                : undefined,\n        });\n        // But the more important to fit are to the area restrictions, so we should fit it to that restrictions:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        // Set the same coordinates of stencil inside visible area\n        result.coordinates.width = result.coordinates.width * stencilScale;\n        result.coordinates.height = result.coordinates.height * stencilScale;\n        result.coordinates.left = result.visibleArea.left + relativeCoordinates.left * stencilScale;\n        result.coordinates.top = result.visibleArea.top + relativeCoordinates.top * stencilScale;\n        // Move the coordinates to prevent the intersection with visible area and position restrictions\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), positionRestrictions));\n        // Resize only area if stencil can't be resized and stencil resize is disabled\n        if (isAllowedScale && scaleFactor && ((_a = settings.transformImage) === null || _a === void 0 ? void 0 : _a.adjustStencil)) {\n            if (scaleFactor > 1) {\n                areaScale = Math.min(scaleRestrictions.area.maximum, scaleFactor) / stencilScale;\n            }\n            else if (scaleFactor < 1) {\n                areaScale = Math.max(result.coordinates.height / result.visibleArea.height, result.coordinates.width / result.visibleArea.width, scaleFactor / stencilScale);\n            }\n            if (areaScale !== 1) {\n                result.visibleArea = applyScale(result.visibleArea, areaScale, scaleFactor > 1 ? scaleCenter : getCenter(result.coordinates));\n                // Move to prevent the breaking of the area restrictions:\n                result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n                // Move to prevent the intersection with coordinates:\n                result.visibleArea = applyMove(result.visibleArea, inverseMove(fitToPositionRestrictions(result.coordinates, coordinatesToPositionRestrictions(result.visibleArea))));\n            }\n        }\n        return result;\n    }\n    return state;\n}\n\nexport { transformImageAlgorithm };\n","import 'tslib';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { rotateImageAlgorithm } from '../algorithms/rotateImageAlgorithm.js';\nimport { flipImageAlgorithm } from '../algorithms/flipImageAlgorithm.js';\nimport { transformImageAlgorithm } from '../algorithms/transformImageAlgorithm.js';\n\nfunction transformImage(state, settings, transform) {\n    if (transform.rotate) {\n        state = rotateImageAlgorithm(state, settings, transform.rotate);\n    }\n    if (transform.flip) {\n        state = flipImageAlgorithm(state, settings, transform.flip.horizontal, transform.flip.vertical);\n    }\n    if (transform.move || transform.scale) {\n        state = transformImageAlgorithm(state, settings, transform);\n    }\n    return state;\n}\n\nexport { transformImage };\n","import { __assign } from 'tslib';\nimport { getBrokenRatio, ratio, applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport { isInitializedState, getAspectRatio, getSizeRestrictions, getAreaSizeRestrictions, getAreaPositionRestrictions, getPositionRestrictions } from '../service/helpers.js';\nimport { copyState } from './copyState.js';\nimport '../types/index.js';\nimport './setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction reconcileState(state, settings) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var aspectRatio = getAspectRatio(state, settings);\n        var sizeRestrictions = getSizeRestrictions(state, settings);\n        var areaSizeRestrictions = getAreaSizeRestrictions(state, settings);\n        // Fit the size of coordinates to existing size restrictions and visible area\n        var brokenRatio = getBrokenRatio(ratio(state.coordinates), aspectRatio);\n        var desiredSize = brokenRatio\n            ? {\n                height: state.coordinates.height,\n                width: state.coordinates.height * brokenRatio,\n            }\n            : state.coordinates;\n        result.coordinates = __assign(__assign({}, result.coordinates), approximateSize({\n            width: desiredSize.width,\n            height: desiredSize.height,\n            aspectRatio: aspectRatio,\n            sizeRestrictions: mergeSizeRestrictions(areaSizeRestrictions, sizeRestrictions),\n        }));\n        // Return the coordinates to the previous center\n        result.coordinates = applyMove(result.coordinates, diff(getCenter(state.coordinates), getCenter(result.coordinates)));\n        var scaleModifier = Math.max(result.coordinates.width / result.visibleArea.width, result.coordinates.height / result.visibleArea.height, 1);\n        // Fit the visible area to its size restrictions and boundary aspect ratio:\n        result.visibleArea = __assign(__assign({}, state.visibleArea), approximateSize({\n            width: state.visibleArea.width * scaleModifier,\n            height: state.visibleArea.height * scaleModifier,\n            aspectRatio: {\n                minimum: ratio(result.boundary),\n                maximum: ratio(result.boundary),\n            },\n            sizeRestrictions: areaSizeRestrictions,\n        }));\n        // Return the visible area to previous center\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(state.visibleArea), getCenter(result.visibleArea)));\n        // Fit the visible area to positions restrictions\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        // Fit the coordinates to position restrictions and visible area\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\n\nexport { reconcileState };\n","import { isNumber } from '../utils/index.js';\nimport { getCoefficient } from './helpers.js';\n\nfunction normalizeResizeDirections(state, directions) {\n    var coefficient = getCoefficient(state);\n    return {\n        left: isNumber(directions.left) ? directions.left * coefficient : 0,\n        top: isNumber(directions.top) ? directions.top * coefficient : 0,\n        right: isNumber(directions.right) ? directions.right * coefficient : 0,\n        bottom: isNumber(directions.bottom) ? directions.bottom * coefficient : 0,\n    };\n}\nfunction normalizeCenter(state, center) {\n    var coefficient = getCoefficient(state);\n    if (state.visibleArea) {\n        return {\n            left: center.left * coefficient + state.visibleArea.left,\n            top: center.top * coefficient + state.visibleArea.top,\n        };\n    }\n    return center;\n}\nfunction normalizeFlip(state, flip) {\n    if (state) {\n        var normalizedAngle = Math.abs(state.transforms.rotate % 180);\n        if (normalizedAngle <= 45 || normalizedAngle >= 135) {\n            return flip;\n        }\n        else {\n            return {\n                horizontal: flip.vertical,\n                vertical: flip.horizontal,\n            };\n        }\n    }\n    return flip;\n}\nfunction fillMoveDirections(directions) {\n    return {\n        left: isNumber(directions.left) ? directions.left : 0,\n        top: isNumber(directions.top) ? directions.top : 0,\n    };\n}\nfunction fillResizeDirections(directions) {\n    return {\n        left: isNumber(directions.left) ? directions.left : 0,\n        top: isNumber(directions.top) ? directions.top : 0,\n        right: isNumber(directions.right) ? directions.right : 0,\n        bottom: isNumber(directions.bottom) ? directions.bottom : 0,\n    };\n}\nfunction normalizeMoveDirections(state, directions) {\n    var coefficient = getCoefficient(state);\n    return {\n        left: isNumber(directions.left) ? directions.left * coefficient : 0,\n        top: isNumber(directions.top) ? directions.top * coefficient : 0,\n    };\n}\nfunction normalizeImageTransform(state, transform) {\n    if (transform.scale) {\n        transform.scale = {\n            factor: isNumber(transform.scale) ? transform.scale : transform.scale.factor,\n            center: !isNumber(transform.scale) && transform.scale.center\n                ? normalizeCenter(state, transform.scale.center)\n                : undefined,\n        };\n    }\n    if (transform.rotate) {\n        transform.rotate = {\n            angle: isNumber(transform.rotate) ? transform.rotate : transform.rotate.angle,\n            center: !isNumber(transform.rotate) && transform.rotate.center\n                ? normalizeCenter(state, transform.rotate.center)\n                : undefined,\n        };\n    }\n    if (transform.move) {\n        transform.move = normalizeMoveDirections(state, transform.move);\n    }\n    return transform;\n}\n\nexport { fillMoveDirections, fillResizeDirections, normalizeCenter, normalizeFlip, normalizeImageTransform, normalizeMoveDirections, normalizeResizeDirections };\n","import { isRoughlyEqual, sign, distance } from '../utils/index.js';\n\nfunction calculateGeometricProperties(touches, container) {\n    var _a = container.getBoundingClientRect(), left = _a.left, top = _a.top;\n    var centerMass = { left: 0, top: 0 };\n    var spread = 0;\n    touches.forEach(function (touch) {\n        centerMass.left += (touch.clientX - left) / touches.length;\n        centerMass.top += (touch.clientY - top) / touches.length;\n    });\n    touches.forEach(function (touch) {\n        spread += distance({ left: centerMass.left, top: centerMass.top }, { left: touch.clientX - left, top: touch.clientY - top });\n    });\n    return { centerMass: centerMass, spread: spread, count: touches.length };\n}\nfunction touchesToImageTransform(touches, previousTouches, container, options) {\n    if (options === void 0) { options = {}; }\n    var move, scale, rotate;\n    if (previousTouches.length === 1 && touches.length === 1) {\n        if (options.move) {\n            move = {\n                left: previousTouches[0].clientX - touches[0].clientX,\n                top: previousTouches[0].clientY - touches[0].clientY,\n            };\n        }\n    }\n    else if (touches.length > 1) {\n        var previousProperties = calculateGeometricProperties(previousTouches, container);\n        var properties = calculateGeometricProperties(touches, container);\n        if (options.rotate && previousTouches.length === 2 && touches.length === 2) {\n            var diffs = {\n                left: [\n                    touches[0].clientX - touches[1].clientX,\n                    previousTouches[0].clientX - previousTouches[1].clientX,\n                ],\n                top: [touches[0].clientY - touches[1].clientY, previousTouches[0].clientY - previousTouches[1].clientY],\n            };\n            var y = diffs.left[0] * diffs.top[1] - diffs.left[1] * diffs.top[0];\n            var x = diffs.left[0] * diffs.left[1] + diffs.top[0] * diffs.top[1];\n            if (!isRoughlyEqual(x, 0) && !isRoughlyEqual(y, 0)) {\n                var radians = Math.atan2(y, x);\n                var angle = -(radians * 180) / Math.PI;\n                rotate = {\n                    center: properties.centerMass,\n                    angle: angle,\n                };\n            }\n        }\n        if (options.move) {\n            move = {\n                left: previousProperties.centerMass.left - properties.centerMass.left,\n                top: previousProperties.centerMass.top - properties.centerMass.top,\n            };\n        }\n        if (options.scale) {\n            scale = {\n                factor: properties.spread / previousProperties.spread,\n                center: properties.centerMass,\n            };\n        }\n    }\n    return {\n        move: move,\n        scale: scale,\n        rotate: rotate,\n    };\n}\nfunction wheelEventToImageTransform(event, container, ratio) {\n    if (ratio === void 0) { ratio = 0.1; }\n    var _a = container.getBoundingClientRect(), left = _a.left, top = _a.top;\n    var factor = 1 - ratio * sign((event.deltaY || event.detail || event.wheelDelta));\n    var center = {\n        left: event.clientX - left,\n        top: event.clientY - top,\n    };\n    return { scale: { factor: factor, center: center } };\n}\n\nexport { touchesToImageTransform, wheelEventToImageTransform };\n","import { deepCompare } from '../utils/index.js';\n\nfunction isEqualState(a, b) {\n    return deepCompare(a, b);\n}\n\nexport { isEqualState };\n","import 'tslib';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultPositionRestrictions(state, settings) {\n    var imageSize = getTransformedImageSize(state);\n    var limits = {};\n    if (settings.imageRestriction && settings.imageRestriction !== 'none') {\n        limits = {\n            left: 0,\n            top: 0,\n            right: imageSize.width,\n            bottom: imageSize.height,\n        };\n    }\n    return limits;\n}\n\nexport { defaultPositionRestrictions };\n","import { __assign } from 'tslib';\nimport { ratio, resizeToSizeRestrictions, getIntersections, coordinatesToPositionRestrictions, moveToPositionRestrictions } from '../service/utils.js';\nimport { getTransformedImageSize, getAreaSizeRestrictions } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultVisibleArea(state, settings) {\n    var coordinates = state.coordinates, boundary = state.boundary;\n    var imageSize = getTransformedImageSize(state);\n    var boundaryRatio = ratio(boundary);\n    if (coordinates) {\n        // Visible area will try to fit reference:\n        var reference = {\n            height: Math.max(coordinates.height, imageSize.height),\n            width: Math.max(coordinates.width, imageSize.width),\n        };\n        var visibleArea = {\n            left: 0,\n            top: 0,\n            width: ratio(reference) > boundaryRatio ? reference.width : reference.height * boundaryRatio,\n            height: ratio(reference) > boundaryRatio ? reference.width / boundaryRatio : reference.height,\n        };\n        // Visible area should correspond its restrictions:\n        visibleArea = resizeToSizeRestrictions(visibleArea, getAreaSizeRestrictions(state, settings));\n        // Visible area will try to center stencil:\n        visibleArea.left = coordinates.left + coordinates.width / 2 - visibleArea.width / 2;\n        visibleArea.top = coordinates.top + coordinates.height / 2 - visibleArea.height / 2;\n        // TODO: Controversial behavior:\n        // If the coordinates are beyond image visible area will be allowed to be beyond image alike:\n        var coordinatesIntersection = getIntersections(coordinates, coordinatesToPositionRestrictions(__assign({ left: 0, top: 0 }, imageSize)));\n        var restrictions = {};\n        if (!coordinatesIntersection.left && !coordinatesIntersection.right && visibleArea.width <= imageSize.width) {\n            restrictions.left = 0;\n            restrictions.right = imageSize.width;\n        }\n        if (!coordinatesIntersection.top && !coordinatesIntersection.bottom && visibleArea.height <= imageSize.height) {\n            restrictions.top = 0;\n            restrictions.bottom = imageSize.height;\n        }\n        return moveToPositionRestrictions(visibleArea, restrictions);\n    }\n    else {\n        var imageRatio = ratio(imageSize);\n        var areaProperties = {\n            height: imageRatio < boundaryRatio ? imageSize.height : imageSize.width / boundaryRatio,\n            width: imageRatio < boundaryRatio ? imageSize.height * boundaryRatio : imageSize.width,\n        };\n        return {\n            left: imageSize.width / 2 - areaProperties.width / 2,\n            top: imageSize.height / 2 - areaProperties.height / 2,\n            width: areaProperties.width,\n            height: areaProperties.height,\n        };\n    }\n}\n\nexport { defaultVisibleArea };\n","import { __assign } from 'tslib';\nimport { positionToSizeRestrictions, ratio } from '../service/utils.js';\nimport { getSizeRestrictions, getAspectRatio, getPositionRestrictions } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction defaultSize(state, settings) {\n    var imageSize = state.imageSize, visibleArea = state.visibleArea;\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    var aspectRatio = getAspectRatio(state, settings);\n    var area;\n    if (visibleArea) {\n        area = visibleArea;\n    }\n    else {\n        var sizeRestrictions_1 = positionToSizeRestrictions(getPositionRestrictions(state, settings));\n        area = {\n            width: Math.max(sizeRestrictions_1.minWidth, Math.min(sizeRestrictions_1.maxWidth, imageSize.width)),\n            height: Math.max(sizeRestrictions_1.minHeight, Math.min(sizeRestrictions_1.maxHeight, imageSize.height)),\n        };\n    }\n    var optimalRatio = Math.min(aspectRatio.maximum || Infinity, Math.max(aspectRatio.minimum || 0, ratio(area)));\n    var size = area.width < area.height\n        ? {\n            width: area.width * 0.8,\n            height: (area.width * 0.8) / optimalRatio,\n        }\n        : {\n            height: area.height * 0.8,\n            width: area.height * 0.8 * optimalRatio,\n        };\n    return approximateSize(__assign(__assign({}, size), { aspectRatio: aspectRatio, sizeRestrictions: sizeRestrictions }));\n}\n\nexport { defaultSize };\n","import { isNumeric, parseNumber } from '../utils/index.js';\n\nfunction retrieveSizeRestrictions(settings) {\n    return {\n        minWidth: isNumeric(settings.minWidth) ? parseNumber(settings.minWidth) : 0,\n        minHeight: isNumeric(settings.minHeight) ? parseNumber(settings.minHeight) : 0,\n        maxWidth: isNumeric(settings.maxWidth) ? parseNumber(settings.maxWidth) : Infinity,\n        maxHeight: isNumeric(settings.maxHeight) ? parseNumber(settings.maxHeight) : Infinity,\n    };\n}\nfunction pixelsRestrictions(state, settings) {\n    return retrieveSizeRestrictions(settings);\n}\n\nexport { pixelsRestrictions, retrieveSizeRestrictions };\n","import 'tslib';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultPosition(state) {\n    var visibleArea = state.visibleArea, coordinates = state.coordinates;\n    var area = visibleArea || getTransformedImageSize(state);\n    return {\n        left: (visibleArea ? visibleArea.left : 0) + area.width / 2 - (coordinates ? coordinates.width / 2 : 0),\n        top: (visibleArea ? visibleArea.top : 0) + area.height / 2 - (coordinates ? coordinates.height / 2 : 0),\n    };\n}\n\nexport { defaultPosition };\n","import 'tslib';\nimport { ratio } from '../service/utils.js';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport { ImageRestriction } from '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultAreaPositionRestrictions(state, settings) {\n    var visibleArea = state.visibleArea, boundary = state.boundary;\n    var imageRestriction = settings.imageRestriction;\n    var imageSize = getTransformedImageSize(state);\n    var restrictions = {};\n    if (imageRestriction === ImageRestriction.fillArea) {\n        restrictions = {\n            left: 0,\n            top: 0,\n            right: imageSize.width,\n            bottom: imageSize.height,\n        };\n    }\n    else if (imageRestriction === ImageRestriction.fitArea) {\n        if (ratio(boundary) > ratio(imageSize)) {\n            restrictions = {\n                top: 0,\n                bottom: imageSize.height,\n            };\n            if (visibleArea) {\n                if (visibleArea.width > imageSize.width) {\n                    restrictions.left = -(visibleArea.width - imageSize.width) / 2;\n                    restrictions.right = imageSize.width - restrictions.left;\n                }\n                else {\n                    restrictions.left = 0;\n                    restrictions.right = imageSize.width;\n                }\n            }\n        }\n        else {\n            restrictions = {\n                left: 0,\n                right: imageSize.width,\n            };\n            if (visibleArea) {\n                if (visibleArea.height > imageSize.height) {\n                    restrictions.top = -(visibleArea.height - imageSize.height) / 2;\n                    restrictions.bottom = imageSize.height - restrictions.top;\n                }\n                else {\n                    restrictions.top = 0;\n                    restrictions.bottom = imageSize.height;\n                }\n            }\n        }\n    }\n    return restrictions;\n}\n\nexport { defaultAreaPositionRestrictions };\n","import 'tslib';\nimport { ratio } from '../service/utils.js';\nimport { getTransformedImageSize } from '../service/helpers.js';\nimport { ImageRestriction } from '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultAreaSizeRestrictions(state, settings) {\n    var boundary = state.boundary;\n    var imageRestriction = settings.imageRestriction;\n    var imageSize = getTransformedImageSize(state);\n    var restrictions = {\n        minWidth: 0,\n        minHeight: 0,\n        maxWidth: Infinity,\n        maxHeight: Infinity,\n    };\n    if (imageRestriction === ImageRestriction.fillArea) {\n        restrictions.maxWidth = imageSize.width;\n        restrictions.maxHeight = imageSize.height;\n    }\n    else if (imageRestriction === ImageRestriction.fitArea) {\n        if (ratio(boundary) > ratio(imageSize)) {\n            restrictions.maxHeight = imageSize.height;\n            restrictions.maxWidth = imageSize.height * ratio(boundary);\n        }\n        else {\n            restrictions.maxWidth = imageSize.width;\n            restrictions.maxHeight = imageSize.width / ratio(boundary);\n        }\n    }\n    return restrictions;\n}\n\nexport { defaultAreaSizeRestrictions };\n","function fitBoundary(boundary, size) {\n    var areaHeight = boundary.clientHeight;\n    var areaWidth = boundary.clientWidth;\n    var currentHeight = areaHeight;\n    var currentWidth = (size.width * areaHeight) / size.height;\n    if (currentWidth > areaWidth) {\n        currentWidth = areaWidth;\n        currentHeight = (size.height * areaWidth) / size.width;\n    }\n    return {\n        width: currentWidth,\n        height: currentHeight,\n    };\n}\nfunction fillBoundary(boundary) {\n    return {\n        width: boundary.clientWidth,\n        height: boundary.clientHeight,\n    };\n}\n\nexport { fillBoundary, fitBoundary };\n","import 'tslib';\nimport { isFunction } from '../utils/index.js';\nimport { createAspectRatio } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction defaultStencilConstraints(rawSettings, stencilProps) {\n    if (!rawSettings.aspectRatio) {\n        return {\n            aspectRatio: createAspectRatio(isFunction(stencilProps.aspectRatio) ? stencilProps.aspectRatio() : stencilProps.aspectRatio),\n        };\n    }\n    return {};\n}\n\nexport { defaultStencilConstraints };\n","import { __assign } from 'tslib';\nimport { isFunction } from '../utils/index.js';\nimport { mergePositionRestrictions, createAspectRatio } from '../service/utils.js';\nimport { mergeSizeRestrictions } from '../service/sizeRestrictions.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { defaultPositionRestrictions } from './defaultPositionRestrictions.js';\nexport { defaultPositionRestrictions } from './defaultPositionRestrictions.js';\nimport { defaultVisibleArea } from './defaultVisibleArea.js';\nexport { defaultVisibleArea } from './defaultVisibleArea.js';\nimport { defaultSize } from './defaultSize.js';\nexport { defaultSize } from './defaultSize.js';\nimport { pixelsRestrictions } from './defaultSizeRestrictions.js';\nexport { pixelsRestrictions, retrieveSizeRestrictions } from './defaultSizeRestrictions.js';\nimport { defaultPosition } from './defaultPosition.js';\nexport { defaultPosition } from './defaultPosition.js';\nimport { defaultAreaPositionRestrictions } from './defaultAreaPositionRestrictions.js';\nexport { defaultAreaPositionRestrictions } from './defaultAreaPositionRestrictions.js';\nimport { defaultAreaSizeRestrictions } from './defaultAreaSizeRestrictions.js';\nexport { defaultAreaSizeRestrictions } from './defaultAreaSizeRestrictions.js';\nexport { fillBoundary, fitBoundary } from './defaultBoundary.js';\nexport { defaultStencilConstraints } from './defaultStencilConstraints.js';\n\nfunction withDefaultSizeRestrictions(sizeRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(sizeRestrictions) ? sizeRestrictions(state, basicSettings) : sizeRestrictions;\n        return mergeSizeRestrictions(pixelsRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultPositionRestrictions(positionRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(positionRestrictions)\n            ? positionRestrictions(state, basicSettings)\n            : positionRestrictions;\n        return mergePositionRestrictions(defaultPositionRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultAreaPositionRestrictions(areaPositionRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(areaPositionRestrictions)\n            ? areaPositionRestrictions(state, basicSettings)\n            : areaPositionRestrictions;\n        return mergePositionRestrictions(defaultAreaPositionRestrictions(state, basicSettings), value);\n    };\n}\nfunction withDefaultAreaSizeRestrictions(areaSizeRestrictions) {\n    return function (state, basicSettings) {\n        var value = isFunction(areaSizeRestrictions)\n            ? areaSizeRestrictions(state, basicSettings)\n            : areaSizeRestrictions;\n        return mergeSizeRestrictions(defaultAreaSizeRestrictions(state, basicSettings), value);\n    };\n}\nfunction createDefaultSettings(params) {\n    return __assign(__assign({}, params), { sizeRestrictions: function (state, basicSettings) {\n            var restrictions;\n            if (params.sizeRestrictions) {\n                restrictions = isFunction(params.sizeRestrictions)\n                    ? params.sizeRestrictions(state, basicSettings)\n                    : params.sizeRestrictions;\n            }\n            else {\n                restrictions = pixelsRestrictions(state, basicSettings);\n            }\n            return restrictions;\n        }, areaPositionRestrictions: function (state, basicSettings) {\n            if (params.areaPositionRestrictions) {\n                return isFunction(params.areaPositionRestrictions)\n                    ? params.areaPositionRestrictions(state, basicSettings)\n                    : params.areaPositionRestrictions;\n            }\n            else {\n                return defaultAreaPositionRestrictions(state, basicSettings);\n            }\n        }, areaSizeRestrictions: function (state, basicSettings) {\n            if (params.areaSizeRestrictions) {\n                return isFunction(params.areaSizeRestrictions)\n                    ? params.areaSizeRestrictions(state, basicSettings)\n                    : params.areaSizeRestrictions;\n            }\n            else {\n                return defaultAreaSizeRestrictions(state, basicSettings);\n            }\n        }, positionRestrictions: function (state, basicSettings) {\n            if (params.positionRestrictions) {\n                return isFunction(params.positionRestrictions)\n                    ? params.positionRestrictions(state, basicSettings)\n                    : params.positionRestrictions;\n            }\n            else {\n                return defaultPositionRestrictions(state, basicSettings);\n            }\n        }, defaultCoordinates: function (state, basicSettings) {\n            if (params.defaultCoordinates) {\n                return isFunction(params.defaultCoordinates)\n                    ? params.defaultCoordinates(state, basicSettings)\n                    : params.defaultCoordinates;\n            }\n            else {\n                var defaultSizeAlgorithm = params.defaultSize;\n                if (!defaultSizeAlgorithm) {\n                    defaultSizeAlgorithm = defaultSize;\n                }\n                var size = isFunction(defaultSizeAlgorithm)\n                    ? defaultSizeAlgorithm(state, basicSettings)\n                    : defaultSizeAlgorithm;\n                var defaultPositionAlgorithm_1 = params.defaultPosition || defaultPosition;\n                return [\n                    size,\n                    function (state) { return (__assign({}, (isFunction(defaultPositionAlgorithm_1)\n                        ? defaultPositionAlgorithm_1(state, basicSettings)\n                        : defaultPositionAlgorithm_1))); },\n                ];\n            }\n        }, defaultVisibleArea: function (state, basicSettings) {\n            if (params.defaultVisibleArea) {\n                return isFunction(params.defaultVisibleArea)\n                    ? params.defaultVisibleArea(state, basicSettings)\n                    : params.defaultVisibleArea;\n            }\n            else {\n                return defaultVisibleArea(state, basicSettings);\n            }\n        }, aspectRatio: function (state, basicSettings) {\n            return createAspectRatio(isFunction(params.aspectRatio) ? params.aspectRatio(state, basicSettings) : params.aspectRatio);\n        } });\n}\n\nexport { createDefaultSettings, withDefaultAreaPositionRestrictions, withDefaultAreaSizeRestrictions, withDefaultPositionRestrictions, withDefaultSizeRestrictions };\n","function hasInteractions(interactions) {\n    return (interactions.moveCoordinates ||\n        interactions.resizeCoordinates ||\n        interactions.transformImage.move ||\n        interactions.transformImage.rotate ||\n        interactions.transformImage.flip ||\n        interactions.transformImage.scale);\n}\nfunction emptyInteractions() {\n    return {\n        moveCoordinates: false,\n        resizeCoordinates: false,\n        transformImage: {\n            rotate: false,\n            move: false,\n            scale: false,\n            flip: false,\n        },\n    };\n}\n\nexport { emptyInteractions, hasInteractions };\n","import { __assign } from 'tslib';\nimport { getOptions, deepClone, debounce, isArray, isFunction, deepCompare, isUndefined } from '../utils/index.js';\nimport { getCoefficient, isConsistentState, getStencilCoordinates, getRoundedCoordinates } from '../service/helpers.js';\nimport { copyState } from '../state/copyState.js';\nimport { setCoordinates, SetCoordinatesMode } from '../state/setCoordinates.js';\nimport { setVisibleArea } from '../state/setVisibleArea.js';\nimport { createState } from '../state/createState.js';\nimport { moveCoordinates } from '../state/moveCoordinates.js';\nimport { resizeCoordinates } from '../state/resizeCoordinates.js';\nimport { setBoundary } from '../state/setBoundary.js';\nimport { transformImage } from '../state/transformImage.js';\nimport { reconcileState } from '../state/reconcileState.js';\nimport { normalizeImageTransform, normalizeFlip, normalizeMoveDirections, fillMoveDirections, normalizeResizeDirections, fillResizeDirections } from '../service/normalize.js';\nimport { hasInteractions } from '../service/interactions.js';\n\nfunction runCallback(callback, getInstance) {\n    if (callback && getInstance) {\n        var instance = getInstance();\n        if (instance) {\n            callback(instance);\n        }\n    }\n}\nfunction createCallback(callback, getInstance) {\n    return function () {\n        runCallback(callback, getInstance);\n    };\n}\nfunction runCallbacks(callbacks) {\n    callbacks.forEach(function (callback) {\n        callback();\n    });\n}\nvar AbstractCropper = /** @class */ (function () {\n    function AbstractCropper() {\n        var _this = this;\n        this.getTransitions = function () {\n            var data = _this.getData();\n            var transitions = _this.getProps().transitions;\n            return __assign(__assign({}, getOptions(transitions, {\n                timingFunction: 'ease-in-out',\n                duration: 350,\n            })), { active: data.transitions });\n        };\n        this.getInteractions = function () {\n            var interactions = _this.getData().interactions;\n            return deepClone(interactions);\n        };\n        this.hasInteractions = function () {\n            var interactions = _this.getData().interactions;\n            return hasInteractions(interactions);\n        };\n        this.disableTransitions = debounce(function () {\n            var _a = _this.getProps(), onTransitionsEnd = _a.onTransitionsEnd, getInstance = _a.getInstance;\n            _this.setData(__assign(__assign({}, _this.getData()), { transitions: false }));\n            runCallback(onTransitionsEnd, getInstance);\n        }, function () {\n            return _this.getTransitions().duration;\n        });\n        this.applyPostProcess = function (action, state) {\n            var _a = _this.getProps(), settings = _a.settings, postProcess = _a.postProcess;\n            var name = action.name, _b = action.interaction, interaction = _b === void 0 ? false : _b, _c = action.transitions, transitions = _c === void 0 ? false : _c, _d = action.immediately, immediately = _d === void 0 ? false : _d;\n            var preparedAction = {\n                name: name,\n                interaction: interaction,\n                transitions: transitions,\n                immediately: immediately,\n            };\n            if (isArray(postProcess)) {\n                return postProcess.reduce(function (processedState, p) { return p(processedState, settings, preparedAction); }, state);\n            }\n            else if (isFunction(postProcess)) {\n                return postProcess(state, settings, preparedAction);\n            }\n            else {\n                return state;\n            }\n        };\n        this.updateState = function (modifier, options, callbacks) {\n            if (options === void 0) { options = {}; }\n            if (callbacks === void 0) { callbacks = []; }\n            var _a = options.transitions, transitions = _a === void 0 ? false : _a;\n            var _b = _this.getProps(), onTransitionsStart = _b.onTransitionsStart, getInstance = _b.getInstance, onChange = _b.onChange, settings = _b.settings;\n            var previousData = _this.getData();\n            var state = isFunction(modifier) ? modifier(previousData.state, settings) : modifier;\n            var tolerance = state ? 1e-3 * getCoefficient(state) : 1e-3;\n            var somethingChanged = !deepCompare(previousData.state, state, tolerance);\n            var affectTransitionProperties = [\n                'coordinates',\n                'boundary',\n                'visibleArea',\n                'imageSize',\n                'transforms',\n            ].some(function (property) { var _a; return !deepCompare((_a = previousData.state) === null || _a === void 0 ? void 0 : _a[property], state === null || state === void 0 ? void 0 : state[property], tolerance); });\n            var currentData = previousData;\n            if (somethingChanged) {\n                if (transitions && affectTransitionProperties) {\n                    _this.disableTransitions();\n                }\n                currentData = __assign(__assign({}, currentData), { state: copyState(state), transitions: transitions && affectTransitionProperties });\n                _this.setData(currentData);\n                runCallback(onChange, getInstance);\n            }\n            if (currentData.transitions && !previousData.transitions) {\n                runCallback(onTransitionsStart, getInstance);\n            }\n            runCallbacks(callbacks.map(function (callback) { return createCallback(callback, getInstance); }));\n        };\n        this.setInteractions = function (interactions) {\n            var _a = _this.getProps(), onInteractionStart = _a.onInteractionStart, onInteractionEnd = _a.onInteractionEnd, getInstance = _a.getInstance;\n            var previousInteractions = _this.getInteractions();\n            var currentInteractions = __assign(__assign({}, previousInteractions), interactions);\n            if (!deepCompare(previousInteractions, currentInteractions)) {\n                _this.setData(__assign(__assign({}, _this.getData()), { interactions: currentInteractions }));\n            }\n            if (hasInteractions(previousInteractions) !== hasInteractions(currentInteractions)) {\n                if (!hasInteractions(previousInteractions)) {\n                    runCallback(onInteractionStart, getInstance);\n                }\n                else {\n                    var state_1 = _this.getData().state;\n                    _this.updateState(function () {\n                        return state_1 &&\n                            _this.applyPostProcess({\n                                name: 'interactionEnd',\n                                immediately: true,\n                                transitions: true,\n                            }, state_1);\n                    }, {\n                        transitions: true,\n                    }, [onInteractionEnd]);\n                }\n            }\n        };\n        this.resetState = function (boundary, image) {\n            _this.updateState(_this.createDefaultState(boundary, image));\n        };\n        this.clear = function () {\n            _this.updateState(null);\n        };\n        this.reconcileState = function (options) {\n            if (options === void 0) { options = {}; }\n            var _a = _this.getProps(), reconcileStateAlgorithm = _a.reconcileStateAlgorithm, settings = _a.settings;\n            var state = _this.getData().state;\n            var _b = options.transitions, transitions = _b === void 0 ? false : _b;\n            if (state && !isConsistentState(state, settings)) {\n                var reconciledState = (reconcileStateAlgorithm || reconcileState)(state, settings);\n                reconciledState = _this.applyPostProcess({\n                    name: 'reconcileState',\n                    immediately: true,\n                    transitions: transitions,\n                }, reconciledState);\n                _this.updateState(reconciledState, {\n                    transitions: transitions,\n                });\n            }\n        };\n        this.transformImage = function (transform, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.immediately, immediately = _c === void 0 ? false : _c, _d = options.normalize, normalize = _d === void 0 ? true : _d;\n            var _e = _this.getProps(), transformImageAlgorithm = _e.transformImageAlgorithm, onTransformImage = _e.onTransformImage, onTransformImageEnd = _e.onTransformImageEnd, settings = _e.settings;\n            var state = _this.getData().state;\n            var callbacks = [];\n            if (state) {\n                if (normalize) {\n                    transform = normalizeImageTransform(state, transform);\n                }\n                var result = _this.applyPostProcess({\n                    name: 'transformImage',\n                    transitions: transitions,\n                    immediately: immediately,\n                }, (transformImageAlgorithm || transformImage)(state, settings, transform));\n                callbacks.push(onTransformImage);\n                if (interaction) {\n                    _this.setInteractions({\n                        transformImage: {\n                            rotate: !isUndefined(transform.rotate),\n                            flip: !isUndefined(transform.flip),\n                            scale: !isUndefined(transform.scale),\n                            move: !isUndefined(transform.move),\n                        },\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({\n                        name: 'transformImageEnd',\n                        transitions: transitions,\n                        immediately: true,\n                    }, result);\n                    callbacks.push(onTransformImageEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.transformImageEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.immediately, immediately = _a === void 0 ? true : _a, _b = options.transitions, transitions = _b === void 0 ? true : _b;\n            var state = _this.getData().state;\n            var onTransformImageEnd = _this.getProps().onTransformImageEnd;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'transformImageEnd', immediately: immediately, transitions: transitions }, state); }, {\n                transitions: transitions,\n            }, [onTransformImageEnd]);\n            _this.setInteractions({\n                transformImage: {\n                    rotate: false,\n                    flip: false,\n                    scale: false,\n                    move: false,\n                },\n            });\n        };\n        this.zoomImage = function (scale, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                scale: scale,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.moveImage = function (left, top, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                move: {\n                    left: left,\n                    top: top,\n                },\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.flipImage = function (horizontal, vertical, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? true : _d;\n            var state = _this.getState();\n            var flip = {\n                horizontal: horizontal,\n                vertical: vertical,\n            };\n            _this.transformImage({\n                flip: state && normalize ? normalizeFlip(state, flip) : flip,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions });\n        };\n        this.rotateImage = function (rotate, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.interaction, interaction = _a === void 0 ? false : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? true : _c, _d = options.normalize, normalize = _d === void 0 ? false : _d;\n            _this.transformImage({\n                rotate: rotate,\n            }, { interaction: interaction, immediately: immediately, transitions: transitions, normalize: normalize });\n        };\n        this.reset = function (boundary, image) {\n            _this.resetState(boundary, image);\n        };\n        this.setState = function (modifier, options) {\n            if (options === void 0) { options = {}; }\n            var settings = _this.getSettings();\n            var state = _this.getData().state;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b, _c = options.interaction, interaction = _c === void 0 ? false : _c, _d = options.postprocess, postprocess = _d === void 0 ? false : _d;\n            var newState = modifier && (isFunction(modifier) ? modifier(state, settings) : __assign(__assign({}, state), modifier));\n            _this.updateState(function () {\n                return postprocess\n                    ? newState &&\n                        _this.applyPostProcess({\n                            name: 'setState',\n                            immediately: immediately,\n                            transitions: transitions,\n                            interaction: interaction,\n                        }, newState)\n                    : newState;\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setCoordinates = function (transforms, options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), setCoordinatesAlgorithm = _a.setCoordinatesAlgorithm, settings = _a.settings;\n            var _b = options.transitions, transitions = _b === void 0 ? true : _b, _c = options.immediately, immediately = _c === void 0 ? true : _c;\n            _this.updateState(function () {\n                return state &&\n                    _this.applyPostProcess({\n                        name: 'setCoordinates',\n                        immediately: immediately,\n                        transitions: transitions,\n                    }, (setCoordinatesAlgorithm || setCoordinates)(state, settings, transforms, SetCoordinatesMode.zoom));\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setVisibleArea = function (visibleArea, options) {\n            if (options === void 0) { options = {}; }\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? true : _b;\n            var state = _this.getData().state;\n            var _c = _this.getProps(), setVisibleAreaAlgorithm = _c.setVisibleAreaAlgorithm, settings = _c.settings;\n            _this.updateState(function () {\n                return state &&\n                    _this.applyPostProcess({ name: 'setVisibleArea', immediately: immediately, transitions: transitions }, (setVisibleAreaAlgorithm || setVisibleArea)(state, settings, visibleArea));\n            }, {\n                transitions: transitions,\n            });\n        };\n        this.setBoundary = function (boundary, options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), setBoundaryAlgorithm = _a.setBoundaryAlgorithm, settings = _a.settings;\n            var _b = options.transitions, transitions = _b === void 0 ? false : _b, _c = options.immediately, immediately = _c === void 0 ? true : _c;\n            if (boundary) {\n                _this.updateState(function () {\n                    return state &&\n                        _this.applyPostProcess({ name: 'setBoundary', immediately: immediately, transitions: transitions }, (setBoundaryAlgorithm || setBoundary)(state, settings, boundary));\n                });\n            }\n            else {\n                _this.updateState(null);\n            }\n        };\n        this.moveCoordinates = function (directions, options) {\n            if (options === void 0) { options = {}; }\n            var data = _this.getData();\n            var _a = _this.getProps(), moveCoordinatesAlgorithm = _a.moveCoordinatesAlgorithm, onMove = _a.onMove, onMoveEnd = _a.onMoveEnd, settings = _a.settings;\n            var _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? false : _c, _d = options.immediately, immediately = _d === void 0 ? false : _d, _e = options.normalize, normalize = _e === void 0 ? true : _e;\n            var callbacks = [];\n            if (!data.transitions && data.state) {\n                var normalizedDirections = normalize\n                    ? normalizeMoveDirections(data.state, directions)\n                    : fillMoveDirections(directions);\n                var result = _this.applyPostProcess({ name: 'moveCoordinates', interaction: interaction, immediately: immediately, transitions: transitions }, (moveCoordinatesAlgorithm || moveCoordinates)(data.state, settings, normalizedDirections));\n                callbacks.push(onMove);\n                if (interaction) {\n                    _this.setInteractions({\n                        moveCoordinates: true,\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({ name: 'moveCoordinatesEnd', interaction: interaction, immediately: immediately, transitions: transitions }, result);\n                    callbacks.push(onMoveEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.moveCoordinatesEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var onMoveEnd = _this.getProps().onMoveEnd;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'moveCoordinatesEnd', transitions: transitions, immediately: immediately }, state); }, {\n                transitions: transitions,\n            }, [onMoveEnd]);\n            _this.setInteractions({\n                moveCoordinates: false,\n            });\n        };\n        this.resizeCoordinates = function (directions, parameters, options) {\n            if (parameters === void 0) { parameters = {}; }\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var _a = _this.getProps(), resizeCoordinatesAlgorithm = _a.resizeCoordinatesAlgorithm, onResize = _a.onResize, onResizeEnd = _a.onResizeEnd, settings = _a.settings;\n            var _b = options.interaction, interaction = _b === void 0 ? true : _b, _c = options.transitions, transitions = _c === void 0 ? false : _c, _d = options.immediately, immediately = _d === void 0 ? false : _d, _e = options.normalize, normalize = _e === void 0 ? true : _e;\n            var transitionsOptions = _this.getTransitions();\n            if (!transitionsOptions.active && state) {\n                var callbacks = [];\n                var normalizedDirections = normalize\n                    ? normalizeResizeDirections(state, directions)\n                    : fillResizeDirections(directions);\n                var result = _this.applyPostProcess({ name: 'resizeCoordinates', interaction: interaction, immediately: immediately, transitions: transitions }, (resizeCoordinatesAlgorithm || resizeCoordinates)(state, settings, normalizedDirections, parameters));\n                callbacks.push(onResize);\n                if (interaction) {\n                    _this.setInteractions({\n                        resizeCoordinates: true,\n                    });\n                }\n                else {\n                    result = _this.applyPostProcess({ name: 'resizeCoordinatesEnd', interaction: interaction, immediately: immediately, transitions: transitions }, result);\n                    callbacks.push(onResizeEnd);\n                }\n                _this.updateState(result, {\n                    transitions: immediately && transitions,\n                }, callbacks);\n            }\n        };\n        this.resizeCoordinatesEnd = function (options) {\n            if (options === void 0) { options = {}; }\n            var onResizeEnd = _this.getProps().onResizeEnd;\n            var state = _this.getData().state;\n            var _a = options.transitions, transitions = _a === void 0 ? true : _a, _b = options.immediately, immediately = _b === void 0 ? false : _b;\n            _this.updateState(function () { return state && _this.applyPostProcess({ name: 'resizeCoordinatesEnd', transitions: transitions, immediately: immediately }, state); }, {\n                transitions: transitions,\n            }, [onResizeEnd]);\n            _this.setInteractions({\n                resizeCoordinates: false,\n            });\n        };\n        this.getStencilCoordinates = function () {\n            var state = _this.getData().state;\n            return getStencilCoordinates(state);\n        };\n        this.getCoordinates = function (options) {\n            if (options === void 0) { options = {}; }\n            var state = _this.getData().state;\n            var settings = _this.getProps().settings;\n            if (state && state.coordinates) {\n                var _a = options.round, round = _a === void 0 ? true : _a;\n                if (round) {\n                    return getRoundedCoordinates(state, settings);\n                }\n                else {\n                    return __assign({}, state.coordinates);\n                }\n            }\n            else {\n                return null;\n            }\n        };\n        this.getVisibleArea = function () {\n            var state = _this.getData().state;\n            if (state) {\n                return __assign({}, state.visibleArea);\n            }\n            else {\n                return null;\n            }\n        };\n        this.getSettings = function () {\n            var settings = _this.getProps().settings;\n            return __assign({}, settings);\n        };\n        this.getState = function () {\n            var state = _this.getData().state;\n            return copyState(state);\n        };\n        this.getTransforms = function () {\n            var state = _this.getData().state;\n            return state\n                ? deepClone(state.transforms)\n                : {\n                    rotate: 0,\n                    flip: {\n                        horizontal: false,\n                        vertical: false,\n                    },\n                };\n        };\n        this.createDefaultState = function (boundary, image) {\n            var _a = _this.getProps(), defaultTransforms = _a.defaultTransforms, createStateAlgorithm = _a.createStateAlgorithm, priority = _a.priority, settings = _a.settings;\n            var transforms = image.transforms;\n            if (defaultTransforms) {\n                transforms = isFunction(defaultTransforms) ? defaultTransforms(image) : defaultTransforms;\n            }\n            return _this.applyPostProcess({\n                name: 'createState',\n                immediately: true,\n                transitions: false,\n            }, (createStateAlgorithm || createState)({\n                boundary: boundary,\n                imageSize: { width: image.width, height: image.height },\n                transforms: transforms,\n                priority: priority,\n            }, settings));\n        };\n        this.isConsistent = function () {\n            var state = _this.getData().state;\n            var settings = _this.getProps().settings;\n            return state ? isConsistentState(state, settings) : true;\n        };\n    }\n    return AbstractCropper;\n}());\n\nexport { AbstractCropper };\n","import { __extends } from 'tslib';\nimport { emptyInteractions } from '../service/interactions.js';\nimport { AbstractCropper } from './AbstractCropper.js';\n\nvar CropperInstance = /** @class */ (function (_super) {\n    __extends(CropperInstance, _super);\n    function CropperInstance(props) {\n        var _this = _super.call(this) || this;\n        _this.props = props;\n        if (!_this.isControlled()) {\n            _this.data = {\n                state: null,\n                transitions: false,\n                interactions: emptyInteractions(),\n            };\n        }\n        return _this;\n    }\n    CropperInstance.prototype.isControlled = function () {\n        return Boolean(this.props.getData);\n    };\n    CropperInstance.prototype.setData = function (data) {\n        var _a, _b;\n        if (!this.isControlled()) {\n            this.data = data;\n        }\n        (_b = (_a = this.props).setData) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n    };\n    CropperInstance.prototype.getProps = function () {\n        return this.props.getProps();\n    };\n    CropperInstance.prototype.getData = function () {\n        var _a, _b;\n        return (this.isControlled() ? (_b = (_a = this.props).getData) === null || _b === void 0 ? void 0 : _b.call(_a) : this.data);\n    };\n    return CropperInstance;\n}(AbstractCropper));\n\nexport { CropperInstance };\n","var timingFunctions = {\n    linear: function (t) {\n        return t;\n    },\n    'ease-in': function (t) {\n        return Math.pow(t, 1.675);\n    },\n    'ease-out': function (t) {\n        return 1 - Math.pow(1 - t, 1.675);\n    },\n    'ease-in-out': function (t) {\n        return 0.5 * (Math.sin((t - 0.5) * Math.PI) + 1);\n    },\n};\nvar Animation = /** @class */ (function () {\n    function Animation() {\n        this.active = false;\n    }\n    Animation.prototype.start = function (animation) {\n        var _a;\n        this.onStart = animation.onStart;\n        this.onProgress = animation.onProgress;\n        this.onStop = animation.onStop;\n        if (!this.active) {\n            (_a = this.onStart) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n        if (this.id) {\n            window.cancelAnimationFrame(this.id);\n        }\n        this.startTime = performance.now();\n        this.timingFunction = animation.timingFunction;\n        this.endTime = this.startTime + animation.duration;\n        this.active = true;\n        this.animate();\n    };\n    Animation.prototype.animate = function () {\n        var _this = this;\n        if (this.startTime && this.endTime) {\n            var timingFunction = timingFunctions[this.timingFunction];\n            if (!timingFunction) {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.warn(\"[Animation] The timing function '\" + timingFunction + \"' is not supported. Available timing function: 'linear', 'ease-in', 'ease-in-out', 'ease-out'. Reset to 'ease-out'.\");\n                }\n                timingFunction = timingFunctions['ease-out'];\n            }\n            var percent = 1 - (this.endTime - performance.now()) / (this.endTime - this.startTime);\n            var progress = Math.min(1, timingFunction(percent));\n            if (this.onProgress) {\n                this.onProgress(progress);\n            }\n            if (percent < 1) {\n                this.id = window.requestAnimationFrame(function () { return _this.animate(); });\n            }\n            else {\n                this.stop();\n            }\n        }\n        else {\n            this.stop();\n        }\n    };\n    Animation.prototype.stop = function () {\n        this.active = false;\n        if (this.id) {\n            window.cancelAnimationFrame(this.id);\n        }\n        if (this.onStop) {\n            this.onStop();\n        }\n    };\n    return Animation;\n}());\n\nexport { Animation };\n","import { __assign } from 'tslib';\nimport { isNumeric } from '../utils/index.js';\nimport { rotateSize, rotatePoint, getCenter } from '../service/utils.js';\nimport { isInitializedState } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\nimport { approximateSize } from '../service/approximateSize.js';\n\nfunction prepareSource(canvas, image, _a) {\n    var rotate = _a.rotate, flip = _a.flip;\n    var originalSize = {\n        width: 'naturalWidth' in image ? image.naturalWidth : image.width,\n        height: 'naturalHeight' in image ? image.naturalHeight : image.height,\n    };\n    var transformedSize = rotateSize(originalSize, rotate);\n    var ctx = canvas.getContext('2d');\n    canvas.height = transformedSize.height;\n    canvas.width = transformedSize.width;\n    if (ctx) {\n        ctx.save();\n        // Rotation:\n        var canvasCenter = rotatePoint(getCenter(__assign({ left: 0, top: 0 }, originalSize)), rotate);\n        ctx.translate(-(canvasCenter.left - transformedSize.width / 2), -(canvasCenter.top - transformedSize.height / 2));\n        ctx.rotate((rotate * Math.PI) / 180);\n        // Reflection;\n        ctx.translate(flip.horizontal ? originalSize.width : 0, flip.vertical ? originalSize.height : 0);\n        ctx.scale(flip.horizontal ? -1 : 1, flip.vertical ? -1 : 1);\n        ctx.drawImage(image, 0, 0, originalSize.width, originalSize.height);\n        ctx.restore();\n    }\n    return canvas;\n}\nfunction updateCanvas(canvas, source, coordinates, resultSize, options) {\n    canvas.width = resultSize ? resultSize.width : coordinates.width;\n    canvas.height = resultSize ? resultSize.height : coordinates.height;\n    var ctx = canvas.getContext('2d');\n    if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (options) {\n            if (options.imageSmoothingEnabled) {\n                ctx.imageSmoothingEnabled = options.imageSmoothingEnabled;\n            }\n            if (options.imageSmoothingQuality) {\n                ctx.imageSmoothingQuality = options.imageSmoothingQuality;\n            }\n            if (options.fillColor) {\n                ctx.fillStyle = options.fillColor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.save();\n            }\n        }\n        ctx.drawImage(source, coordinates.left, coordinates.top, coordinates.width, coordinates.height, 0, 0, canvas.width, canvas.height);\n    }\n    return canvas;\n}\nfunction drawCroppedArea(state, image, resultCanvas, spareCanvas, options) {\n    if (isInitializedState(state)) {\n        var transforms = state.transforms, coordinates = state.coordinates;\n        var imageTransformed = transforms.rotate !== 0 || transforms.flip.horizontal || transforms.flip.vertical;\n        var source = imageTransformed ? prepareSource(spareCanvas, image, transforms) : image;\n        var params = __assign({ minWidth: 0, minHeight: 0, maxWidth: Infinity, maxHeight: Infinity, maxArea: Infinity, imageSmoothingEnabled: true, imageSmoothingQuality: 'high', fillColor: 'transparent' }, options);\n        var firstNumeric = function (array) { return array.find(function (el) { return isNumeric(el); }); };\n        var size = approximateSize({\n            sizeRestrictions: {\n                minWidth: firstNumeric([params.width, params.minWidth]) || 0,\n                minHeight: firstNumeric([params.height, params.minHeight]) || 0,\n                maxWidth: firstNumeric([params.width, params.maxWidth]) || Infinity,\n                maxHeight: firstNumeric([params.height, params.maxHeight]) || Infinity,\n            },\n            width: coordinates.width,\n            height: coordinates.height,\n            aspectRatio: {\n                minimum: coordinates.width / coordinates.height,\n                maximum: coordinates.width / coordinates.height,\n            },\n        });\n        if (params.maxArea && size.width * size.height > params.maxArea) {\n            var scale = Math.sqrt(params.maxArea / (size.width * size.height));\n            size = {\n                width: Math.round(scale * size.width),\n                height: Math.round(scale * size.height),\n            };\n        }\n        return updateCanvas(resultCanvas, source, coordinates, size, params);\n    }\n    else {\n        return null;\n    }\n}\n\nexport { drawCroppedArea, prepareSource, updateCanvas };\n","import 'tslib';\nimport { ratio } from '../service/utils.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nfunction stretchCropperBoundary(boundary, stretcher, size) {\n    // Reset stretcher\n    stretcher.style.width = \"0px\";\n    stretcher.style.height = \"0px\";\n    // Try to fit the size by width:\n    stretcher.style.width = Math.max(boundary.clientWidth, size.width) + \"px\";\n    // After that try to fit the size by height and resulted width:\n    var ratio = size.width / size.height;\n    stretcher.style.height = Math.max(boundary.clientHeight, stretcher.clientWidth / ratio) + \"px\";\n    stretcher.style.width = stretcher.clientHeight * ratio + \"px\";\n}\nfunction stretchPreviewBoundary(boundary, stretcher, size) {\n    // Reset stretcher\n    stretcher.style.width = \"0px\";\n    stretcher.style.height = \"0px\";\n    // Stretch the boundary with respect to its width\n    var width = Math.max(boundary.clientWidth, size.width);\n    stretcher.style.width = width + \"px\";\n    stretcher.style.height = width / ratio(size) + \"px\";\n    // If the height of boundary larger than current stretcher height\n    // stretch the boundary with respect to its height\n    if (stretcher.clientHeight < boundary.clientHeight) {\n        stretcher.style.height = boundary.clientHeight + \"px\";\n        stretcher.style.width = stretcher.clientHeight * ratio(size) + \"px\";\n    }\n}\n\nexport { stretchCropperBoundary, stretchPreviewBoundary };\n","import { __assign } from 'tslib';\nimport { isCrossOriginURL, isBlob, isLocal } from '../utils/index.js';\nimport { getTransformedImageSize, getCoefficient } from '../service/helpers.js';\nimport '../types/index.js';\nimport '../state/setCoordinates.js';\n\nvar XHR_DONE = 4;\nfunction base64ToArrayBuffer(base64) {\n    base64 = base64.replace(/^data:([^;]+);base64,/gim, '');\n    var binary = atob(base64);\n    var len = binary.length;\n    var buffer = new ArrayBuffer(len);\n    var view = new Uint8Array(buffer);\n    for (var i = 0; i < len; i++) {\n        view[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\nfunction objectURLToBlob(url, callback) {\n    var http = new XMLHttpRequest();\n    http.open('GET', url, true);\n    http.responseType = 'blob';\n    http.onload = function () {\n        if (this.status == 200 || this.status === 0) {\n            callback(this.response);\n        }\n    };\n    http.send();\n}\nfunction getTransforms(orientation) {\n    var result = {\n        flip: {\n            horizontal: false,\n            vertical: false,\n        },\n        rotate: 0,\n    };\n    if (orientation) {\n        switch (orientation) {\n            case 2:\n                result.flip.horizontal = true;\n                break;\n            case 3:\n                result.rotate = -180;\n                break;\n            case 4:\n                result.flip.vertical = true;\n                break;\n            case 5:\n                result.rotate = 90;\n                result.flip.vertical = true;\n                break;\n            case 6:\n                result.rotate = 90;\n                break;\n            case 7:\n                result.rotate = 90;\n                result.flip.horizontal = true;\n                break;\n            case 8:\n                result.rotate = -90;\n                break;\n        }\n    }\n    return result;\n}\nfunction getImageData(img) {\n    return new Promise(function (resolve, reject) {\n        try {\n            if (img) {\n                if (/^data:/i.test(img)) {\n                    // Data URL\n                    resolve(base64ToArrayBuffer(img));\n                }\n                else if (/^blob:/i.test(img)) {\n                    // Blob\n                    var fileReader_1 = new FileReader();\n                    fileReader_1.onload = function (e) {\n                        var _a;\n                        resolve((_a = e.target) === null || _a === void 0 ? void 0 : _a.result);\n                    };\n                    objectURLToBlob(img, function (blob) {\n                        fileReader_1.readAsArrayBuffer(blob);\n                    });\n                }\n                else {\n                    // Simple URL\n                    var http_1 = new XMLHttpRequest();\n                    http_1.onreadystatechange = function () {\n                        if (http_1.readyState !== XHR_DONE)\n                            return;\n                        if (http_1.status === 200 || http_1.status === 0) {\n                            resolve(http_1.response);\n                        }\n                        else {\n                            reject('Warning: could not load an image to parse its orientation');\n                        }\n                    };\n                    http_1.onprogress = function () {\n                        // Abort the request directly if it not a JPEG image for better performance\n                        if (http_1.getResponseHeader('content-type') !== 'image/jpeg') {\n                            http_1.abort();\n                        }\n                    };\n                    http_1.withCredentials = false;\n                    http_1.open('GET', img, true);\n                    http_1.responseType = 'arraybuffer';\n                    http_1.send(null);\n                }\n            }\n            else {\n                reject('Error: the image is empty');\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\nfunction getStyleTransforms(_a) {\n    var rotate = _a.rotate, flip = _a.flip, scale = _a.scale;\n    var transform = '';\n    transform += \" rotate(\" + rotate + \"deg) \";\n    transform += \" scaleX(\" + scale * (flip.horizontal ? -1 : 1) + \") \";\n    transform += \" scaleY(\" + scale * (flip.vertical ? -1 : 1) + \") \";\n    return transform;\n}\nfunction getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    var i;\n    for (i = start, length += start; i < length; i++) {\n        str += String.fromCharCode(dataView.getUint8(i));\n    }\n    return str;\n}\nfunction resetAndGetOrientation(arrayBuffer) {\n    try {\n        var dataView = new DataView(arrayBuffer);\n        var orientation_1;\n        var exifIDCode = void 0;\n        var tiffOffset = void 0;\n        var littleEndian = void 0;\n        var app1Start = void 0;\n        var ifdStart = void 0;\n        // Only handle JPEG image (start by 0xFFD8)\n        if (dataView.getUint8(0) === 0xff && dataView.getUint8(1) === 0xd8) {\n            var length_1 = dataView.byteLength;\n            var offset = 2;\n            while (offset + 1 < length_1) {\n                if (dataView.getUint8(offset) === 0xff && dataView.getUint8(offset + 1) === 0xe1) {\n                    app1Start = offset;\n                    break;\n                }\n                offset++;\n            }\n        }\n        if (app1Start) {\n            exifIDCode = app1Start + 4;\n            tiffOffset = app1Start + 10;\n            if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n                var endianness = dataView.getUint16(tiffOffset);\n                littleEndian = endianness === 0x4949;\n                if (littleEndian || endianness === 0x4d4d /* bigEndian */) {\n                    if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002a) {\n                        var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n                        if (firstIFDOffset >= 0x00000008) {\n                            ifdStart = tiffOffset + firstIFDOffset;\n                        }\n                    }\n                }\n            }\n        }\n        if (ifdStart) {\n            var length_2 = dataView.getUint16(ifdStart, littleEndian);\n            for (var i = 0; i < length_2; i++) {\n                var offset = ifdStart + i * 12 + 2;\n                if (dataView.getUint16(offset, littleEndian) === 0x0112 /* Orientation */) {\n                    // 8 is the offset of the current tag's value\n                    offset += 8;\n                    // Get the original orientation value\n                    orientation_1 = dataView.getUint16(offset, littleEndian);\n                    // Override the orientation with its default value\n                    dataView.setUint16(offset, 1, littleEndian);\n                    break;\n                }\n            }\n        }\n        return orientation_1;\n    }\n    catch (error) {\n        return null;\n    }\n}\nfunction arrayBufferToDataURL(arrayBuffer) {\n    var chunks = [];\n    // Chunk Typed Array for better performance\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n    while (uint8.length > 0) {\n        var value = uint8.subarray(0, chunkSize);\n        chunks.push(String.fromCharCode.apply(null, (Array.from ? Array.from(value) : value.slice())));\n        uint8 = uint8.subarray(chunkSize);\n    }\n    return \"data:image/jpeg;base64,\" + btoa(chunks.join(''));\n}\nfunction getImage(_a) {\n    var src = _a.src, _b = _a.arrayBuffer, arrayBuffer = _b === void 0 ? null : _b, _c = _a.orientation, orientation = _c === void 0 ? null : _c;\n    var options = {\n        src: src,\n        arrayBuffer: arrayBuffer,\n        revoke: false,\n        transforms: {\n            flip: {\n                horizontal: false,\n                vertical: false,\n            },\n            rotate: 0,\n        },\n    };\n    if (arrayBuffer && orientation && orientation > 1) {\n        if (isBlob(src) || !isLocal(src)) {\n            options.src = URL.createObjectURL(new Blob([arrayBuffer]));\n            options.revoke = true;\n        }\n        else {\n            options.src = arrayBufferToDataURL(arrayBuffer);\n        }\n    }\n    else {\n        options.src = src;\n    }\n    if (orientation) {\n        options.transforms = getTransforms(orientation);\n    }\n    return options;\n}\nfunction parseImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    var checkOrientation = settings.checkOrientation, parse = settings.parse;\n    return new Promise(function (resolve) {\n        if (checkOrientation || parse) {\n            getImageData(src)\n                .then(function (data) {\n                var orientation = resetAndGetOrientation(data);\n                resolve(getImage(data\n                    ? { src: src, arrayBuffer: data, orientation: orientation }\n                    : { src: src, arrayBuffer: null, orientation: null }));\n            })\n                .catch(function (error) {\n                console.warn(error);\n                resolve(getImage({ src: src }));\n            });\n        }\n        else {\n            resolve(getImage({ src: src }));\n        }\n    });\n}\nfunction createImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    return new Promise(function (resolve, reject) {\n        var image = document.createElement('img');\n        if (settings.crossOrigin) {\n            image.crossOrigin = settings.crossOrigin !== true ? settings.crossOrigin : 'anonymous';\n        }\n        image.src = src;\n        image.style.visibility = 'hidden';\n        image.style.position = 'fixed';\n        document.body.appendChild(image);\n        if (image.complete) {\n            resolve(image);\n            document.body.removeChild(image);\n        }\n        else {\n            image.addEventListener('load', function () {\n                resolve(image);\n                document.body.removeChild(image);\n            });\n            image.addEventListener('error', function () {\n                reject(null);\n                document.body.removeChild(image);\n            });\n        }\n    });\n}\nfunction loadImage(src, settings) {\n    if (settings === void 0) { settings = {}; }\n    return parseImage(src, __assign(__assign({}, settings), { crossOrigin: isCrossOriginURL(src) && settings.crossOrigin })).then(function (options) {\n        return new Promise(function (resolve, reject) {\n            createImage(options.src, settings)\n                .then(function (image) {\n                resolve(__assign(__assign({}, options), { width: image.naturalWidth, height: image.naturalHeight }));\n            })\n                .catch(function () {\n                reject(null);\n            });\n        });\n    });\n}\nfunction getImageStyle(image, state, area, coefficient, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    var optimalImageSize = image.width > image.height\n        ? {\n            width: Math.min(512, image.width),\n            height: Math.min(512, image.width) / (image.width / image.height),\n        }\n        : {\n            height: Math.min(512, image.height),\n            width: Math.min(512, image.height) * (image.width / image.height),\n        };\n    var actualImageSize = getTransformedImageSize(state);\n    var imageTransforms = {\n        rotate: state.transforms.rotate,\n        flip: {\n            horizontal: state.transforms.flip.horizontal,\n            vertical: state.transforms.flip.vertical,\n        },\n        translateX: area.left / coefficient,\n        translateY: area.top / coefficient,\n        scale: 1 / coefficient,\n    };\n    var compensations = {\n        rotate: {\n            left: (optimalImageSize.width - actualImageSize.width) / (2 * coefficient),\n            top: (optimalImageSize.height - actualImageSize.height) / (2 * coefficient),\n        },\n        scale: {\n            left: ((1 - 1 / coefficient) * optimalImageSize.width) / 2,\n            top: ((1 - 1 / coefficient) * optimalImageSize.height) / 2,\n        },\n    };\n    var transforms = __assign(__assign({}, imageTransforms), { scale: imageTransforms.scale * (image.width / optimalImageSize.width) });\n    var result = {\n        width: optimalImageSize.width + \"px\",\n        height: optimalImageSize.height + \"px\",\n        left: '0px',\n        top: '0px',\n        transition: 'none',\n        transform: \"translate3d(\" + (-compensations.rotate.left - compensations.scale.left - imageTransforms.translateX) + \"px, \" + (-compensations.rotate.top - compensations.scale.top - imageTransforms.translateY) + \"px, 0px)\" + getStyleTransforms(transforms),\n        willChange: 'none',\n    };\n    if (transitions && transitions.active) {\n        result.willChange = 'transform';\n        result.transition = transitions.duration + \"ms \" + transitions.timingFunction;\n    }\n    return result;\n}\nfunction getBackgroundStyle(image, state, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    if (image && state && state.visibleArea) {\n        return getImageStyle(image, state, state.visibleArea, getCoefficient(state), transitions);\n    }\n    else {\n        return {};\n    }\n}\nfunction getPreviewStyle(image, state, coefficient, transitions) {\n    if (transitions === void 0) { transitions = null; }\n    if (image && state && state.visibleArea && state.coordinates) {\n        return getImageStyle(image, state, state.coordinates, coefficient, transitions);\n    }\n    else {\n        return {};\n    }\n}\n\nexport { createImage, getBackgroundStyle, getImageStyle, getPreviewStyle, getStyleTransforms, loadImage };\n","import { isUndefined } from 'advanced-cropper';\nimport React, { forwardRef } from 'react';\nimport { AbstractCropperProps } from '../components/AbstractCropper';\n\ntype MainProps = Omit<AbstractCropperProps<any>, 'settings'>;\n\nfunction omitEmpty<Obj extends object>(obj: Obj) {\n\tconst properties: Partial<Obj> = {};\n\n\t(Object.keys(obj) as (keyof Obj)[]).forEach((key) => {\n\t\tif (!isUndefined(obj[key])) {\n\t\t\tproperties[key] = obj[key];\n\t\t}\n\t});\n\treturn properties;\n}\n\nexport function splitAbstractCropperProps<Props extends MainProps>(props: Props) {\n\tconst {\n\t\tsrc,\n\t\tautoReconcileState,\n\t\tbackgroundWrapperComponent,\n\t\tbackgroundWrapperProps,\n\t\twrapperComponent,\n\t\twrapperProps,\n\t\tstencilComponent,\n\t\tstencilConstraints,\n\t\tstencilProps,\n\t\tclassName,\n\t\timageClassName,\n\t\tboundaryClassName,\n\t\tbackgroundClassName,\n\t\tbackgroundComponent,\n\t\tbackgroundProps,\n\t\tcheckOrientation,\n\t\tcanvas,\n\t\tcrossOrigin,\n\t\tboundarySizeAlgorithm,\n\t\tboundaryStretchAlgorithm,\n\t\tstyle,\n\t\tonReady,\n\t\tonError,\n\t\tunloadTime,\n\t\tgetInstance,\n\t\tonTransitionsStart,\n\t\tonTransitionsEnd,\n\t\tonChange,\n\t\tonResizeEnd,\n\t\tonMoveEnd,\n\t\tonMove,\n\t\tonResize,\n\t\tonTransformImage,\n\t\tonTransformImageEnd,\n\t\tonInteractionStart,\n\t\tonInteractionEnd,\n\t\ttransitions,\n\t\tpostProcess,\n\t\tsetCoordinatesAlgorithm,\n\t\tsetVisibleAreaAlgorithm,\n\t\tsetBoundaryAlgorithm,\n\t\ttransformImageAlgorithm,\n\t\tmoveCoordinatesAlgorithm,\n\t\tresizeCoordinatesAlgorithm,\n\t\tcreateStateAlgorithm,\n\t\treconcileStateAlgorithm,\n\t\tdefaultTransforms,\n\t\tpriority,\n\t\t...settings\n\t} = props;\n\n\treturn {\n\t\t...omitEmpty({\n\t\t\tsrc,\n\t\t\tautoReconcileState,\n\t\t\tbackgroundWrapperComponent,\n\t\t\tbackgroundWrapperProps,\n\t\t\twrapperComponent,\n\t\t\twrapperProps,\n\t\t\tstencilComponent,\n\t\t\tstencilConstraints,\n\t\t\tstencilProps,\n\t\t\tclassName,\n\t\t\timageClassName,\n\t\t\tboundaryClassName,\n\t\t\tbackgroundClassName,\n\t\t\tbackgroundComponent,\n\t\t\tbackgroundProps,\n\t\t\tcheckOrientation,\n\t\t\tcanvas,\n\t\t\tcrossOrigin,\n\t\t\tboundarySizeAlgorithm,\n\t\t\tboundaryStretchAlgorithm: boundaryStretchAlgorithm,\n\t\t\tstyle,\n\t\t\tonReady,\n\t\t\tonError,\n\t\t\tunloadTime,\n\t\t\tgetInstance,\n\t\t\tonTransitionsStart,\n\t\t\tonTransitionsEnd,\n\t\t\tonChange,\n\t\t\tonResizeEnd,\n\t\t\tonMoveEnd,\n\t\t\tonMove,\n\t\t\tonResize,\n\t\t\tonTransformImage,\n\t\t\tonTransformImageEnd,\n\t\t\tonInteractionStart,\n\t\t\tonInteractionEnd,\n\t\t\ttransitions,\n\t\t\tpostProcess,\n\t\t\tsetCoordinatesAlgorithm,\n\t\t\tsetVisibleAreaAlgorithm,\n\t\t\tsetBoundaryAlgorithm,\n\t\t\ttransformImageAlgorithm,\n\t\t\tmoveCoordinatesAlgorithm,\n\t\t\tresizeCoordinatesAlgorithm,\n\t\t\tcreateStateAlgorithm,\n\t\t\treconcileStateAlgorithm,\n\t\t\tdefaultTransforms,\n\t\t\tpriority,\n\t\t}),\n\t\tsettings,\n\t};\n}\n\nexport function createCropper<T, P = {}>(\n\trender: (props: P, ref: React.Ref<T>) => React.ReactElement | null,\n): (props: P & React.RefAttributes<T>) => React.ReactElement | null {\n\treturn forwardRef<T, P>(render);\n}\n","import {\n\tapplyMove,\n\tapplyScale,\n\tdiff,\n\tfitToSizeRestrictions,\n\tgetAreaPositionRestrictions,\n\tgetAreaSizeRestrictions,\n\tgetCenter,\n\tgetPositionRestrictions,\n\tisInitializedState,\n\tmergePositionRestrictions,\n\tmoveToPositionRestrictions,\n\tratio,\n\tcoordinatesToPositionRestrictions,\n} from 'advanced-cropper/service';\nimport { CoreSettings, CropperState, PostprocessAction, Size } from 'advanced-cropper';\nimport { copyState } from 'advanced-cropper/state';\n\nexport function hybridStencilAutoZoomAlgorithm(state: CropperState, settings: CoreSettings): CropperState {\n\tif (isInitializedState(state)) {\n\t\tconst result = copyState(state);\n\n\t\t// Checks that coordinates has the same ratio that coordinates:\n\t\tconst stencil: Size = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\n\t\tif (ratio(result.boundary) > ratio(result.coordinates)) {\n\t\t\tstencil.height = result.boundary.height * 0.8;\n\t\t\tstencil.width = stencil.height * ratio(result.coordinates);\n\t\t} else {\n\t\t\tstencil.width = result.boundary.width * 0.8;\n\t\t\tstencil.height = stencil.width * ratio(result.coordinates);\n\t\t}\n\n\t\t// First of all try to resize visible area as much as possible:\n\t\tresult.visibleArea = applyScale(\n\t\t\tresult.visibleArea,\n\t\t\t(result.coordinates.width * result.boundary.width) / (result.visibleArea.width * stencil.width),\n\t\t);\n\n\t\t// Check that visible area doesn't break the area restrictions:\n\t\tconst scale = fitToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n\n\t\tresult.visibleArea = applyScale(result.visibleArea, scale);\n\n\t\tif (scale !== 1) {\n\t\t\tstencil.height /= scale;\n\t\t\tstencil.width /= scale;\n\t\t}\n\n\t\tresult.visibleArea = applyMove(\n\t\t\tresult.visibleArea,\n\t\t\tdiff(getCenter(result.coordinates), getCenter(result.visibleArea)),\n\t\t);\n\n\t\t// Center stencil in visible area:\n\t\tresult.visibleArea = moveToPositionRestrictions(\n\t\t\tresult.visibleArea,\n\t\t\tgetAreaPositionRestrictions(result, settings),\n\t\t);\n\n\t\tresult.coordinates = moveToPositionRestrictions(\n\t\t\tresult.coordinates,\n\t\t\tmergePositionRestrictions(\n\t\t\t\tcoordinatesToPositionRestrictions(result.visibleArea),\n\t\t\t\tgetPositionRestrictions(result, settings),\n\t\t\t),\n\t\t);\n\n\t\treturn result;\n\t}\n\treturn state;\n}\n\nexport function hybridStencilAutoZoom(\n\tstate: CropperState,\n\tsettings: CoreSettings,\n\taction: PostprocessAction,\n): CropperState {\n\tif (action.immediately) {\n\t\treturn hybridStencilAutoZoomAlgorithm(state, settings);\n\t}\n\treturn state;\n}\n","export function deprecationWarning(text: string) {\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconsole.warn(`Deprecation warning: ${text}`);\n\t}\n}\n","import { useRef } from 'react';\nimport { deprecationWarning } from '../service/utils';\n\nexport function useDeprecationWarning() {\n\tconst fired = useRef<string[]>([]);\n\n\treturn (message: string) => {\n\t\tif (fired.current.indexOf(message) === -1) {\n\t\t\tdeprecationWarning(message);\n\t\t\tfired.current.push(message);\n\t\t}\n\t};\n}\n","import { useEffect, useRef } from 'react';\n\nexport const useWindowResize = (callback: (...args: unknown[]) => void) => {\n\tconst callbackRef = useRef<Function>(callback);\n\n\tconst internalCallback = () => {\n\t\tif (callbackRef.current) {\n\t\t\tcallbackRef.current();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcallbackRef.current = callback;\n\t}, [callback]);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('resize', internalCallback);\n\t\twindow.addEventListener('orientationchange', internalCallback);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', internalCallback);\n\t\t\twindow.removeEventListener('orientationchange', internalCallback);\n\t\t};\n\t}, []);\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { CropperImage, isUndefined, promiseTimeout, loadImage } from 'advanced-cropper';\n\nexport interface CropperImageHookSettings {\n\tsrc?: string | null;\n\tonLoadingStart?: () => void;\n\tonLoadingEnd?: () => void;\n\tonError?: () => void;\n\tonLoad?: (image?: CropperImage) => void;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n\tcheckOrientation?: boolean;\n\tcanvas?: string | boolean;\n\tunloadTime?: number;\n}\n\nexport function useCropperImage(options: CropperImageHookSettings) {\n\tconst { src, onLoadingStart, onLoadingEnd, onError, onLoad, crossOrigin, checkOrientation, canvas } = options;\n\tconst [loading, setLoading] = useState(false);\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [image, setImage] = useState<CropperImage | null>(null);\n\n\tconst currentSrc = useRef<string | null>(null);\n\n\tuseEffect(() => {\n\t\tif (currentSrc.current !== src) {\n\t\t\tcurrentSrc.current = src || null;\n\t\t\tsetLoaded(false);\n\t\t\tif (src) {\n\t\t\t\tsetLoading(true);\n\t\t\t\tonLoadingStart?.();\n\t\t\t\tconst promises: Promise<unknown>[] = [\n\t\t\t\t\tloadImage(src, {\n\t\t\t\t\t\tcrossOrigin: isUndefined(crossOrigin) ? canvas : crossOrigin,\n\t\t\t\t\t\tcheckOrientation,\n\t\t\t\t\t}),\n\t\t\t\t];\n\n\t\t\t\tif (loaded && options.unloadTime) {\n\t\t\t\t\tpromises.push(promiseTimeout(options.unloadTime));\n\t\t\t\t}\n\t\t\t\tPromise.all(promises)\n\t\t\t\t\t.then((responses) => {\n\t\t\t\t\t\tconst [image] = responses as [CropperImage];\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tsetImage(image);\n\t\t\t\t\t\t\tonLoad?.(image);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tonError?.();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tif (currentSrc.current === src) {\n\t\t\t\t\t\t\tonLoadingEnd?.();\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (options.unloadTime) {\n\t\t\t\t\tpromiseTimeout(options.unloadTime).then(() => {\n\t\t\t\t\t\tsetImage(null)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tsetImage(null)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [src]);\n\n\tuseEffect(() => {\n\t\tif (image) {\n\t\t\tsetLoaded(true)\n\t\t}\n\t}, [image])\n\n\treturn { loading, loaded, image, setImage };\n}\n","import { useState } from 'react';\n\nexport function useForceRerender() {\n\tconst [tick, setTick] = useState({});\n\n\treturn () => {\n\t\tsetTick({});\n\t};\n}\n","import { useRef } from 'react';\n\nexport function useCropperProps<Props>(props: () => Props) {\n\tconst propsRef = useRef(props);\n\n\tpropsRef.current = props;\n\n\treturn () => propsRef.current();\n}\n","import { createDefaultSettings, DefaultSettings } from 'advanced-cropper/defaults';\nimport { CoreSettings, ImageRestriction, ModifierSettings } from 'advanced-cropper';\nimport { useLayoutEffect, useRef } from 'react';\nimport { CropperInstance, AbstractCropperParameters, AbstractCropperCallbacks } from 'advanced-cropper/instance';\nimport { useForceRerender } from './useForceRerender';\nimport { useCropperProps } from './useCropperProps';\n\nexport type CropperStateSettings = DefaultSettings & CoreSettings & ModifierSettings;\n\nexport type CropperStateSettingsProp<Settings extends CropperStateSettings> = Partial<\n\tPick<Settings, keyof CropperStateSettings>\n> &\n\tOmit<Settings, keyof CropperStateSettings>;\n\nexport function useCropperState<Settings extends CropperStateSettings, Instance = unknown>(\n\tprops: () => AbstractCropperParameters<Settings> &\n\t\tAbstractCropperCallbacks<Instance> & {\n\t\t\tsettings: CropperStateSettingsProp<Settings>;\n\t\t},\n\tsettings: {\n\t\tautoReconcileState?: boolean;\n\t},\n) {\n\tconst rerender = useForceRerender();\n\n\tconst getProps = useCropperProps(() => {\n\t\tconst { settings, ...parameters } = props();\n\n\t\tconst extendedSettings = {\n\t\t\timageRestriction: ImageRestriction.fitArea,\n\t\t\ttransformImage: {\n\t\t\t\tadjustStencil: true,\n\t\t\t},\n\t\t\t...settings,\n\t\t};\n\n\t\tconst extendedParameters = {\n\t\t\ttransitions: true,\n\t\t\t...parameters,\n\t\t};\n\n\t\treturn {\n\t\t\tsettings: {\n\t\t\t\t...extendedSettings,\n\t\t\t\t...createDefaultSettings<Settings>(extendedSettings),\n\t\t\t\t// It's needed because of nature of settings field\n\t\t\t} as Settings,\n\t\t\t...extendedParameters,\n\t\t};\n\t});\n\n\tconst cropper = useRef(\n\t\tnew CropperInstance<Settings, Instance>({\n\t\t\tgetProps,\n\t\t\tsetData() {\n\t\t\t\trerender();\n\t\t\t},\n\t\t}),\n\t);\n\n\tuseLayoutEffect(() => {\n\t\tif (settings.autoReconcileState && !cropper.current.hasInteractions()) {\n\t\t\tcropper.current.reconcileState();\n\t\t}\n\t});\n\n\treturn cropper.current;\n}\nexport type CropperStateHook = ReturnType<typeof useCropperState>;\n","import { MutableRefObject, LegacyRef, RefCallback } from 'react';\n\nexport function mergeRefs<T = any>(refs: (MutableRefObject<T> | LegacyRef<T>)[]): RefCallback<T> {\n\treturn (value) => {\n\t\trefs.forEach((ref) => {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(value);\n\t\t\t} else if (ref != null) {\n\t\t\t\t(ref as MutableRefObject<T | null>).current = value;\n\t\t\t}\n\t\t});\n\t};\n}\n","import { useRef } from 'react';\n\nexport function useFirstMountState(): boolean {\n\tconst isFirst = useRef(true);\n\n\tif (isFirst.current) {\n\t\tisFirst.current = false;\n\n\t\treturn true;\n\t}\n\n\treturn isFirst.current;\n}\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\n\nexport const useUpdateEffect: typeof useEffect = (effect, deps) => {\n\tconst isFirstMount = useFirstMountState();\n\n\tuseEffect(() => {\n\t\tif (!isFirstMount) {\n\t\t\treturn effect();\n\t\t}\n\t}, deps);\n};\n","import { SetStateAction, useRef, useState } from \"react\";\nimport { useUpdateEffect } from \"./useUpdateEffect\";\n\ntype DispatchWithCallback<S> = (value: SetStateAction<S>, callback?: Function) => void;\n\nexport function useStateWithCallback<S>(initialState?: S | (() => S)): [S, DispatchWithCallback<S>];\nexport function useStateWithCallback<S = undefined>(): [S | undefined, DispatchWithCallback<S  | undefined>];\nexport function useStateWithCallback<S = undefined>(initialState?: S | (() => S)): [S | undefined, DispatchWithCallback<S | undefined>]  {\n\tconst [state, setState] = useState(initialState);\n\tconst [callback, setCallback] = useState<Function | null | undefined>(null);\n\tconst previousState = useRef(initialState);\n\n\tuseUpdateEffect(() => {\n\t\tif (callback) {\n\t\t\tcallback(state, previousState.current);\n\t\t}\n\t}, [callback])\n\n\treturn [\n\t\tstate,\n\t\t(value: SetStateAction<S | undefined>, callback?: Function) => {\n\t\t\tpreviousState.current = state;\n\t\t\tsetState(value);\n\t\t\tsetCallback(() => callback);\n\t\t}\n\t]\n}\n","import React, { ReactNode, forwardRef, useImperativeHandle, useRef, CSSProperties } from 'react';\nimport cn from 'classnames';\nimport {\n\tBoundarySizeAlgorithm,\n\tSize,\n\tstretchCropperBoundary,\n\tBoundaryStretchAlgorithm,\n\tfillBoundary,\n} from 'advanced-cropper';\n\ninterface Props {\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tstretcherClassName?: string;\n\tcontentClassName?: string;\n\tstretchAlgorithm?: BoundaryStretchAlgorithm;\n\tsizeAlgorithm?: BoundarySizeAlgorithm;\n\tchildren?: ReactNode;\n}\n\nexport interface StretchableBoundaryMethods {\n\tstretchTo: (size: Size | null) => Promise<Size | null>;\n\treset: () => void;\n}\n\nexport const StretchableBoundary = forwardRef(\n\t(\n\t\t{\n\t\t\tclassName,\n\t\t\tstyle,\n\t\t\tstretcherClassName,\n\t\t\tcontentClassName,\n\t\t\tstretchAlgorithm = stretchCropperBoundary,\n\t\t\tsizeAlgorithm = fillBoundary,\n\t\t\tchildren,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst stretcherRef = useRef<HTMLDivElement>(null);\n\t\tconst boundaryRef = useRef<HTMLDivElement>(null);\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\treset: () => {\n\t\t\t\tconst stretcher = stretcherRef.current;\n\t\t\t\tif (stretcher) {\n\t\t\t\t\tstretcher.style.height = '';\n\t\t\t\t\tstretcher.style.width = '';\n\t\t\t\t}\n\t\t\t},\n\t\t\tstretchTo: (size: Size | null) => {\n\t\t\t\tconst stretcher = stretcherRef.current;\n\t\t\t\tconst boundary = boundaryRef.current;\n\n\t\t\t\tif (size?.width && size?.height && stretcher && boundary) {\n\t\t\t\t\tstretchAlgorithm(boundary, stretcher, size);\n\t\t\t\t\tconst result = sizeAlgorithm(boundary, size);\n\t\t\t\t\treturn Promise.resolve(result.width && result.height ? result : null);\n\t\t\t\t} else {\n\t\t\t\t\tif (stretcher) {\n\t\t\t\t\t\tstretcher.style.height = '';\n\t\t\t\t\t\tstretcher.style.width = '';\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(null);\n\t\t\t\t}\n\t\t\t},\n\t\t}));\n\n\t\treturn (\n\t\t\t<div ref={boundaryRef} style={style} className={cn('advanced-cropper-boundary', className)}>\n\t\t\t\t<div ref={stretcherRef} className={cn(['advanced-cropper-boundary__stretcher', stretcherClassName])} />\n\t\t\t\t<div className={cn(['advanced-cropper-boundary__content', contentClassName])}>{children}</div>\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nStretchableBoundary.displayName = 'StretchableBoundary';\n","import React, { CSSProperties, FC } from 'react';\nimport cn from 'classnames';\n\ninterface Props {\n\tvisible?: unknown;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n}\n\nexport const CropperFade: FC<Props> = ({ visible, className, style, children }) => {\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={cn(className, 'advanced-cropper-fade', Boolean(visible) && 'advanced-cropper-fade--visible')}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import React, { CSSProperties, FC } from 'react';\nimport cn from 'classnames';\nimport { CropperState } from 'advanced-cropper';\nimport { CropperFade } from './CropperFade';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState | null;\n}\n\nexport interface CropperWrapperProps {\n\tcropper?: DesiredCropperRef;\n\tloading?: boolean;\n\tloaded?: boolean;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n}\n\nexport const CropperWrapper: FC<CropperWrapperProps> = ({ cropper, children, loaded, className, style }) => {\n\tconst state = cropper ? cropper.getState() : null;\n\treturn (\n\t\t<div className={cn(className, 'advanced-cropper-wrapper')} style={style}>\n\t\t\t<CropperFade visible={state && loaded} className={'advanced-cropper-wrapper__fade'}>\n\t\t\t\t{children}\n\t\t\t</CropperFade>\n\t\t</div>\n\t);\n};\n","import { MouseEvent } from 'react';\n\nexport function preventDefault(e: MouseEvent) {\n\te.preventDefault();\n}\n","import React, { forwardRef } from 'react';\nimport cn from 'classnames';\nimport { CropperTransitions, CropperImage, CropperState, getBackgroundStyle } from 'advanced-cropper';\nimport { preventDefault } from '../../service/events';\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState;\n\tgetTransitions: () => CropperTransitions;\n\tgetImage: () => CropperImage;\n}\n\ninterface Props {\n\tclassName?: string;\n\tcropper: DesiredCropperRef;\n\tcrossOrigin?: 'anonymous' | 'use-credentials' | boolean;\n}\n\nexport const CropperBackgroundImage = forwardRef<HTMLImageElement, Props>(\n\t({ className, cropper, crossOrigin }: Props, ref) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst image = cropper.getImage();\n\n\t\tconst style = image && state ? getBackgroundStyle(image, state, transitions) : {};\n\n\t\tconst src = image ? image.src : undefined;\n\n\t\treturn src ? (\n\t\t\t<img\n\t\t\t\tkey={src}\n\t\t\t\tref={ref}\n\t\t\t\tclassName={cn('advanced-cropper-background-image', className)}\n\t\t\t\tsrc={src}\n\t\t\t\tcrossOrigin={crossOrigin === true ? 'anonymous' : crossOrigin || undefined}\n\t\t\t\tstyle={style}\n\t\t\t\tonMouseDown={preventDefault}\n\t\t\t/>\n\t\t) : null;\n\t},\n);\n\nCropperBackgroundImage.displayName = 'CropperBackgroundImage';\n","import React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport { CropperState, DrawOptions, drawCroppedArea } from 'advanced-cropper';\n\nexport interface CropperCanvasMethods {\n\tdraw: (\n\t\tstate: CropperState,\n\t\timage: HTMLImageElement | HTMLCanvasElement,\n\t\toptions?: DrawOptions,\n\t) => HTMLCanvasElement | null;\n}\n\nexport const CropperCanvas = forwardRef((_, ref) => {\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\n\tconst spareCanvasRef = useRef<HTMLCanvasElement>(null);\n\n\tuseImperativeHandle(ref, () => ({\n\t\tdraw: (state: CropperState, image: HTMLImageElement | HTMLCanvasElement, options: DrawOptions = {}) => {\n\t\t\tif (image && canvasRef.current && spareCanvasRef.current) {\n\t\t\t\treturn drawCroppedArea(state, image, canvasRef.current, spareCanvasRef.current, options);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t}));\n\n\treturn (\n\t\t<>\n\t\t\t<canvas className=\"advanced-cropper-canvas\" ref={canvasRef} />\n\t\t\t<canvas className=\"advanced-cropper-canvas\" ref={spareCanvasRef} />\n\t\t</>\n\t);\n});\n\nCropperCanvas.displayName = 'CropperCanvas';\n","import React, { ReactNode, Component, RefObject, createRef } from 'react';\nimport cn from 'classnames';\nimport { MoveDirections, Point, SimpleTouch, distance } from 'advanced-cropper';\n\ninterface Props {\n\tclassName?: string;\n\tchildren?: ReactNode;\n\tdisabled?: boolean;\n\tonMove?: (directions: MoveDirections, nativeEvent: MouseEvent | TouchEvent) => void;\n\tonMoveEnd?: () => void;\n\tonMoveStart?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tuseAnchor?: boolean;\n\tactivationDistance?: number;\n\trerender?: boolean;\n}\n\nexport class DraggableElement extends Component<Props> {\n\ttouches: SimpleTouch[];\n\tstarted: boolean;\n\thovered: boolean;\n\tanchor: Point;\n\tcontainer: RefObject<HTMLDivElement>;\n\n\tstatic defaultProps = {\n\t\tdisabled: false,\n\t\tactivationDistance: 30,\n\t\tuseAnchor: true,\n\t\trerender: true,\n\t};\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.touches = [];\n\t\tthis.hovered = false;\n\t\tthis.started = false;\n\t\tthis.anchor = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t};\n\t\tthis.container = createRef();\n\t}\n\n\tprocessMove = (e: MouseEvent | TouchEvent, newTouches: SimpleTouch[]) => {\n\t\tconst container = this.container.current;\n\n\t\tif (container && this.touches.length) {\n\t\t\tconst { left, top } = container.getBoundingClientRect();\n\t\t\tif (this.touches.length === 1 && newTouches.length === 1) {\n\t\t\t\tif (this.props.onMove) {\n\t\t\t\t\tconst movingToAnchor = {\n\t\t\t\t\t\tleft:\n\t\t\t\t\t\t\tMath.abs(newTouches[0].clientX - this.anchor.left - left) <\n\t\t\t\t\t\t\tMath.abs(this.touches[0].clientX - this.anchor.left - left),\n\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\tMath.abs(newTouches[0].clientY - this.anchor.top - top) <\n\t\t\t\t\t\t\tMath.abs(this.touches[0].clientY - this.anchor.top - top),\n\t\t\t\t\t};\n\n\t\t\t\t\tconst direction = {\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!this.props.useAnchor || !movingToAnchor.left) {\n\t\t\t\t\t\tdirection.left = newTouches[0].clientX - this.touches[0].clientX;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.props.useAnchor || !movingToAnchor.top) {\n\t\t\t\t\t\tdirection.top = newTouches[0].clientY - this.touches[0].clientY;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.props?.onMove(direction, e);\n\n\t\t\t\t\tthis.touches = [...newTouches];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tprocessEnd = () => {\n\t\tconst { onMoveEnd, onLeave } = this.props;\n\t\tif (!this.props.disabled && this.touches.length) {\n\t\t\tonMoveEnd?.();\n\t\t}\n\t\tif (this.hovered) {\n\t\t\tonLeave?.();\n\t\t\tthis.hovered = false;\n\t\t}\n\t\tthis.touches = [];\n\t};\n\n\tinitAnchor = (touch: SimpleTouch) => {\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tconst { left, top } = container.getBoundingClientRect();\n\t\t\tthis.anchor = {\n\t\t\t\tleft: touch.clientX - left,\n\t\t\t\ttop: touch.clientY - top,\n\t\t\t};\n\t\t}\n\t};\n\n\tonMouseOver = () => {\n\t\tconst { onEnter, disabled } = this.props;\n\t\tif (!this.hovered && !disabled) {\n\t\t\tthis.hovered = true;\n\t\t\tonEnter?.();\n\t\t}\n\t};\n\n\tonMouseLeave = () => {\n\t\tconst { onLeave } = this.props;\n\t\tif (this.hovered && !this.touches.length) {\n\t\t\tthis.hovered = false;\n\t\t\tonLeave?.();\n\t\t}\n\t};\n\n\tonTouchStart = (e: TouchEvent) => {\n\t\tconst { onEnter, onMoveStart, disabled } = this.props;\n\t\tif (e.cancelable) {\n\t\t\tthis.touches = Array.from(e.touches);\n\n\t\t\tconst shouldStartMove = !disabled && e.touches.length === 1;\n\t\t\tif (shouldStartMove) {\n\t\t\t\tthis.touches = Array.from(e.touches);\n\t\t\t\tonMoveStart?.();\n\t\t\t}\n\n\t\t\tif (!this.hovered && !disabled) {\n\t\t\t\tthis.hovered = true;\n\t\t\t\tonEnter?.();\n\t\t\t}\n\n\t\t\tif (this.started || shouldStartMove) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\t};\n\n\tonTouchEnd = () => {\n\t\tthis.started = false;\n\t\tthis.processEnd();\n\t};\n\n\tonTouchMove = (e: TouchEvent) => {\n\t\tif (this.touches.length >= 1) {\n\t\t\tif (this.started) {\n\t\t\t\tthis.processMove(e, Array.from(e.touches));\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t} else if (\n\t\t\t\tdistance(\n\t\t\t\t\t{ left: this.touches[0].clientX, top: this.touches[0].clientY },\n\t\t\t\t\t{ left: e.touches[0].clientX, top: e.touches[0].clientY },\n\t\t\t\t) > (this.props.activationDistance || 0)\n\t\t\t) {\n\t\t\t\tthis.initAnchor({\n\t\t\t\t\tclientX: e.touches[0].clientX,\n\t\t\t\t\tclientY: e.touches[0].clientY,\n\t\t\t\t});\n\t\t\t\tthis.started = true;\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseDown = (e: MouseEvent) => {\n\t\tconst { onMoveStart, disabled } = this.props;\n\t\tif (!disabled && e.button === 0) {\n\t\t\tconst touch = {\n\t\t\t\tclientX: e.clientX,\n\t\t\t\tclientY: e.clientY,\n\t\t\t};\n\t\t\tthis.touches = [touch];\n\t\t\tthis.initAnchor(touch);\n\t\t\te.stopPropagation();\n\t\t\tonMoveStart?.();\n\t\t}\n\t};\n\n\tonMouseMove = (e: MouseEvent) => {\n\t\tif (!this.props.disabled && this.touches.length) {\n\t\t\tthis.processMove(e, [\n\t\t\t\t{\n\t\t\t\t\tclientX: e.clientX,\n\t\t\t\t\tclientY: e.clientY,\n\t\t\t\t},\n\t\t\t]);\n\t\t\tif (e.preventDefault && e.cancelable) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t}\n\t};\n\n\tonMouseUp = () => {\n\t\tthis.processEnd();\n\t};\n\n\tshouldComponentUpdate() {\n\t\treturn !!this.props.rerender;\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('mouseup', this.onMouseUp);\n\t\twindow.removeEventListener('mousemove', this.onMouseMove);\n\t\twindow.removeEventListener('touchmove', this.onTouchMove);\n\t\twindow.removeEventListener('touchend', this.onTouchEnd);\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tcontainer.removeEventListener('touchstart', this.onTouchStart);\n\t\t\tcontainer.removeEventListener('mousedown', this.onMouseDown);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('mouseup', this.onMouseUp, { passive: false });\n\t\twindow.addEventListener('mousemove', this.onMouseMove, { passive: false });\n\t\twindow.addEventListener('touchmove', this.onTouchMove, { passive: false });\n\t\twindow.addEventListener('touchend', this.onTouchEnd, { passive: false });\n\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\t// Add event listeners here due to https://github.com/facebook/react/issues/9809#issuecomment-414072263\n\t\t\tcontainer.addEventListener('touchstart', this.onTouchStart, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('mousedown', this.onMouseDown, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps: Readonly<Props>) {\n\t\tif (this.props.disabled && !prevProps.disabled) {\n\t\t\tthis.touches = [];\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { children, className } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cn('advanced-cropper-draggable-element', className)}\n\t\t\t\tref={this.container}\n\t\t\t\tonMouseOver={this.onMouseOver}\n\t\t\t\tonMouseLeave={this.onMouseLeave}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { ReactNode } from 'react';\nimport cn from 'classnames';\nimport { HorizontalCardinalDirection, MoveDirections, VerticalCardinalDirection } from 'advanced-cropper';\nimport { DraggableElement } from './DraggableElement';\n\ninterface Props {\n\tclassName?: string;\n\tchildren?: ReactNode;\n\tonDrag?: (directions: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonDragEnd?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tdisabled?: boolean;\n\tposition?: HorizontalCardinalDirection | VerticalCardinalDirection;\n}\n\nexport const LineWrapper = ({\n\tposition,\n\tclassName,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n\tonLeave,\n\tonEnter,\n\tchildren,\n}: Props) => {\n\treturn (\n\t\t<DraggableElement\n\t\t\tclassName={cn([\n\t\t\t\t'advanced-cropper-line-wrapper',\n\t\t\t\tposition && `advanced-cropper-line-wrapper--${position}`,\n\t\t\t\tclassName,\n\t\t\t])}\n\t\t\tdisabled={disabled}\n\t\t\tonMove={onDrag}\n\t\t\tonMoveEnd={onDragEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t\tactivationDistance={0}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn([\n\t\t\t\t\t'advanced-cropper-line-wrapper__content',\n\t\t\t\t\tposition && `advanced-cropper-line-wrapper__content--${position}`,\n\t\t\t\t])}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</DraggableElement>\n\t);\n};\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport { CardinalDirection, MoveDirections } from 'advanced-cropper';\nimport { LineWrapper } from '../service/LineWrapper';\n\ninterface Props {\n\tdefaultClassName?: string;\n\thoverClassName?: string;\n\twrapperClassName?: string;\n\tposition?: CardinalDirection;\n\tdisabled?: boolean;\n\tonDrag?: (directions: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonDragEnd?: () => void;\n}\n\nexport const SimpleLine = ({\n\tposition,\n\thoverClassName,\n\twrapperClassName,\n\tdefaultClassName,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n}: Props) => {\n\tconst [hover, setHover] = useState(false);\n\n\tconst onEnter = () => {\n\t\tsetHover(true);\n\t};\n\n\tconst onLeave = () => {\n\t\tsetHover(false);\n\t};\n\n\treturn (\n\t\t<LineWrapper\n\t\t\tclassName={cn('advanced-cropper-simple-line-wrapper', wrapperClassName, {\n\t\t\t\t[`advanced-cropper-simple-line-wrapper--${position}`]: !!position,\n\t\t\t})}\n\t\t\tposition={position}\n\t\t\tdisabled={disabled}\n\t\t\tonDrag={onDrag}\n\t\t\tonDragEnd={onDragEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'advanced-cropper-simple-line',\n\t\t\t\t\thover && 'advanced-cropper-simple-line--hover',\n\t\t\t\t\tdefaultClassName,\n\t\t\t\t\thover && hoverClassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[`advanced-cropper-simple-line--${position}`]: !!position,\n\t\t\t\t\t},\n\t\t\t\t)}\n\t\t\t/>\n\t\t</LineWrapper>\n\t);\n};\n","import React, { CSSProperties, ReactNode } from 'react';\nimport classnames from 'classnames';\nimport {\n\tHorizontalCardinalDirection,\n\tMoveDirections,\n\tVerticalCardinalDirection,\n\tgetDirectionNames,\n} from 'advanced-cropper';\nimport { DraggableElement } from './DraggableElement';\n\ninterface Props {\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tchildren?: ReactNode;\n\tonDrag?: (shift: MoveDirections, event: MouseEvent | TouchEvent) => void;\n\tonDragEnd?: () => void;\n\tonLeave?: () => void;\n\tonEnter?: () => void;\n\tdisabled?: boolean;\n\thorizontalPosition?: HorizontalCardinalDirection;\n\tverticalPosition?: VerticalCardinalDirection;\n}\n\nexport const HandlerWrapper = ({\n\thorizontalPosition,\n\tverticalPosition,\n\tclassName,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n\tonLeave,\n\tonEnter,\n\tchildren,\n\tstyle,\n}: Props) => {\n\tconst position =\n\t\thorizontalPosition || verticalPosition\n\t\t\t? getDirectionNames(horizontalPosition, verticalPosition).snakeCase\n\t\t\t: null;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tclassName={classnames(\n\t\t\t\tclassName,\n\t\t\t\t'advanced-cropper-handler-wrapper',\n\t\t\t\tposition && `advanced-cropper-handler-wrapper--${position}`,\n\t\t\t\tdisabled && 'advanced-cropper-handler-wrapper--disabled',\n\t\t\t)}\n\t\t>\n\t\t\t<DraggableElement\n\t\t\t\tclassName={'advanced-cropper-handler-wrapper__draggable'}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonMove={onDrag}\n\t\t\t\tonMoveEnd={onDragEnd}\n\t\t\t\tonLeave={onLeave}\n\t\t\t\tonEnter={onEnter}\n\t\t\t\tactivationDistance={0}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</DraggableElement>\n\t\t</div>\n\t);\n};\n","import React, { CSSProperties, useState } from 'react';\nimport cn from 'classnames';\nimport { HorizontalCardinalDirection, MoveDirections, VerticalCardinalDirection } from 'advanced-cropper';\nimport { HandlerWrapper } from '../service/HandlerWrapper';\n\ninterface Props {\n\tdefaultClassName?: string;\n\thoverClassName?: string;\n\twrapperClassName?: string;\n\twrapperStyle?: CSSProperties;\n\tverticalPosition?: VerticalCardinalDirection;\n\thorizontalPosition?: HorizontalCardinalDirection;\n\tdisabled?: boolean;\n\tonDrag?: (shift: MoveDirections, event: TouchEvent | MouseEvent) => void;\n\tonDragEnd?: () => void;\n}\n\nexport const SimpleHandler = ({\n\tverticalPosition,\n\thorizontalPosition,\n\thoverClassName,\n\twrapperClassName,\n\tdefaultClassName,\n\twrapperStyle,\n\tdisabled,\n\tonDrag,\n\tonDragEnd,\n}: Props) => {\n\tconst [hover, setHover] = useState(false);\n\n\tconst onEnter = () => {\n\t\tsetHover(true);\n\t};\n\n\tconst onLeave = () => {\n\t\tsetHover(false);\n\t};\n\n\treturn (\n\t\t<HandlerWrapper\n\t\t\tstyle={wrapperStyle}\n\t\t\tclassName={cn(\n\t\t\t\t'advanced-cropper-simple-handler-wrapper',\n\t\t\t\twrapperClassName,\n\t\t\t\tverticalPosition && `advanced-cropper-simple-handler-wrapper--${verticalPosition}`,\n\t\t\t\thorizontalPosition && `advanced-cropper-simple-handler-wrapper--${horizontalPosition}`,\n\t\t\t\thorizontalPosition &&\n\t\t\t\t\tverticalPosition &&\n\t\t\t\t\t`advanced-cropper-simple-handler-wrapper--${horizontalPosition}-${verticalPosition}`,\n\t\t\t\thover && 'advanced-cropper-simple-handler-wrapper--hover',\n\t\t\t)}\n\t\t\tverticalPosition={verticalPosition}\n\t\t\thorizontalPosition={horizontalPosition}\n\t\t\tdisabled={disabled}\n\t\t\tonDrag={onDrag}\n\t\t\tonDragEnd={onDragEnd}\n\t\t\tonLeave={onLeave}\n\t\t\tonEnter={onEnter}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'advanced-cropper-simple-handler',\n\t\t\t\t\thover && 'advanced-cropper-simple-handler--hover',\n\t\t\t\t\tdefaultClassName,\n\t\t\t\t\thover && hoverClassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${verticalPosition}`]: !!verticalPosition,\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${horizontalPosition}`]: !!horizontalPosition,\n\t\t\t\t\t\t[`advanced-cropper-simple-handler--${horizontalPosition}-${verticalPosition}`]:\n\t\t\t\t\t\t\thorizontalPosition && verticalPosition,\n\t\t\t\t\t},\n\t\t\t\t)}\n\t\t\t/>\n\t\t</HandlerWrapper>\n\t);\n};\n","import React, { ComponentType, useMemo, ReactNode, CSSProperties } from 'react';\nimport classnames from 'classnames';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tHorizontalCardinalDirection,\n\tVerticalCardinalDirection,\n\tResizeDirections,\n\tMoveDirections,\n\tResizeOptions,\n\tgetDirectionNames,\n\tisCardinalDirection,\n\tisObject,\n} from 'advanced-cropper';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\n\nconst HORIZONTAL_DIRECTIONS = ['east', 'west', null] as const;\nconst VERTICAL_DIRECTIONS = ['south', 'north', null] as const;\n\ntype HandlerComponent = ComponentType<any>;\n\ntype LineComponent = ComponentType<any>;\n\ninterface HandlerClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LineClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface Props {\n\tstyle?: CSSProperties;\n\tclassName?: string;\n\thandlerComponent?: HandlerComponent;\n\thandlers?: boolean | Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlerClassNames;\n\thandlerWrapperClassNames?: HandlerClassNames;\n\tlines?: boolean | Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LineClassNames;\n\tlineWrapperClassNames?: LineClassNames;\n\tdisabled?: boolean;\n\tonResize?: (directions: ResizeDirections, options: ResizeOptions) => void;\n\tonResizeEnd?: () => void;\n\tchildren?: ReactNode;\n}\n\ninterface HandlerNode {\n\tname: OrdinalDirection;\n\tcomponent: HandlerComponent;\n\tclassName: string;\n\twrapperClassName?: string;\n\tcontainerClassName?: string;\n\thoverClassName?: string;\n\tstyle?: CSSProperties;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n\tdisabled: boolean;\n}\n\ninterface LineNode {\n\tname: CardinalDirection;\n\tcomponent: HandlerComponent;\n\tclassName: string;\n\twrapperClassName?: string;\n\thoverClassName?: string;\n\tstyle?: CSSProperties;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n\tdisabled: boolean;\n}\n\ninterface PointNode {\n\tname: OrdinalDirection;\n\tclassName: string;\n\tverticalPosition: VerticalCardinalDirection | null;\n\thorizontalPosition: HorizontalCardinalDirection | null;\n}\n\nexport const BoundingBox = ({\n\tstyle,\n\tclassName,\n\tchildren,\n\tonResize,\n\tonResizeEnd,\n\thandlerComponent = SimpleHandler,\n\thandlers = {\n\t\teastNorth: true,\n\t\tnorth: true,\n\t\twestNorth: true,\n\t\twest: true,\n\t\twestSouth: true,\n\t\tsouth: true,\n\t\teastSouth: true,\n\t\teast: true,\n\t},\n\thandlerClassNames = {},\n\thandlerWrapperClassNames = {},\n\tlines = {\n\t\twest: true,\n\t\tnorth: true,\n\t\teast: true,\n\t\tsouth: true,\n\t},\n\tlineComponent = SimpleLine,\n\tlineClassNames = {},\n\tlineWrapperClassNames = {},\n\tdisabled = false,\n}: Props) => {\n\tconst points = useMemo(() => {\n\t\tconst result: PointNode[] = [];\n\t\tHORIZONTAL_DIRECTIONS.forEach((hDirection) => {\n\t\t\tVERTICAL_DIRECTIONS.forEach((vDirection) => {\n\t\t\t\tif (hDirection !== vDirection) {\n\t\t\t\t\tlet { snakeCase, camelCase } = getDirectionNames(hDirection, vDirection);\n\t\t\t\t\tif (snakeCase && camelCase) {\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\tname: camelCase,\n\t\t\t\t\t\t\tclassName: snakeCase,\n\t\t\t\t\t\t\tverticalPosition: vDirection,\n\t\t\t\t\t\t\thorizontalPosition: hDirection,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn result;\n\t}, []);\n\n\tconst lineNodes = useMemo(() => {\n\t\tconst result: LineNode[] = [];\n\t\tpoints.forEach((point) => {\n\t\t\tif (isCardinalDirection(point.name) && (isObject(lines) ? lines[point.name] : lines)) {\n\t\t\t\tresult.push({\n\t\t\t\t\tname: point.name,\n\t\t\t\t\tcomponent: lineComponent,\n\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\tlineClassNames.default,\n\t\t\t\t\t\tlineClassNames[point.name],\n\t\t\t\t\t\tdisabled && lineClassNames.disabled,\n\t\t\t\t\t),\n\t\t\t\t\twrapperClassName: classnames(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__line`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__line--${point.name}`,\n\t\t\t\t\t\tlineWrapperClassNames.default,\n\t\t\t\t\t\tlineWrapperClassNames[point.name],\n\t\t\t\t\t\tdisabled && lineWrapperClassNames.disabled,\n\t\t\t\t\t),\n\t\t\t\t\thoverClassName: lineClassNames.hover,\n\t\t\t\t\tverticalPosition: point.verticalPosition,\n\t\t\t\t\thorizontalPosition: point.horizontalPosition,\n\t\t\t\t\tdisabled,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}, [points, lines, lineComponent, lineClassNames, lineWrapperClassNames, disabled]);\n\n\tconst handlerNodes = useMemo(() => {\n\t\tconst result: HandlerNode[] = [];\n\t\tpoints.forEach((point) => {\n\t\t\tif (isObject(handlers) ? handlers[point.name] : handlers) {\n\t\t\t\tresult.push({\n\t\t\t\t\tname: point.name,\n\t\t\t\t\tcomponent: handlerComponent,\n\t\t\t\t\tclassName: classnames(handlerClassNames.default, handlerClassNames[point.name]),\n\t\t\t\t\tcontainerClassName: classnames(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler-wrapper`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler-wrapper--${point.className}`,\n\t\t\t\t\t),\n\t\t\t\t\twrapperClassName: classnames(\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler`,\n\t\t\t\t\t\t`advanced-cropper-bounding-box__handler--${point.className}`,\n\t\t\t\t\t\thandlerWrapperClassNames.default,\n\t\t\t\t\t\thandlerWrapperClassNames[point.name],\n\t\t\t\t\t),\n\t\t\t\t\thoverClassName: handlerClassNames.hover,\n\t\t\t\t\tverticalPosition: point.verticalPosition,\n\t\t\t\t\thorizontalPosition: point.horizontalPosition,\n\t\t\t\t\tdisabled,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}, [points, handlers, handlerComponent, handlerClassNames, handlerWrapperClassNames, disabled]);\n\n\tconst onHandlerDrag =\n\t\t(\n\t\t\thorizontalDirection: HorizontalCardinalDirection | null,\n\t\t\tverticalDirection: VerticalCardinalDirection | null,\n\t\t) =>\n\t\t({ left, top }: MoveDirections, nativeEvent: MouseEvent | TouchEvent) => {\n\t\t\tconst directions = {\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t};\n\n\t\t\tif (horizontalDirection === 'west') {\n\t\t\t\tdirections.left -= left;\n\t\t\t} else if (horizontalDirection === 'east') {\n\t\t\t\tdirections.right += left;\n\t\t\t}\n\t\t\tif (verticalDirection === 'north') {\n\t\t\t\tdirections.top -= top;\n\t\t\t} else if (verticalDirection === 'south') {\n\t\t\t\tdirections.bottom += top;\n\t\t\t}\n\n\t\t\tlet respectDirection: 'width' | 'height' | undefined;\n\t\t\tif (!verticalDirection && horizontalDirection) {\n\t\t\t\trespectDirection = 'width';\n\t\t\t} else if (verticalDirection && !horizontalDirection) {\n\t\t\t\trespectDirection = 'height';\n\t\t\t}\n\n\t\t\tif (!disabled) {\n\t\t\t\tif (onResize) {\n\t\t\t\t\tonResize(directions, {\n\t\t\t\t\t\tallowedDirections: {\n\t\t\t\t\t\t\tleft: horizontalDirection === 'west' || !horizontalDirection,\n\t\t\t\t\t\t\tright: horizontalDirection === 'east' || !horizontalDirection,\n\t\t\t\t\t\t\tbottom: verticalDirection === 'south' || !verticalDirection,\n\t\t\t\t\t\t\ttop: verticalDirection === 'north' || !verticalDirection,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpreserveAspectRatio: nativeEvent && nativeEvent.shiftKey,\n\t\t\t\t\t\trespectDirection,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\treturn (\n\t\t<div className={cn('advanced-cropper-bounding-box', className)} style={style}>\n\t\t\t{children}\n\t\t\t<div>\n\t\t\t\t{lineNodes.map((line) => (\n\t\t\t\t\t<line.component\n\t\t\t\t\t\tkey={line.name}\n\t\t\t\t\t\tdefaultClassName={line.className}\n\t\t\t\t\t\thoverClassName={line.hoverClassName}\n\t\t\t\t\t\twrapperClassName={line.wrapperClassName}\n\t\t\t\t\t\tposition={line.name}\n\t\t\t\t\t\tdisabled={line.disabled}\n\t\t\t\t\t\tonDrag={onHandlerDrag(line.horizontalPosition, line.verticalPosition)}\n\t\t\t\t\t\tonDragEnd={onResizeEnd}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{handlerNodes.map((handler) => {\n\t\t\t\t\tconst handlerElement = (\n\t\t\t\t\t\t<handler.component\n\t\t\t\t\t\t\tdefaultClassName={handler.className}\n\t\t\t\t\t\t\thoverClassName={handler.hoverClassName}\n\t\t\t\t\t\t\twrapperClassName={handler.wrapperClassName}\n\t\t\t\t\t\t\thorizontalPosition={handler.horizontalPosition}\n\t\t\t\t\t\t\tverticalPosition={handler.verticalPosition}\n\t\t\t\t\t\t\tdisabled={handler.disabled}\n\t\t\t\t\t\t\tonDrag={onHandlerDrag(handler.horizontalPosition, handler.verticalPosition)}\n\t\t\t\t\t\t\tonDragEnd={onResizeEnd}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={handler.name} className={handler.containerClassName}>\n\t\t\t\t\t\t\t{handlerElement}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\ninterface Props {\n\tclassName?: string;\n}\n\nexport const StencilOverlay: FC<Props> = ({ className, children }) => {\n\treturn <div className={classnames('advanced-cropper-stencil-overlay', className)}>{children}</div>;\n};\n","import { CropperTransitions, Animation } from 'advanced-cropper';\nimport { useRef, useState } from 'react';\n\nexport function useTransition<T>(transitions: CropperTransitions | null = null): [(callback: (progress: number) => void) => void, boolean] {\n\tconst animation = useRef(new Animation());\n\tconst [active, setActive] = useState(false);\n\n\treturn [\n\t\t(callback: (progress: number) => void) => {\n\t\t\tif (transitions && transitions.active) {\n\t\t\t\t\tanimation.current.start({\n\t\t\t\t\t\t...transitions,\n\t\t\t\t\t\tonStart() {\n\t\t\t\t\t\t\tsetActive(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonProgress(progress) {\n\t\t\t\t\t\t\tcallback(progress);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonStop() {\n\t\t\t\t\t\t\tsetActive(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n \t\t\t} else if (!animation.current.active) {\n\t\t\t\tcallback(1);\n\t\t\t}\n\t\t},\n\t\tactive,\n\t];\n}\n","import React, { FC, useLayoutEffect, useRef, useState } from 'react';\nimport { Coordinates, CropperTransitions, deepCompare, isNumber } from 'advanced-cropper';\nimport classnames from 'classnames';\nimport { useTransition } from '../../hooks/useAnimatedState';\n\ninterface Props {\n\tclassName?: string;\n\ttransitions?: CropperTransitions;\n\twidth?: number;\n\theight?: number;\n\tleft?: number;\n\ttop?: number;\n}\n\nexport const ArtificialTransition: FC<Props> = ({ className, transitions, children, ...values }) => {\n\tconst root = useRef<HTMLDivElement>(null);\n\n\tconst transitionValues = useRef<Partial<Coordinates>>(values);\n\n\tconst [rememberedValues, setRememberedValues] = useState(values);\n\n\tconst [runTransitions, transitionsActive] = useTransition(transitions);\n\n\tuseLayoutEffect(() => {\n\t\tif (!deepCompare(rememberedValues, values)) {\n\t\t\tsetRememberedValues(values);\n\n\t\t\tconst startValues = transitionsActive\n\t\t\t\t? {\n\t\t\t\t\t\t...transitionValues.current,\n\t\t\t\t  }\n\t\t\t\t: rememberedValues;\n\n\t\t\trunTransitions((progress) => {\n\t\t\t\tconst properties = ['left', 'top', 'height', 'width'] as const;\n\n\t\t\t\tproperties.forEach((property) => {\n\t\t\t\t\tconst desiredValue = values[property];\n\t\t\t\t\tconst startValue = startValues[property];\n\n\t\t\t\t\ttransitionValues.current[property] =\n\t\t\t\t\t\tisNumber(startValue) && isNumber(desiredValue)\n\t\t\t\t\t\t\t? startValue + (desiredValue - startValue) * progress\n\t\t\t\t\t\t\t: desiredValue;\n\t\t\t\t});\n\n\t\t\t\tif (root.current) {\n\t\t\t\t\troot.current.style.width = `${transitionValues.current.width}px`;\n\t\t\t\t\troot.current.style.height = `${transitionValues.current.height}px`;\n\t\t\t\t\troot.current.style.transform = `translate3d(${transitionValues.current.left}px, ${transitionValues.current.top}px, 0px)`;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [rememberedValues, transitionsActive, values.width, values.height, values.top, values.left]);\n\n\tconst currentValues = transitionsActive ? transitionValues.current : values;\n\n\tconst rootStyle = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: `${currentValues.width}px`,\n\t\theight: `${currentValues.height}px`,\n\t\ttransform: `translate3d(${currentValues.left}px, ${currentValues.top}px, 0px)`,\n\t};\n\n\treturn (\n\t\t<div ref={root} className={classnames('advanced-cropper-artificial-transition', className)} style={rootStyle}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import React, { FC } from 'react';\nimport { CropperTransitions } from 'advanced-cropper';\nimport classnames from 'classnames';\n\nimport { ArtificialTransition } from './ArtificialTransition';\n\ninterface Props {\n\tclassName?: string;\n\ttransitions?: CropperTransitions;\n\twidth?: number;\n\theight?: number;\n\tleft: number;\n\ttop: number;\n}\n\nexport const StencilWrapper: FC<Props> = ({ className, transitions, width, height, left, top, children }) => {\n\treturn (\n\t\t<ArtificialTransition\n\t\t\tclassName={classnames('advanced-cropper-stencil-wrapper', className)}\n\t\t\ttransitions={transitions}\n\t\t\twidth={width}\n\t\t\theight={height}\n\t\t\ttop={top}\n\t\t\tleft={left}\n\t\t>\n\t\t\t{children}\n\t\t</ArtificialTransition>\n\t);\n};\n","import React, { FC, ReactNode, useState } from 'react';\nimport cn from 'classnames';\nimport { useUpdateEffect } from '../../hooks/useUpdateEffect';\n\nexport interface StencilGridProps {\n\tvisible?: boolean;\n\tcolumns?: number;\n\trows?: number;\n\tclassName?: string;\n}\n\nexport const StencilGrid: FC<StencilGridProps> = ({ columns = 3, rows = 3, visible = false, className }) => {\n\tconst nodes: ReactNode[] = [];\n\n\tconst [currentColumns, setCurrentColumns] = useState(columns);\n\tconst [currentRows, setCurrentRows] = useState(rows);\n\n\tuseUpdateEffect(() => {\n\t\tif (visible) {\n\t\t\tsetCurrentRows(rows);\n\t\t\tsetCurrentColumns(columns);\n\t\t}\n\t}, [visible, columns, rows]);\n\n\tfor (let i = 0; i < currentRows; i++) {\n\t\tconst cells: ReactNode[] = [];\n\t\tfor (let j = 0; j < currentColumns; j++) {\n\t\t\tcells.push(\n\t\t\t\t<div\n\t\t\t\t\tkey={j}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-stencil-grid__cell',\n\t\t\t\t\t\ti === 0 && 'advanced-cropper-stencil-grid__cell--top',\n\t\t\t\t\t\ti === currentRows - 1 && 'advanced-cropper-stencil-grid__cell--bottom',\n\t\t\t\t\t\tj === 0 && 'advanced-cropper-stencil-grid__cell--left',\n\t\t\t\t\t\tj === currentColumns - 1 && 'advanced-cropper-stencil-grid__cell--right',\n\t\t\t\t\t)}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t\tnodes.push(\n\t\t\t<div key={i} className={'advanced-cropper-stencil-grid__row'}>\n\t\t\t\t{cells}\n\t\t\t</div>,\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t'advanced-cropper-stencil-grid',\n\t\t\t\tvisible && 'advanced-cropper-stencil-grid--visible',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{nodes}\n\t\t</div>\n\t);\n};\n","import React, { ComponentType, forwardRef, useImperativeHandle } from 'react';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tCropperImage,\n\tMoveDirections,\n\tResizeDirections,\n\tCropperState,\n\tCropperTransitions,\n\tRawAspectRatio,\n\tCropperInteractions,\n} from 'advanced-cropper';\nimport { createAspectRatio, getStencilCoordinates } from 'advanced-cropper/service';\nimport { ResizeOptions } from 'advanced-cropper/state';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\nimport { BoundingBox } from '../service/BoundingBox';\nimport { StencilOverlay } from '../service/StencilOverlay';\nimport { DraggableArea } from '../service/DraggableArea';\nimport { StencilWrapper } from '../service/StencilWrapper';\nimport { StencilGrid } from '../service/StencilGrid';\n\ntype HandlerComponent = ComponentType<any>;\n\ntype LineComponent = ComponentType<any>;\n\ninterface HandlerClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LineClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState;\n\tgetTransitions: () => CropperTransitions;\n\tgetInteractions: () => CropperInteractions;\n\thasInteractions: () => boolean;\n\tresizeCoordinates: (directions: ResizeDirections, options: ResizeOptions) => void;\n\tresizeCoordinatesEnd: () => void;\n\tmoveCoordinates: (directions: MoveDirections) => void;\n\tmoveCoordinatesEnd: () => void;\n\trefresh: () => void;\n}\n\ninterface Props {\n\tcropper: DesiredCropperRef;\n\timage?: CropperImage | null;\n\thandlerComponent?: HandlerComponent;\n\thandlers?: Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlerClassNames;\n\thandlerWrapperClassNames?: HandlerClassNames;\n\tlines?: Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LineClassNames;\n\tlineWrapperClassNames?: LineClassNames;\n\tmovingClassName?: string;\n\tresizingClassName?: string;\n\tgridClassName?: string;\n\tpreviewClassName?: string;\n\tboundingBoxClassName?: string;\n\toverlayClassName?: string;\n\tdraggableAreaClassName?: string;\n\tminAspectRatio?: number;\n\tmaxAspectRatio?: number;\n\taspectRatio?: number;\n\tmovable?: boolean;\n\tresizable?: boolean;\n\tgrid?: boolean;\n}\n\ninterface Methods {\n\taspectRatio: RawAspectRatio;\n}\n\nexport const RectangleStencil = forwardRef<Methods, Props>(\n\t(\n\t\t{\n\t\t\tcropper,\n\t\t\taspectRatio,\n\t\t\tminAspectRatio,\n\t\t\tmaxAspectRatio,\n\t\t\thandlerComponent = SimpleHandler,\n\t\t\thandlers = {\n\t\t\t\teastNorth: true,\n\t\t\t\tnorth: true,\n\t\t\t\twestNorth: true,\n\t\t\t\twest: true,\n\t\t\t\twestSouth: true,\n\t\t\t\tsouth: true,\n\t\t\t\teastSouth: true,\n\t\t\t\teast: true,\n\t\t\t},\n\t\t\thandlerClassNames = {},\n\t\t\thandlerWrapperClassNames = {},\n\t\t\tlines = {\n\t\t\t\twest: true,\n\t\t\t\tnorth: true,\n\t\t\t\teast: true,\n\t\t\t\tsouth: true,\n\t\t\t},\n\t\t\tlineComponent = SimpleLine,\n\t\t\tlineClassNames = {},\n\t\t\tlineWrapperClassNames = {},\n\t\t\tresizable = true,\n\t\t\tmovable = true,\n\t\t\tgrid,\n\t\t\tgridClassName,\n\t\t\tmovingClassName,\n\t\t\tresizingClassName,\n\t\t\tpreviewClassName,\n\t\t\tboundingBoxClassName,\n\t\t\toverlayClassName,\n\t\t\tdraggableAreaClassName,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst interactions = cropper.getInteractions();\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\taspectRatio: createAspectRatio(\n\t\t\t\taspectRatio || {\n\t\t\t\t\tminimum: minAspectRatio,\n\t\t\t\t\tmaximum: maxAspectRatio,\n\t\t\t\t},\n\t\t\t),\n\t\t}));\n\n\t\tconst onMove = (directions: MoveDirections) => {\n\t\t\tif (cropper && movable) {\n\t\t\t\tcropper.moveCoordinates(directions);\n\t\t\t}\n\t\t};\n\n\t\tconst onMoveEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.moveCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst onResize = (directions: ResizeDirections, options: ResizeOptions) => {\n\t\t\tif (cropper && resizable) {\n\t\t\t\tcropper.resizeCoordinates(directions, options);\n\t\t\t}\n\t\t};\n\n\t\tconst onResizeEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.resizeCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst { width, height, left, top } = getStencilCoordinates(state);\n\n\t\treturn (\n\t\t\tstate && (\n\t\t\t\t<StencilWrapper\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-rectangle-stencil',\n\t\t\t\t\t\tmovable && 'advanced-cropper-rectangle-stencil--movable',\n\t\t\t\t\t\tinteractions.moveCoordinates && 'advanced-cropper-rectangle-stencil--moving',\n\t\t\t\t\t\tresizable && 'advanced-cropper-rectangle-stencil--resizable',\n\t\t\t\t\t\tinteractions.resizeCoordinates && 'advanced-cropper-rectangle-stencil--resizing',\n\t\t\t\t\t\tinteractions.moveCoordinates && movingClassName,\n\t\t\t\t\t\tinteractions.resizeCoordinates && resizingClassName,\n\t\t\t\t\t)}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tleft={left}\n\t\t\t\t\ttop={top}\n\t\t\t\t\ttransitions={transitions}\n\t\t\t\t>\n\t\t\t\t\t<BoundingBox\n\t\t\t\t\t\tclassName={cn(boundingBoxClassName, 'advanced-cropper-rectangle-stencil__bounding-box')}\n\t\t\t\t\t\thandlers={handlers}\n\t\t\t\t\t\thandlerComponent={handlerComponent}\n\t\t\t\t\t\thandlerClassNames={handlerClassNames}\n\t\t\t\t\t\thandlerWrapperClassNames={handlerWrapperClassNames}\n\t\t\t\t\t\tlines={lines}\n\t\t\t\t\t\tlineComponent={lineComponent}\n\t\t\t\t\t\tlineClassNames={lineClassNames}\n\t\t\t\t\t\tlineWrapperClassNames={lineWrapperClassNames}\n\t\t\t\t\t\tonResize={onResize}\n\t\t\t\t\t\tonResizeEnd={onResizeEnd}\n\t\t\t\t\t\tdisabled={!resizable}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\tdisabled={!movable}\n\t\t\t\t\t\t\tonMove={onMove}\n\t\t\t\t\t\t\tonMoveEnd={onMoveEnd}\n\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__draggable-area', draggableAreaClassName)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StencilOverlay\n\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__overlay', overlayClassName)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{grid && (\n\t\t\t\t\t\t\t\t\t<StencilGrid\n\t\t\t\t\t\t\t\t\t\tvisible={cropper.hasInteractions()}\n\t\t\t\t\t\t\t\t\t\tcolumns={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\trows={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-rectangle-stencil__grid', gridClassName)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className={cn('advanced-cropper-rectangle-stencil__preview', previewClassName)} />\n\t\t\t\t\t\t\t</StencilOverlay>\n\t\t\t\t\t\t</DraggableArea>\n\t\t\t\t\t</BoundingBox>\n\t\t\t\t</StencilWrapper>\n\t\t\t)\n\t\t);\n\t},\n);\n\nRectangleStencil.displayName = 'RectangleStencil';\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { RotateImageSettings } from '../types';\n\nexport function useRotateImageOptions(rotateImage: RotateImageSettings | boolean) {\n\treturn useMemo(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\trotateImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[rotateImage],\n\t);\n}\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { ScaleImageSettings } from '../types';\n\ninterface UseScaleImageOptions {\n\ttouch: boolean;\n\twheel:\n\t\t| boolean\n\t\t| {\n\t\t\t\tratio: number;\n\t\t  };\n}\n\nexport function useScaleImageOptions(scaleImage: ScaleImageSettings | boolean) {\n\treturn useMemo<UseScaleImageOptions>(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\tscaleImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t\twheel: {\n\t\t\t\t\t\tratio: 0.1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t\twheel: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[scaleImage],\n\t);\n}\n","import { useMemo } from 'react';\nimport { getOptions } from 'advanced-cropper';\nimport { MoveImageSettings } from '../types';\n\nexport function useMoveImageOptions(moveImage: MoveImageSettings | boolean) {\n\treturn useMemo(\n\t\t() =>\n\t\t\tgetOptions(\n\t\t\t\tmoveImage,\n\t\t\t\t{\n\t\t\t\t\ttouch: true,\n\t\t\t\t\tmouse: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttouch: false,\n\t\t\t\t\tmouse: false,\n\t\t\t\t},\n\t\t\t),\n\t\t[moveImage],\n\t);\n}\n","import React, { ReactNode, CSSProperties, Component, RefObject, createRef } from 'react';\nimport {\n\tdebounce,\n\tDebouncedFunction,\n\tImageTransform,\n\tPoint,\n\tSimpleTouch,\n\ttouchesToImageTransform,\n\twheelEventToImageTransform,\n} from 'advanced-cropper';\n\ninterface Props {\n\tonTransform?: (transform: ImageTransform) => void;\n\tonTransformEnd?: () => void;\n\tonEvent?: (transformEvent: TransformableImageEvent, nativeEvent: Event) => unknown;\n\tdisabled?: boolean;\n\ttouchMove?: boolean;\n\tmouseMove?: boolean;\n\ttouchScale?: boolean;\n\ttouchRotate?: boolean;\n\twheelScale?:\n\t\t| boolean\n\t\t| {\n\t\t\t\tratio: number;\n\t\t  };\n\ttimeout?: number;\n\tchildren?: ReactNode;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n}\n\nexport class TransformableImageEvent {\n\tconstructor({ active }: { active: boolean }) {\n\t\tthis.active = active;\n\t\tthis.defaultPrevented = false;\n\t}\n\tpreventDefault() {\n\t\tthis.defaultPrevented = true;\n\t}\n\tdefaultPrevented: boolean;\n\tactive: boolean;\n}\n\nexport class TransformableImage extends Component<Props> {\n\ttouches: (SimpleTouch & { identifier?: number })[];\n\ttransforming: boolean;\n\tanchor: Point;\n\tcontainer: RefObject<HTMLDivElement>;\n\tdebouncedProcessEnd: DebouncedFunction<TransformableImage['processEnd']>;\n\n\tstatic defaultProps = {\n\t\ttouchMove: true,\n\t\tmouseMove: true,\n\t\ttouchScale: true,\n\t\ttouchRotate: false,\n\t\twheelScale: true,\n\t\ttimeout: 500,\n\t};\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.transforming = false;\n\t\tthis.touches = [];\n\t\tthis.anchor = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t};\n\t\tthis.container = createRef();\n\t\tthis.debouncedProcessEnd = debounce(this.processEnd, props.timeout);\n\t}\n\n\tprocessMove = (newTouches: SimpleTouch[]) => {\n\t\tconst { onTransform, touchScale, touchMove, touchRotate } = this.props;\n\t\tconst container = this.container.current;\n\t\tif (container && onTransform) {\n\t\t\tonTransform(\n\t\t\t\ttouchesToImageTransform(newTouches, this.touches, container, {\n\t\t\t\t\tscale: touchScale,\n\t\t\t\t\trotate: touchRotate,\n\t\t\t\t\tmove: touchMove,\n\t\t\t\t}),\n\t\t\t);\n\t\t\tthis.touches = newTouches;\n\t\t}\n\t};\n\n\tprocessEnd = () => {\n\t\tconst { onTransformEnd } = this.props;\n\t\tif (this.transforming) {\n\t\t\tthis.transforming = false;\n\t\t\tif (onTransformEnd) {\n\t\t\t\tonTransformEnd();\n\t\t\t}\n\t\t}\n\t};\n\n\tprocessStart = () => {\n\t\tthis.transforming = true;\n\t\tthis.debouncedProcessEnd.clear();\n\t};\n\n\tprocessEvent = (nativeEvent: Event) => {\n\t\tconst { onEvent, disabled } = this.props;\n\t\tconst transformEvent = new TransformableImageEvent({ active: this.transforming });\n\n\t\tif (onEvent) {\n\t\t\tonEvent(transformEvent, nativeEvent);\n\t\t} else {\n\t\t\tnativeEvent.preventDefault();\n\t\t\tnativeEvent.stopPropagation();\n\t\t}\n\n\t\treturn !disabled && !transformEvent.defaultPrevented;\n\t};\n\n\tonWheel = (event: WheelEvent) => {\n\t\tconst { onTransform, wheelScale } = this.props;\n\t\tconst container = this.container.current;\n\n\t\tif (wheelScale) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processStart();\n\t\t\t\tif (onTransform && container) {\n\t\t\t\t\tonTransform(\n\t\t\t\t\t\twheelEventToImageTransform(event, container, wheelScale === true ? 0.1 : wheelScale.ratio),\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (!this.touches.length) {\n\t\t\t\t\tthis.debouncedProcessEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tonTouchStart = (event: TouchEvent) => {\n\t\tconst { touchMove, touchScale, touchRotate } = this.props;\n\t\tif (event.cancelable && (touchMove || ((touchScale || touchRotate) && event.touches.length > 1))) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tconst container = this.container.current;\n\t\t\t\tif (container) {\n\t\t\t\t\tconst { left, top, bottom, right } = container.getBoundingClientRect();\n\t\t\t\t\tthis.touches = Array.from(event.touches).filter(\n\t\t\t\t\t\t(touch) =>\n\t\t\t\t\t\t\ttouch.clientX > left &&\n\t\t\t\t\t\t\ttouch.clientX < right &&\n\t\t\t\t\t\t\ttouch.clientY > top &&\n\t\t\t\t\t\t\ttouch.clientY < bottom,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tonTouchEnd = (event: TouchEvent) => {\n\t\tif (event.touches.length === 0) {\n\t\t\tthis.touches = [];\n\t\t\tthis.processEnd();\n\t\t}\n\t};\n\n\tonTouchMove = (event: TouchEvent) => {\n\t\tif (this.touches.length) {\n\t\t\tconst touches = [...event.touches].filter(\n\t\t\t\t(touch) =>\n\t\t\t\t\t!touch.identifier ||\n\t\t\t\t\tthis.touches.find((anotherTouch) => anotherTouch.identifier === touch.identifier),\n\t\t\t);\n\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processMove(touches);\n\t\t\t\tthis.processStart();\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseDown = (event: MouseEvent) => {\n\t\tconst { mouseMove } = this.props;\n\t\tif (mouseMove && 'buttons' in event && event.buttons === 1) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tconst touch = {\n\t\t\t\t\tclientX: event.clientX,\n\t\t\t\t\tclientY: event.clientY,\n\t\t\t\t};\n\t\t\t\tthis.touches = [touch];\n\t\t\t\tthis.processStart();\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseMove = (event: MouseEvent) => {\n\t\tif (this.touches.length) {\n\t\t\tif (this.processEvent(event)) {\n\t\t\t\tthis.processMove([\n\t\t\t\t\t{\n\t\t\t\t\t\tclientX: event.clientX,\n\t\t\t\t\t\tclientY: event.clientY,\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t};\n\n\tonMouseUp = () => {\n\t\tthis.touches = [];\n\t\tthis.processEnd();\n\t};\n\n\tshouldComponentUpdate(): boolean {\n\t\treturn true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('mouseup', this.onMouseUp);\n\t\twindow.removeEventListener('mousemove', this.onMouseMove);\n\t\twindow.removeEventListener('touchmove', this.onTouchMove);\n\t\twindow.removeEventListener('touchend', this.onTouchEnd);\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\tcontainer.removeEventListener('touchstart', this.onTouchStart);\n\t\t\tcontainer.removeEventListener('mousedown', this.onMouseDown);\n\t\t\tcontainer.removeEventListener('wheel', this.onWheel);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('mouseup', this.onMouseUp, { passive: false });\n\t\twindow.addEventListener('mousemove', this.onMouseMove, { passive: false });\n\t\twindow.addEventListener('touchmove', this.onTouchMove, { passive: false });\n\t\twindow.addEventListener('touchend', this.onTouchEnd, { passive: false });\n\n\t\tconst container = this.container.current;\n\t\tif (container) {\n\t\t\t// Add event listeners here due to https://github.com/facebook/react/issues/9809#issuecomment-414072263\n\t\t\tcontainer.addEventListener('touchstart', this.onTouchStart, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('mousedown', this.onMouseDown, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t\tcontainer.addEventListener('wheel', this.onWheel, {\n\t\t\t\tpassive: false,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { className, children, style } = this.props;\n\t\treturn (\n\t\t\t<div className={className} style={style} ref={this.container}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { CSSProperties, ReactNode } from 'react';\nimport { CropperTransitions, ImageTransform } from 'advanced-cropper';\nimport { useRotateImageOptions } from '../../hooks/useRotateImageOptions';\nimport { useScaleImageOptions } from '../../hooks/useScaleImageOptions';\nimport { useMoveImageOptions } from '../../hooks/useMoveImageOptions';\nimport { MoveImageSettings, RotateImageSettings, ScaleImageSettings } from '../../types';\nimport { TransformableImage } from './TransformableImage';\n\ninterface DesiredCropperRef {\n\ttransformImage: (transform: ImageTransform) => void;\n\ttransformImageEnd: () => void;\n\tgetTransitions: () => CropperTransitions;\n}\n\nexport interface CropperBackgroundWrapperProps {\n\tcropper: DesiredCropperRef;\n\trotateImage?: boolean | RotateImageSettings;\n\tscaleImage?: boolean | ScaleImageSettings;\n\tmoveImage?: boolean | MoveImageSettings;\n\tchildren?: ReactNode;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\ttimeout?: number;\n}\n\nexport const CropperBackgroundWrapper = ({\n\tscaleImage = true,\n\tmoveImage = true,\n\trotateImage = false,\n\tchildren,\n\tclassName,\n\tstyle,\n\tcropper,\n\ttimeout,\n}: CropperBackgroundWrapperProps) => {\n\tconst transitions = cropper.getTransitions();\n\n\tconst rotateImageOptions = useRotateImageOptions(rotateImage);\n\tconst scaleImageOptions = useScaleImageOptions(scaleImage);\n\tconst moveImageOptions = useMoveImageOptions(moveImage);\n\n\treturn (\n\t\t<TransformableImage\n\t\t\tclassName={className}\n\t\t\tstyle={style}\n\t\t\tonTransform={cropper.transformImage}\n\t\t\tonTransformEnd={cropper.transformImageEnd}\n\t\t\ttouchMove={moveImageOptions.touch}\n\t\t\tmouseMove={moveImageOptions.mouse}\n\t\t\ttouchScale={scaleImageOptions.touch}\n\t\t\twheelScale={scaleImageOptions.wheel}\n\t\t\ttouchRotate={rotateImageOptions.touch}\n\t\t\tdisabled={transitions.active}\n\t\t\ttimeout={timeout}\n\t\t>\n\t\t\t{children}\n\t\t</TransformableImage>\n\t);\n};\n","import React, { useImperativeHandle, useRef, CSSProperties, Ref, useState } from 'react';\nimport cn from 'classnames';\nimport {\n\tDrawOptions,\n\tBoundaryStretchAlgorithm,\n\tDefaultSettings,\n\tdefaultStencilConstraints,\n\tBoundarySizeAlgorithm,\n\tCoreSettings,\n\tCropperImage,\n\tCropperState,\n\tCropperTransitions,\n\tModifierSettings,\n\tAbstractCropperCallbacks,\n\tAbstractCropperParameters,\n} from 'advanced-cropper';\n\nimport {\n\tCropperBackgroundWrapperComponent,\n\tCropperWrapperComponent,\n\tStencilComponent,\n\tCropperBackgroundComponent,\n\tArbitraryProps,\n\tStencilConstraints,\n\tSettingsExtension,\n\tExtendedSettings,\n\tCustomCropperRef,\n} from '../types';\nimport { useWindowResize } from '../hooks/useWindowResize';\nimport { useCropperImage } from '../hooks/useCropperImage';\nimport {\n\tCropperStateHook,\n\tCropperStateSettings,\n\tCropperStateSettingsProp,\n\tuseCropperState,\n} from '../hooks/useCropperState';\nimport { mergeRefs } from '../service/react';\nimport { useUpdateEffect } from '../hooks/useUpdateEffect';\nimport { useStateWithCallback } from '../hooks/useStateWithCallback';\nimport { createCropper } from '../service/cropper';\nimport { StretchableBoundary, StretchableBoundaryMethods } from './service/StretchableBoundary';\nimport { CropperWrapper } from './service/CropperWrapper';\nimport { CropperBackgroundImage } from './service/CropperBackgroundImage';\nimport { CropperCanvas, CropperCanvasMethods } from './service/CropperCanvas';\nimport { RectangleStencil } from './stencils/RectangleStencil';\nimport { CropperBackgroundWrapper } from './service/CropperBackgroundWrapper';\n\nexport type AbstractCropperSettingsProp<Settings extends CropperStateSettings> = CropperStateSettingsProp<Settings>;\n\nexport type AbstractCropperSettings = DefaultSettings & CoreSettings & ModifierSettings;\n\nexport interface AbstractCropperRef<Settings extends AbstractCropperSettings = AbstractCropperSettings> {\n\treset: () => void;\n\trefresh: () => void;\n\tsetCoordinates: CropperStateHook['setCoordinates'];\n\tsetState: CropperStateHook['setState'];\n\tsetImage: (image: CropperImage) => void;\n\tflipImage: CropperStateHook['flipImage'];\n\tzoomImage: CropperStateHook['zoomImage'];\n\trotateImage: CropperStateHook['rotateImage'];\n\treconcileState: CropperStateHook['reconcileState'];\n\tmoveImage: CropperStateHook['moveImage'];\n\tmoveCoordinates: CropperStateHook['moveCoordinates'];\n\tmoveCoordinatesEnd: CropperStateHook['moveCoordinatesEnd'];\n\tresizeCoordinates: CropperStateHook['resizeCoordinates'];\n\tresizeCoordinatesEnd: CropperStateHook['resizeCoordinatesEnd'];\n\ttransformImage: CropperStateHook['transformImage'];\n\ttransformImageEnd: CropperStateHook['transformImageEnd'];\n\tgetCoordinates: CropperStateHook['getCoordinates'];\n\tgetVisibleArea: CropperStateHook['getVisibleArea'];\n\tgetTransforms: CropperStateHook['getTransforms'];\n\tgetStencilCoordinates: CropperStateHook['getStencilCoordinates'];\n\tgetDefaultState: () => CropperState | null;\n\tgetCanvas: (options?: DrawOptions) => HTMLCanvasElement | null;\n\tgetSettings: () => Settings;\n\tgetImage: () => CropperImage | null;\n\tgetState: () => CropperState | null;\n\tgetTransitions: () => CropperTransitions;\n}\n\nexport interface AbstractCropperProps<Settings extends AbstractCropperSettings>\n\textends AbstractCropperParameters<Settings>,\n\t\tAbstractCropperCallbacks<AbstractCropperRef<Settings>> {\n\tsrc?: string | null;\n\tbackgroundComponent?: CropperBackgroundComponent;\n\tbackgroundProps?: ArbitraryProps;\n\tbackgroundWrapperComponent?: CropperBackgroundWrapperComponent;\n\tbackgroundWrapperProps?: ArbitraryProps;\n\twrapperComponent?: CropperWrapperComponent;\n\twrapperProps?: ArbitraryProps;\n\tstencilComponent?: StencilComponent;\n\tstencilProps?: ArbitraryProps;\n\tstencilConstraints?: StencilConstraints<AbstractCropperSettingsProp<Settings>>;\n\tclassName?: string;\n\timageClassName?: string;\n\tboundaryClassName?: string;\n\tbackgroundClassName?: string;\n\tcheckOrientation?: boolean;\n\tcanvas?: boolean;\n\tcrossOrigin?: 'anonymous' | 'use-credentials';\n\tboundaryStretchAlgorithm?: BoundaryStretchAlgorithm;\n\tboundarySizeAlgorithm?: BoundarySizeAlgorithm;\n\tstyle?: CSSProperties;\n\tonReady?: (cropper: AbstractCropperRef<Settings>) => void;\n\tonError?: (cropper: AbstractCropperRef<Settings>) => void;\n\tunloadTime?: number;\n\tsettings: CropperStateSettingsProp<Settings>;\n\tautoReconcileState?: boolean;\n}\n\nexport type AbstractCropperIntrinsicProps<Settings extends AbstractCropperSettings> = Omit<\n\tAbstractCropperProps<Settings>,\n\t'settings'\n>;\n\nconst AbstractCropperComponent = <Extension extends SettingsExtension = {}>(\n\tprops: AbstractCropperProps<ExtendedSettings<Extension>>,\n\tref: Ref<CustomCropperRef<Extension>>,\n) => {\n\tconst {\n\t\tsrc,\n\t\tstencilComponent = RectangleStencil,\n\t\tstencilConstraints = defaultStencilConstraints,\n\t\tstencilProps = {},\n\t\twrapperComponent = CropperWrapper,\n\t\twrapperProps = {},\n\t\tbackgroundComponent = CropperBackgroundImage,\n\t\tbackgroundProps = {},\n\t\tbackgroundWrapperComponent = CropperBackgroundWrapper,\n\t\tbackgroundWrapperProps = {},\n\t\timageClassName,\n\t\tclassName,\n\t\tboundaryClassName,\n\t\tbackgroundClassName,\n\t\tboundarySizeAlgorithm,\n\t\tboundaryStretchAlgorithm,\n\t\tcrossOrigin = true,\n\t\tcheckOrientation = true,\n\t\tautoReconcileState = true,\n\t\tcanvas = true,\n\t\tstyle,\n\t\tonReady,\n\t\tonError,\n\t\tunloadTime = 500,\n\t\tsettings,\n\t\t...parameters\n\t} = props;\n\n\tconst stencilRef = useRef<StencilComponent>(null);\n\tconst imageRef = useRef<HTMLImageElement | HTMLCanvasElement>(null);\n\tconst boundaryRef = useRef<StretchableBoundaryMethods>(null);\n\tconst canvasRef = useRef<CropperCanvasMethods>(null);\n\tconst cropperRef = useRef<AbstractCropperRef<ExtendedSettings<Extension>>>(null);\n\n\tconst [currentImage, setCurrentImage] = useStateWithCallback<CropperImage | null>(null);\n\tconst [autoReconcileStateDisabled, setAutoReconcileStateDisabled] = useState(false);\n\n\tconst cropper = useCropperState(\n\t\t() => ({\n\t\t\t...parameters,\n\t\t\tgetInstance() {\n\t\t\t\treturn cropperRef.current;\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\t...settings,\n\t\t\t\t...stencilConstraints(settings, {\n\t\t\t\t\t...stencilProps,\n\t\t\t\t\t...stencilRef.current,\n\t\t\t\t}),\n\t\t\t},\n\t\t}),\n\t\t{\n\t\t\tautoReconcileState: autoReconcileState && !autoReconcileStateDisabled,\n\t\t},\n\t);\n\n\tconst { image, loaded, loading } = useCropperImage({\n\t\tsrc,\n\t\tcrossOrigin,\n\t\tcheckOrientation,\n\t\tunloadTime,\n\t\tcanvas,\n\t\tonLoad() {\n\t\t\tif (cropperRef.current) {\n\t\t\t\tonReady?.(cropperRef.current);\n\t\t\t}\n\t\t},\n\t\tonError() {\n\t\t\tif (cropperRef.current) {\n\t\t\t\tonError?.(cropperRef.current);\n\t\t\t}\n\t\t},\n\t});\n\n\tconst resetCropper = () => {\n\t\tif (boundaryRef.current) {\n\t\t\tsetAutoReconcileStateDisabled(true);\n\t\t\tboundaryRef.current\n\t\t\t\t?.stretchTo(image)\n\t\t\t\t.then((boundary) => {\n\t\t\t\t\tsetCurrentImage(image, () => {\n\t\t\t\t\t\tif (boundary && image) {\n\t\t\t\t\t\t\tcropper.reset(boundary, image);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcropper.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tsetAutoReconcileStateDisabled(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst refreshCropper = () => {\n\t\tif (boundaryRef.current) {\n\t\t\tsetAutoReconcileStateDisabled(true);\n\t\t\tboundaryRef.current\n\t\t\t\t?.stretchTo(image)\n\t\t\t\t.then((boundary) => {\n\t\t\t\t\tif (boundary && image) {\n\t\t\t\t\t\tconst state = cropper.getState();\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\tif (boundary.width !== state.boundary.width || boundary.height !== state.boundary.height) {\n\t\t\t\t\t\t\t\tcropper.setBoundary(boundary);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// It's important because, probably, after the boundary reset\n\t\t\t\t\t\t\t// the cropper can meet some restrictions that were broken before\n\t\t\t\t\t\t\tcropper.reconcileState();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcropper.reset(boundary, image);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcropper.clear();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tsetAutoReconcileStateDisabled(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst cropperInterface = {\n\t\treset: () => {\n\t\t\tresetCropper();\n\t\t},\n\t\trefresh: () => {\n\t\t\trefreshCropper();\n\t\t},\n\t\tgetCanvas: (options?: DrawOptions) => {\n\t\t\tconst state = cropper.getState();\n\t\t\tif (imageRef.current && canvasRef.current && state) {\n\t\t\t\treturn canvasRef.current.draw(state, imageRef.current, options);\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\tgetImage: () => {\n\t\t\treturn currentImage ? { ...currentImage } : null;\n\t\t},\n\t\tsetImage: (image: CropperImage) => {\n\t\t\tsetCurrentImage(image);\n\t\t},\n\t\treconcileState: cropper.reconcileState,\n\t\tmoveCoordinates: cropper.moveCoordinates,\n\t\tmoveCoordinatesEnd: cropper.moveCoordinatesEnd,\n\t\tresizeCoordinates: cropper.resizeCoordinates,\n\t\tclear: cropper.clear,\n\t\tresizeCoordinatesEnd: cropper.resizeCoordinatesEnd,\n\t\tmoveImage: cropper.moveImage,\n\t\tflipImage: cropper.flipImage,\n\t\tzoomImage: cropper.zoomImage,\n\t\trotateImage: cropper.rotateImage,\n\t\ttransformImage: cropper.transformImage,\n\t\ttransformImageEnd: cropper.transformImageEnd,\n\t\tsetCoordinates: cropper.setCoordinates,\n\t\tsetState: cropper.setState,\n\t\thasInteractions: cropper.hasInteractions,\n\t\tgetStencilCoordinates: cropper.getStencilCoordinates,\n\t\tgetCoordinates: cropper.getCoordinates,\n\t\tgetVisibleArea: cropper.getVisibleArea,\n\t\tgetTransforms: cropper.getTransforms,\n\t\tgetTransitions: cropper.getTransitions,\n\t\tgetInteractions: cropper.getInteractions,\n\t\tgetSettings: cropper.getSettings,\n\t\tgetState: cropper.getState,\n\t\tgetDefaultState() {\n\t\t\tconst state = cropper.getState();\n\t\t\treturn state && image && cropper.createDefaultState(state.boundary, image);\n\t\t},\n\t};\n\n\tuseWindowResize(() => {\n\t\trefreshCropper();\n\t});\n\n\tuseUpdateEffect(() => {\n\t\tresetCropper();\n\t}, [image]);\n\n\tuseImperativeHandle(mergeRefs([ref, cropperRef]), () => cropperInterface);\n\n\tconst StencilComponent = stencilComponent;\n\n\tconst WrapperComponent = wrapperComponent;\n\n\tconst BackgroundWrapperComponent = backgroundWrapperComponent;\n\n\tconst BackgroundComponent = backgroundComponent;\n\n\treturn (\n\t\t<WrapperComponent\n\t\t\t{...wrapperProps}\n\t\t\tclassName={cn('advanced-cropper', className)}\n\t\t\tloaded={loaded}\n\t\t\tcropper={cropperInterface}\n\t\t\tloading={loading}\n\t\t\tstyle={style}\n\t\t>\n\t\t\t<StretchableBoundary\n\t\t\t\tref={boundaryRef}\n\t\t\t\tstretchAlgorithm={boundaryStretchAlgorithm}\n\t\t\t\tsizeAlgorithm={boundarySizeAlgorithm}\n\t\t\t\tclassName={cn('advanced-cropper__boundary', boundaryClassName)}\n\t\t\t\tstretcherClassName={cn('advanced-cropper__stretcher')}\n\t\t\t>\n\t\t\t\t<BackgroundWrapperComponent\n\t\t\t\t\t{...backgroundWrapperProps}\n\t\t\t\t\tcropper={cropperInterface}\n\t\t\t\t\tclassName={'advanced-cropper__background-wrapper'}\n\t\t\t\t>\n\t\t\t\t\t<div className={cn('advanced-cropper__background', backgroundClassName)}>\n\t\t\t\t\t\t{cropper.getState() && (\n\t\t\t\t\t\t\t<BackgroundComponent\n\t\t\t\t\t\t\t\t{...backgroundProps}\n\t\t\t\t\t\t\t\tref={imageRef}\n\t\t\t\t\t\t\t\tcrossOrigin={crossOrigin}\n\t\t\t\t\t\t\t\tcropper={cropperInterface}\n\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper__image', imageClassName)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<StencilComponent\n\t\t\t\t\t\t{...stencilProps}\n\t\t\t\t\t\tref={stencilRef}\n\t\t\t\t\t\tcropper={cropperInterface}\n\t\t\t\t\t\timage={currentImage}\n\t\t\t\t\t/>\n\t\t\t\t</BackgroundWrapperComponent>\n\t\t\t\t{canvas && <CropperCanvas ref={canvasRef} />}\n\t\t\t</StretchableBoundary>\n\t\t</WrapperComponent>\n\t);\n};\n\nexport const AbstractCropper = createCropper(AbstractCropperComponent);\n","import { __assign } from 'tslib';\nimport { isFunction } from '../../utils/index.js';\nimport { aspectRatioIntersection, createAspectRatio, ratio, applyScale, fitToSizeRestrictions, applyMove, diff, getCenter, moveToPositionRestrictions, mergePositionRestrictions, coordinatesToPositionRestrictions } from '../../service/utils.js';\nimport { getAreaSizeRestrictions, getSizeRestrictions, getAspectRatio, isInitializedState, getAreaPositionRestrictions } from '../../service/helpers.js';\nimport { copyState } from '../../state/copyState.js';\nimport '../../types/index.js';\nimport '../../state/setCoordinates.js';\nimport { approximateSize } from '../../service/approximateSize.js';\nimport { defaultStencilConstraints } from '../../defaults/defaultStencilConstraints.js';\n\nfunction fixedStencilConstraints(rawSettings, stencilOptions) {\n    var defaultConstraints = defaultStencilConstraints({}, stencilOptions);\n    return {\n        stencilSize: function (state, settings) {\n            var previousSize = isFunction(rawSettings.stencilSize)\n                ? rawSettings.stencilSize(state, settings)\n                : rawSettings.stencilSize;\n            return approximateSize(__assign(__assign({}, previousSize), { aspectRatio: aspectRatioIntersection(defaultConstraints.aspectRatio, createAspectRatio(ratio(previousSize))) }));\n        },\n    };\n}\nfunction getStencilSize(state, settings) {\n    var boundary = state.boundary;\n    var size = isFunction(settings.stencilSize) ? settings.stencilSize(state, settings) : settings.stencilSize;\n    if (size.width > boundary.width || size.height > boundary.height) {\n        size = approximateSize({\n            sizeRestrictions: {\n                maxWidth: boundary.width,\n                maxHeight: boundary.height,\n                minWidth: 0,\n                minHeight: 0,\n            },\n            width: size.width,\n            height: size.height,\n            aspectRatio: {\n                minimum: ratio(size),\n                maximum: ratio(size),\n            },\n        });\n    }\n    return size;\n}\nfunction sizeRestrictions(state, settings) {\n    var stencilSize = getStencilSize(state, __assign(__assign({}, settings), { stencilSize: settings.stencilSize }));\n    var areaRestrictions = getAreaSizeRestrictions(state, settings);\n    return {\n        maxWidth: (areaRestrictions.maxWidth * stencilSize.width) / state.boundary.width,\n        maxHeight: (areaRestrictions.maxHeight * stencilSize.height) / state.boundary.height,\n        minWidth: 0,\n        minHeight: 0,\n    };\n}\nfunction defaultSize(state, settings) {\n    var imageSize = state.imageSize, visibleArea = state.visibleArea, boundary = state.boundary;\n    var sizeRestrictions = getSizeRestrictions(state, settings);\n    var aspectRatio = getAspectRatio(state, settings);\n    var stencilSize = isFunction(settings.stencilSize) ? settings.stencilSize(state, settings) : settings.stencilSize;\n    var area = (visibleArea || imageSize);\n    var height, width;\n    if (ratio(area) > ratio(boundary)) {\n        height = (stencilSize.height * area.height) / boundary.height;\n        width = height * ratio(stencilSize);\n    }\n    else {\n        width = (stencilSize.width * area.width) / boundary.width;\n        height = width / ratio(stencilSize);\n    }\n    return approximateSize({\n        width: width,\n        height: height,\n        aspectRatio: aspectRatio,\n        sizeRestrictions: sizeRestrictions,\n    });\n}\nfunction aspectRatio(state, settings) {\n    var value = ratio(getStencilSize(state, settings));\n    return {\n        minimum: value,\n        maximum: value,\n    };\n}\nfunction fixedStencilAlgorithm(state, settings) {\n    if (isInitializedState(state)) {\n        var result = copyState(state);\n        var stencil = getStencilSize(state, settings);\n        // First of all try to resize visible area as much as possible:\n        result.visibleArea = applyScale(result.visibleArea, (result.coordinates.width * result.boundary.width) / (result.visibleArea.width * stencil.width));\n        // Check that visible area doesn't break the area restrictions:\n        var scale = fitToSizeRestrictions(result.visibleArea, getAreaSizeRestrictions(result, settings));\n        if (scale !== 1) {\n            result.visibleArea = applyScale(result.visibleArea, scale);\n            result.coordinates = applyScale(result.coordinates, scale);\n        }\n        result.visibleArea = applyMove(result.visibleArea, diff(getCenter(result.coordinates), getCenter(result.visibleArea)));\n        // Center stencil in visible area:\n        result.visibleArea = moveToPositionRestrictions(result.visibleArea, getAreaPositionRestrictions(result, settings));\n        result.coordinates = moveToPositionRestrictions(result.coordinates, mergePositionRestrictions(coordinatesToPositionRestrictions(result.visibleArea), getAreaPositionRestrictions(result, settings)));\n        return result;\n    }\n    return state;\n}\nfunction fixedStencil(state, settings, action) {\n    if (action && action.immediately) {\n        return fixedStencilAlgorithm(state, settings);\n    }\n    return state;\n}\n\nexport { aspectRatio, defaultSize, fixedStencil, fixedStencilAlgorithm, fixedStencilConstraints, getStencilSize, sizeRestrictions };\n","import React, { Ref } from 'react';\nimport {\n\tdefaultSize,\n\tsizeRestrictions,\n\taspectRatio,\n\tfixedStencil,\n\tStencilSize,\n\tfixedStencilConstraints,\n} from 'advanced-cropper/extensions/stencil-size';\nimport { withDefaultSizeRestrictions } from 'advanced-cropper/defaults';\nimport { CustomCropperProps, CustomCropperRef } from '../../types';\nimport { createCropper, splitAbstractCropperProps } from '../../service/cropper';\nimport { AbstractCropper } from '../AbstractCropper';\n\ntype UnavailableProps = 'sizeRestrictions' | 'aspectRatio';\n\nexport interface FixedCropperSettings {\n\tstencilSize: StencilSize<this>;\n}\n\nexport type FixedCropperProps<Extension extends FixedCropperSettings = FixedCropperSettings> = Omit<\n\tCustomCropperProps<Extension>,\n\tUnavailableProps\n>;\n\nexport type FixedCropperRef<Extension extends FixedCropperSettings = FixedCropperSettings> =\n\tCustomCropperRef<Extension>;\n\nconst FixedCropperComponent = <Extension extends FixedCropperSettings = FixedCropperSettings>(\n\tprops: FixedCropperProps<Extension>,\n\tref?: Ref<FixedCropperRef<Extension>>,\n) => {\n\tconst { settings, ...parameters } = splitAbstractCropperProps(props);\n\treturn (\n\t\t<AbstractCropper<FixedCropperSettings>\n\t\t\tpostProcess={fixedStencil}\n\t\t\tstencilConstraints={fixedStencilConstraints}\n\t\t\t{...parameters}\n\t\t\tsettings={{\n\t\t\t\tdefaultSize: defaultSize,\n\t\t\t\taspectRatio: aspectRatio,\n\t\t\t\tsizeRestrictions: withDefaultSizeRestrictions(sizeRestrictions),\n\t\t\t\t...settings,\n\t\t\t\ttransformImage: {\n\t\t\t\t\t...settings.transformImage,\n\t\t\t\t\tadjustStencil: false,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tref={ref}\n\t\t/>\n\t);\n};\n\nexport const FixedCropper = createCropper(FixedCropperComponent);\n","import React, { Ref } from 'react';\nimport { isUndefined } from 'advanced-cropper';\nimport { StencilSize } from 'advanced-cropper/extensions/stencil-size';\nimport { CustomCropperProps, CustomCropperRef, SettingsExtension } from '../../types';\nimport { createCropper, splitAbstractCropperProps } from '../../service/cropper';\nimport { hybridStencilAutoZoom } from '../../deprecated/hybridAutoZoom';\nimport { useDeprecationWarning } from '../../hooks/useDeprecationWarning';\nimport { AbstractCropper } from '../AbstractCropper';\nimport { FixedCropper, FixedCropperRef, FixedCropperSettings } from './FixedCropper';\n\ninterface DeprecatedCropperSettings {\n\tstencilSize?: StencilSize;\n\tautoZoom?: boolean;\n}\n\nexport type CropperProps<Extension extends SettingsExtension = {}> = CustomCropperProps<Extension>;\n\nexport type CropperRef<Extension extends SettingsExtension = {}> = CustomCropperRef<Extension>;\n\nconst CropperComponent = <Extension extends SettingsExtension = {}>(\n\tprops: CropperProps<Extension>,\n\tref?: Ref<CropperRef<Extension>>,\n) => {\n\tlet { settings, postProcess, ...parameters } = splitAbstractCropperProps(props);\n\n\t// Process the deprecated properties\n\tconst { stencilSize, autoZoom, ...actualSettings } = settings as DeprecatedCropperSettings;\n\n\tconst deprecationWarning = useDeprecationWarning();\n\n\tif (!isUndefined(autoZoom)) {\n\t\tif (postProcess || stencilSize) {\n\t\t\tdeprecationWarning(\n\t\t\t\t`prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function.`,\n\t\t\t);\n\t\t} else {\n\t\t\tdeprecationWarning(\n\t\t\t\t`prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function. The 'postProcess' automatically set to 'hybridAutoZoom'`,\n\t\t\t);\n\t\t\tpostProcess = hybridStencilAutoZoom;\n\t\t}\n\t}\n\n\tif (!isUndefined(stencilSize)) {\n\t\tdeprecationWarning(\n\t\t\t`prop 'stencilSize' is deprecated for <Cropper/> component now and will be removed, use <FixedCropper/> component instead.`,\n\t\t);\n\t\treturn (\n\t\t\t<FixedCropper<FixedCropperSettings>\n\t\t\t\tref={ref as Ref<FixedCropperRef>}\n\t\t\t\tstencilSize={stencilSize}\n\t\t\t\t{...actualSettings}\n\t\t\t\t{...parameters}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<AbstractCropper<DeprecatedCropperSettings>\n\t\t\t{...parameters}\n\t\t\tpostProcess={postProcess}\n\t\t\tref={ref}\n\t\t\tsettings={actualSettings}\n\t\t/>\n\t);\n};\n\nexport const Cropper = createCropper(CropperComponent);\n","import React, { ComponentType, forwardRef, useImperativeHandle } from 'react';\nimport cn from 'classnames';\nimport {\n\tCardinalDirection,\n\tOrdinalDirection,\n\tCropperTransitions,\n\tCropperState,\n\tResizeDirections,\n\tMoveDirections,\n\tCropperImage,\n\tResizeOptions,\n\tgetStencilCoordinates,\n\tCropperInteractions,\n} from 'advanced-cropper';\nimport { SimpleLine } from '../lines/SimpleLine';\nimport { SimpleHandler } from '../handlers/SimpleHandler';\nimport { BoundingBox } from '../service/BoundingBox';\nimport { StencilOverlay } from '../service/StencilOverlay';\nimport { DraggableArea } from '../service/DraggableArea';\nimport { StencilWrapper } from '../service/StencilWrapper';\nimport { StencilOptions } from '../../types';\nimport { StencilGrid } from '../service/StencilGrid';\n\ntype HandlerComponent = ComponentType<any>;\n\ntype LineComponent = ComponentType<any>;\n\ninterface HandlersClassNames extends Partial<Record<OrdinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface LinesClassNames extends Partial<Record<CardinalDirection, string>> {\n\tdefault?: string;\n\tdisabled?: string;\n\thover?: string;\n}\n\ninterface DesiredCropperRef {\n\tgetState: () => CropperState;\n\tgetTransitions: () => CropperTransitions;\n\tgetInteractions: () => CropperInteractions;\n\thasInteractions: () => boolean;\n\tresizeCoordinates: (directions: ResizeDirections, options: ResizeOptions) => void;\n\tresizeCoordinatesEnd: () => void;\n\tmoveCoordinates: (directions: MoveDirections) => void;\n\tmoveCoordinatesEnd: () => void;\n\tsetStencilOptions: (options: StencilOptions) => void;\n}\n\ninterface Props {\n\tcropper: DesiredCropperRef;\n\timage: CropperImage | null;\n\thandlerComponent?: HandlerComponent;\n\thandlers?: Partial<Record<OrdinalDirection, boolean>>;\n\thandlerClassNames?: HandlersClassNames;\n\thandlerWrapperClassNames?: HandlersClassNames;\n\tlines?: Partial<Record<CardinalDirection, boolean>>;\n\tlineComponent?: LineComponent;\n\tlineClassNames?: LinesClassNames;\n\tlineWrapperClassNames?: LinesClassNames;\n\tmovingClassName?: string;\n\tresizingClassName?: string;\n\tgridClassName?: string;\n\tpreviewClassName?: string;\n\tboundingBoxClassName?: string;\n\toverlayClassName?: string;\n\tdraggableAreaClassName?: string;\n\tminAspectRatio?: number;\n\tmaxAspectRatio?: number;\n\taspectRatio?: number;\n\tmovable?: boolean;\n\tresizable?: boolean;\n\tgrid?: boolean;\n}\n\ninterface Methods {\n\taspectRatio: number;\n}\n\nexport const CircleStencil = forwardRef<Methods, Props>(\n\t(\n\t\t{\n\t\t\tcropper,\n\t\t\thandlerComponent = SimpleHandler,\n\t\t\thandlers = {\n\t\t\t\teastNorth: true,\n\t\t\t\twestNorth: true,\n\t\t\t\twestSouth: true,\n\t\t\t\teastSouth: true,\n\t\t\t},\n\t\t\thandlerClassNames = {},\n\t\t\thandlerWrapperClassNames = {},\n\t\t\tlines = {\n\t\t\t\twest: true,\n\t\t\t\tnorth: true,\n\t\t\t\teast: true,\n\t\t\t\tsouth: true,\n\t\t\t},\n\t\t\tlineComponent = SimpleLine,\n\t\t\tlineClassNames = {},\n\t\t\tlineWrapperClassNames = {},\n\t\t\tresizable = true,\n\t\t\tmovable = true,\n\t\t\tgrid,\n\t\t\tgridClassName,\n\t\t\tmovingClassName,\n\t\t\tresizingClassName,\n\t\t\tpreviewClassName,\n\t\t\tboundingBoxClassName,\n\t\t\toverlayClassName,\n\t\t\tdraggableAreaClassName,\n\t\t}: Props,\n\t\tref,\n\t) => {\n\t\tconst state = cropper.getState();\n\t\tconst transitions = cropper.getTransitions();\n\t\tconst interactions = cropper.getInteractions();\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\taspectRatio: 1,\n\t\t\tboundingBox: 'circle',\n\t\t}));\n\n\t\tconst onMove = (directions: MoveDirections) => {\n\t\t\tif (cropper && movable) {\n\t\t\t\tcropper.moveCoordinates(directions);\n\t\t\t}\n\t\t};\n\n\t\tconst onMoveEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.moveCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst onResize = (directions: ResizeDirections, options: ResizeOptions) => {\n\t\t\tif (cropper && resizable) {\n\t\t\t\tcropper.resizeCoordinates(directions, options);\n\t\t\t}\n\t\t};\n\n\t\tconst onResizeEnd = () => {\n\t\t\tif (cropper) {\n\t\t\t\tcropper.resizeCoordinatesEnd();\n\t\t\t}\n\t\t};\n\n\t\tconst { width, height, left, top } = getStencilCoordinates(state);\n\n\t\treturn (\n\t\t\tstate && (\n\t\t\t\t<StencilWrapper\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'advanced-cropper-circle-stencil',\n\t\t\t\t\t\tmovable && 'advanced-cropper-circle-stencil--movable',\n\t\t\t\t\t\tinteractions.moveCoordinates && 'advanced-cropper-circle-stencil--moving',\n\t\t\t\t\t\tresizable && 'advanced-cropper-circle-stencil--resizable',\n\t\t\t\t\t\tinteractions.resizeCoordinates && 'advanced-cropper-circle-stencil--resizing',\n\t\t\t\t\t\tinteractions.moveCoordinates && movingClassName,\n\t\t\t\t\t\tinteractions.resizeCoordinates && resizingClassName,\n\t\t\t\t\t)}\n\t\t\t\t\twidth={width}\n\t\t\t\t\theight={height}\n\t\t\t\t\tleft={left}\n\t\t\t\t\ttop={top}\n\t\t\t\t\ttransitions={transitions}\n\t\t\t\t>\n\t\t\t\t\t<BoundingBox\n\t\t\t\t\t\tclassName={cn(boundingBoxClassName, 'advanced-cropper-circle-stencil__bounding-box')}\n\t\t\t\t\t\thandlers={handlers}\n\t\t\t\t\t\thandlerComponent={handlerComponent}\n\t\t\t\t\t\thandlerClassNames={handlerClassNames}\n\t\t\t\t\t\thandlerWrapperClassNames={handlerWrapperClassNames}\n\t\t\t\t\t\tlines={lines}\n\t\t\t\t\t\tlineComponent={lineComponent}\n\t\t\t\t\t\tlineClassNames={lineClassNames}\n\t\t\t\t\t\tlineWrapperClassNames={lineWrapperClassNames}\n\t\t\t\t\t\tonResize={onResize}\n\t\t\t\t\t\tonResizeEnd={onResizeEnd}\n\t\t\t\t\t\tdisabled={!resizable}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\tdisabled={!movable}\n\t\t\t\t\t\t\tonMove={onMove}\n\t\t\t\t\t\t\tonMoveEnd={onMoveEnd}\n\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__draggable-area', draggableAreaClassName)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StencilOverlay\n\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__overlay', overlayClassName)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{grid && (\n\t\t\t\t\t\t\t\t\t<StencilGrid\n\t\t\t\t\t\t\t\t\t\tvisible={cropper.hasInteractions()}\n\t\t\t\t\t\t\t\t\t\tcolumns={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\trows={interactions.transformImage.rotate ? 9 : 3}\n\t\t\t\t\t\t\t\t\t\tclassName={cn('advanced-cropper-circle-stencil__grid', gridClassName)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className={cn('advanced-cropper-circle-stencil__preview', previewClassName)} />\n\t\t\t\t\t\t\t</StencilOverlay>\n\t\t\t\t\t\t</DraggableArea>\n\t\t\t\t\t</BoundingBox>\n\t\t\t\t</StencilWrapper>\n\t\t\t)\n\t\t);\n\t},\n);\n\nCircleStencil.displayName = 'CircleStencil';\n","import React, { useLayoutEffect, useRef, useState } from 'react';\nimport cn from 'classnames';\nimport {\n\tCropperImage,\n\tCropperState,\n\tCropperTransitions,\n\tSize,\n\tgetPreviewStyle,\n\tisLower,\n\tratio,\n\tstretchPreviewBoundary,\n} from 'advanced-cropper';\nimport { StretchableBoundary, StretchableBoundaryMethods } from '../service/StretchableBoundary';\nimport { useWindowResize } from '../../hooks/useWindowResize';\n\ninterface Props {\n\tstate: CropperState | null;\n\timage: CropperImage | null;\n\ttransitions?: CropperTransitions | null;\n\tclassName?: string;\n\timageClassName?: string;\n\tcontentClassName?: string;\n}\n\nexport const CropperPreview = ({\n\tclassName,\n\tcontentClassName,\n\timageClassName,\n\tstate,\n\timage,\n\ttransitions = null,\n}: Props) => {\n\tconst boundaryRef = useRef<StretchableBoundaryMethods>(null);\n\n\tconst [size, setSize] = useState<Size | null>(null);\n\n\tconst [coefficient, setCoefficient] = useState(1);\n\n\tconst imageStyle =\n\t\tstate && state.coordinates && image && size ? getPreviewStyle(image, state, coefficient, transitions) : {};\n\n\tconst contentStyle = size\n\t\t? {\n\t\t\t\twidth: `${size.width}px`,\n\t\t\t\theight: `${size.height}px`,\n\t\t  }\n\t\t: {};\n\n\tconst refresh = () => {\n\t\tif (boundaryRef.current && state?.coordinates) {\n\t\t\tboundaryRef.current.stretchTo(state.coordinates).then((size) => {\n\t\t\t\tif (size && state.coordinates) {\n\t\t\t\t\tif (!isLower(ratio(state.coordinates), ratio(size))) {\n\t\t\t\t\t\tsetSize({\n\t\t\t\t\t\t\twidth: size.width,\n\t\t\t\t\t\t\theight: size.width / ratio(state.coordinates),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetCoefficient(state.coordinates.width / size.width);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetSize({\n\t\t\t\t\t\t\twidth: size.height * ratio(state.coordinates),\n\t\t\t\t\t\t\theight: size.height,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetCoefficient(state.coordinates.height / size.height);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetSize(null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tuseWindowResize(refresh);\n\n\tuseLayoutEffect(() => {\n\t\tif (state?.coordinates) {\n\t\t\trefresh();\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [image?.src, state?.coordinates]);\n\n\treturn (\n\t\t<StretchableBoundary\n\t\t\tref={boundaryRef}\n\t\t\tstretchAlgorithm={stretchPreviewBoundary}\n\t\t\tclassName={cn(className, 'advanced-cropper-preview')}\n\t\t>\n\t\t\t<div className={cn(contentClassName, 'advanced-cropper-preview__content')} style={contentStyle}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={image ? image.src : undefined}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\timageClassName,\n\t\t\t\t\t\t'advanced-cropper-preview__image',\n\t\t\t\t\t\timage && image.src && 'advanced-cropper-preview__image--visible',\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={imageStyle}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</StretchableBoundary>\n\t);\n};\n"],"names":["HORIZONTAL_DIRECTIONS","VERTICAL_DIRECTIONS","__assign","ImageRestriction","Priority","SetCoordinatesMode","defaultSize","AbstractCropper","__extends","__rest","forwardRef","useRef","useEffect","__read","useState","useLayoutEffect","useImperativeHandle","React","cn","__spreadArray","createRef","Component","classnames","useMemo","DraggableArea"],"mappings":"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"}
## Example usage

### 1. Get configuration
```javascript
function getConfigs(
  {String} returnType='obj',
  {String} service=process.env.npm_package_name
): Promise<Object|String>
```
**parameters**
- service: service name
- returnType: `obj` return object, `raw` return raw string
> example
```javascript
const configs = require('@ggj/configs')

configs.getConfigs(
    'raw'         /* return raw string, default is obj*/
    'gogo.api.ja' /* service name is gogo.api.ja */,
).then(data  => {
    console.log(data)
})

```

### 2. Get database configuration
```javascript
function getDbConfigs({Array} dbNames, {Boolean} autoSet=false): Promise<Object>
```
**parameters**
- dbNames: A list contain database names
- autoSet: If true, set the received result into environment variables

> example

```javascript
const configs = require('@ggj/configs')

configs.getDbConfigs(
    ['fx_account', 'privacy', 'surface'] /* database list ALL DB MUST BE VALID */,
    true                                 /* auto set env variable*/
).then(data => {
    console.log(data)
    // Object data
})
```

### 3. Get Common configuration
```javascript
function getCommonConfigs({Array} names, {Boolean} autoSet=false): Promise<Object>
```
**parameters**
- names: A list contain common config names
- autoSet: If true, set the received result into environment variables

> example

```javascript
const configs = require('@ggj/configs')

configs.getCommonConfigs(
    ['FX_ON_URL', 'GOGOJUNGLE_URL', 'GOGO_DOMAIN'] /* list ALL COMMON CONFIG MUST BE VALID */,
    true                                 /* auto set env variable*/
).then(data => {
    console.log(data)
    // Object data: key value pairs
})
```

### 4. Set environment variables
`function setEnvVariables({Object} configs): void`
**parameters**
- configs: key value pairs

```javascript
const configs = require('@ggj/configs')

configs.getConfigs(
    'obj',         /* return object */
    'gogo.api.ja' /* service name is gogo.api.ja */,
).then(data  => {
    configs.setEnvVariables(data)

    console.log(process.env) // check the effect
})
```

### 5. Set common environment variables
`function setCommonEnvVariables({Object} configs): void`
**parameters**
- configs: key value pairs

```javascript
const configs = require('@ggj/configs')
process.env.IS_AWS_CONFIG = 1 // Flag to get config from AWS `AppConfig` OR `Parameter Store`

configs.getCommonConfigs(
    'obj',         /* return object */
    'gogo.api.ja' /* service name is gogo.api.ja */,
).then(data  => {
    configs.setCommonEnvVariables(data)

    console.log(process.env) // check the effect
})
```

**Note**

----
Beware that `getConfigs()` and `getDbConfigs()` are asynchronous functions
You should put your `start app function` as a callback
> example
```javascript
const configs = require('@ggj/configs')

function boot(app, port) {
  /*
  Some magic code make your ${app} start listening on ${port}
  */
}

configs.getConfigs().then(value => {
  // Set the config first
  configs.setEnvVariables(value)

  // Your app start here
  boot(require('app'), port)
})
```
> example 2
```javascript
const configs = require('@ggj/configs')

function boot(app, port) {
  /*
  Some magic code make your ${app} start listening on ${port}
  */
}

async function start() {
    // Get configs first
    const [envConfigs, dbconfigs] = await Promise.all([
        configs.getConfigs()
        configs.getDbConfigs(
            ['some databases'] /* your database list */,
            true               /* auto set */
        )
    ])

    configs.setEnvVariables(envConfigs)

    // Then boot your application
    boot(require('app'), port)
}

start()

```
